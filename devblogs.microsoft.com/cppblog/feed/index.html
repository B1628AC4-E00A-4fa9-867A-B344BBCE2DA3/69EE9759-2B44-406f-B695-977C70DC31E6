<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>C++ Team Blog</title>
	<atom:link href="https://devblogs.microsoft.com/cppblog/feed/" rel="self" type="application/rss+xml" />
	<link>https://devblogs.microsoft.com/cppblog/</link>
	<description>The latest in C++, Visual Studio, VS Code, and vcpkg from the MSFT C++ team</description>
	<lastBuildDate>Thu, 06 Mar 2025 09:36:54 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	

<image>
	<url>https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2018/10/Microsoft-Favicon.png</url>
	<title>C++ Team Blog</title>
	<link>https://devblogs.microsoft.com/cppblog/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Announcing Guidelines Support Library v4.2.0</title>
		<link>https://devblogs.microsoft.com/cppblog/announcing-guidelines-support-library-v4-2-0/</link>
					<comments>https://devblogs.microsoft.com/cppblog/announcing-guidelines-support-library-v4-2-0/#respond</comments>
		
		<dc:creator><![CDATA[Carson Radtke]]></dc:creator>
		<pubDate>Thu, 06 Mar 2025 09:36:54 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35183</guid>

					<description><![CDATA[<p>Version 4.2.0 of Microsoft's Guidelines Support Library brings performance improvements, safety features, modern compiler support.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/announcing-guidelines-support-library-v4-2-0/">Announcing Guidelines Support Library v4.2.0</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><em>GSL is an implementation of the Guidelines Support Library specified by the
<a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines">C++ Core Guidelines</a>.
It provides types and functions that help C++ developers write safer, more maintainable
code while following modern C++ best practices.</em></p>
<p>We are excited to announce the release of GSL v4.2.0! This release brings significant
performance improvements, new features, and important updates that align GSL with modern
C++ standards.</p>
<h2>Performance Boost for Span Iterator</h2>
<p>One of the most notable changes in this release is the significant performance
improvements of <code>span_iterator</code> when using the Clang compiler. Previously, <code>gsl::span</code>
iterators could be up to 20 times slower than <code>std::span</code> under various workloads
(range-for, <code>&lt;algorithm&gt;</code>, etc.). Through reorganization of the code and moving
access-checks out of the hot path, we have achieved performance parity for most
workloads (see <a href="https://github.com/Microsoft/GSL/issues/1168">#1168</a>). This
ABI-preserving improvement makes <code>gsl::span</code> a more practical choice for code that is
both safe and fast.</p>
<h2>New Features and Improvements</h2>
<p>As the C++ Core Guidelines evolve with modern C++ practices, GSL continues to adapt and
grow. Working closely with the community, we&#8217;ve implemented key enhancements that make
GSL more robust and easier to use in modern C++ codebases. These updates focus on type
safety, modern idioms, and better template support — areas crucial for production
code. Here are some of the key improvements since version 4.1.0:</p>
<ul>
<li><strong>GSL Swap Support</strong>: Introduced <code>gsl::swap</code> specifically designed for safely swapping
<code>gsl::not_null</code> pointers</li>
<li><strong>Enhanced Type Traits</strong>: Added <code>element_type</code> to <code>gsl::not_null&lt;T&gt;</code> for better type
trait consistency</li>
<li><strong>Improved Smart Pointer Support</strong>: Added support for <code>strict_not_null</code> with
<code>unique_ptr</code></li>
<li><strong>Better SFINAE</strong>: Improved template substitution behavior throughout the library</li>
</ul>
<h2>Alignment with C++ Standards</h2>
<p>As part of our commitment to keeping GSL aligned with modern C++ development, we are
deprecating features that have been adopted into the C++ standard library. We recommend
using the C++ standard library equivalents for these features when possible. Here are
the features that have been deprecated in this release:</p>
<ul>
<li><code>gsl::unique_ptr</code></li>
<li><code>gsl::shared_ptr</code></li>
<li><code>gsl::byte</code> (for C++17 and later)</li>
</ul>
<p>Additionally, we have removed the long-deprecated <code>string_span</code> feature, encouraging
users to migrate to <code>std::string_view</code>.</p>
<p><strong>Note:</strong> We continue to recommend using <code>gsl::span</code> as a safer alternative to
<code>std::span</code>.</p>
<h2>Compatibility Updates</h2>
<p>We want to make sure GSL runs well on the latest compilers and modern operating systems.
To that end, we have modernized our build infrastructure to validate that GSL is
supported by the latest development environments:</p>
<ul>
<li>Updated compiler support to include Clang 16 to 18 and GCC 12 to 14</li>
<li>Upgraded to Ubuntu 24.04 in our CI pipeline</li>
</ul>
<p>More information about our supported platforms can be found in our
<a href="https://github.com/Microsoft/GSL/blob/main/README.md">README</a>.</p>
<h2>Bug Fixes and Standards Compliance</h2>
<p>Several important bugs have been fixed in this release:</p>
<ul>
<li>Resolved a GCC-specific issue with list initialization of const references</li>
<li>Fixed SFINAE implementation in <code>gsl::owner</code></li>
<li>Improved include directive handling to prevent conflicts with standard library headers</li>
<li>Updated include paths to comply with C++ Core Guidelines</li>
</ul>
<h2>Try It Out</h2>
<p>To start using GSL v4.2.0, you can either:</p>
<ol>
<li>Install via vcpkg: <code>vcpkg install ms-gsl</code></li>
<li>Download from GitHub:
<a href="https://github.com/microsoft/GSL/releases/tag/v4.2.0">microsoft/GSL</a></li>
</ol>
<p>For detailed release notes and migration guidance, please visit our
<a href="https://github.com/microsoft/GSL/releases">GitHub repository</a>.</p>
<h2>Contributing to GSL</h2>
<p>This release would not have been possible without our community contributors. Special
thanks to the following individuals for their valuable contributions:</p>
<ul>
<li><a href="https://github.com/ajtruckle">@ajtruckle</a></li>
<li><a href="https://github.com/apenn-msft">@apenn-msft</a></li>
<li><a href="https://github.com/asartori86">@asartori86</a></li>
<li><a href="https://github.com/beinhaerter">@beinhaerter</a></li>
<li><a href="https://github.com/daltairwalter">@daltairwalter</a></li>
<li><a href="https://github.com/DanielJump">@DanielJump</a></li>
<li><a href="https://github.com/HenryHu">@HenryHu</a></li>
<li><a href="https://github.com/lord-pando">@lord-pando</a></li>
<li><a href="https://github.com/mhthies">@mhthies</a></li>
<li><a href="https://github.com/paparodeo">@paparodeo</a></li>
<li><a href="https://github.com/tiagomacarios">@tiagomacarios</a></li>
</ul>
<p>If you wish to contribute to GSL, please refer to our open issues and pull requests in
the <a href="https://github.com/microsoft/GSL">Microsoft/GSL</a> repository on GitHub. We welcome
your feedback and contributions!</p>
<p><em>Please remember to follow our
<a href="https://opensource.microsoft.com/codeofconduct">Code of Conduct</a> when contributing to
GSL.</em></p>
<h2>Feedback</h2>
<p>In addition to contributing, we would love to hear your thoughts on the latest updates
to GSL! Please share your feedback and suggestions in the comments below.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/announcing-guidelines-support-library-v4-2-0/">Announcing Guidelines Support Library v4.2.0</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/announcing-guidelines-support-library-v4-2-0/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>What’s New in vcpkg (February 2025): Package installation performance, new tested triplet, and more</title>
		<link>https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-february-2025-package-installation-performance-new-tested-triplet-and-more/</link>
					<comments>https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-february-2025-package-installation-performance-new-tested-triplet-and-more/#respond</comments>
		
		<dc:creator><![CDATA[Augustin Popa]]></dc:creator>
		<pubDate>Thu, 27 Feb 2025 23:20:38 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Vcpkg]]></category>
		<category><![CDATA[vcpkg]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35175</guid>

					<description><![CDATA[<p>This blog post summarizes changes to the vcpkg package manager as part of the 2025.02.14 registry release, 2025-02-11, 2025-01-29, 2025-01-24, and 2025-01-20 tool releases, as well as changes to vcpkg documentation throughout February. This release includes significant performance improvements when installing packages, a new tested triplet (x64-windows-release), an overhaul of how vcpkg handles some downloads [&#8230;]</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-february-2025-package-installation-performance-new-tested-triplet-and-more/">What’s New in vcpkg (February 2025): Package installation performance, new tested triplet, and more</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>This blog post summarizes changes to the <a href="https://vcpkg.io/">vcpkg package manager</a> as part of the <a href="https://github.com/microsoft/vcpkg/releases/tag/2025.02.14">2025.02.14</a> registry release, <a href="https://github.com/microsoft/vcpkg-tool/releases/tag/2025-02-11">2025-02-11</a>, <a href="https://github.com/microsoft/vcpkg-tool/releases/tag/2025-01-29"> 2025-01-29</a>, <a href="https://github.com/microsoft/vcpkg-tool/releases/tag/2025-01-24">2025-01-24</a>, and <a href="https://github.com/microsoft/vcpkg-tool/releases/tag/2025-01-20">2025-01-20</a> tool releases, as well as changes to <a href="https://learn.microsoft.com/vcpkg/">vcpkg documentation</a> throughout February. This release includes significant performance improvements when installing packages, a new tested triplet (x64-windows-release), an overhaul of how vcpkg handles some downloads and console output, and bug fixes. In terms of documentation, there are improvements to our maintainer guide, registries articles, and versioning articles, among others.</p>
<p>Some stats for this period:</p>
<ul>
<li>There are now <strong>2,558 total ports </strong>available in the vcpkg curated registry. A <a href="https://learn.microsoft.com/en-us/vcpkg/concepts/ports">port is a versioned recipe</a> for building a package from source, such as a C or C++ library.</li>
<li><strong>38 new ports</strong> were added to the curated registry.</li>
<li><strong>314 updates</strong> were made to existing ports. As always, we validate each change to a port by building all other ports that depend on or are depended by the library that is being updated for our 13 main <a href="https://learn.microsoft.com/en-us/vcpkg/concepts/triplets">triplets</a>.</li>
<li><strong>100 </strong>community contributors made commits.</li>
<li>The main vcpkg repo has over <strong>6,600 forks</strong> and <strong>24,000 stars</strong> on GitHub.</li>
</ul>
<h2>vcpkg changelog (2025.02.14 release)</h2>
<p>The following notable changes were made in February:</p>
<ul>
<li>Our community contributor, autoantwort, worked on a PR to improve package installation performance by optimizing some binary caching actions. The table below displays the change in our CI run times when building all ports for all tested triplets as a result of this improvement (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/908">Microsoft/vcpkg-tool#908</a>, thanks @autoantwort!).</li>
</ul>
<table>
<tbody>
<tr>
<td><strong>Triplet</strong></td>
<td><strong>Old Time (mins)</strong></td>
<td><strong>New Time (mins)</strong></td>
<td><strong>Time Saved (%)</strong></td>
</tr>
<tr>
<td>x86-windows</td>
<td>
<p style="text-align: center;">1661</p>
</td>
<td style="text-align: center;">1530</td>
<td style="text-align: center;"><strong>8%</strong></td>
</tr>
<tr>
<td>x64-windows</td>
<td style="text-align: center;">2009</td>
<td style="text-align: center;">1900</td>
<td style="text-align: center;"><strong>5%</strong></td>
</tr>
<tr>
<td>x64-windows-static</td>
<td style="text-align: center;">1948</td>
<td style="text-align: center;">1550</td>
<td style="text-align: center;"><strong>20%</strong></td>
</tr>
<tr>
<td>x64-windows-static-md</td>
<td style="text-align: center;">1878</td>
<td style="text-align: center;">1622</td>
<td style="text-align: center;"><strong>14%</strong></td>
</tr>
<tr>
<td>x64-uwp</td>
<td style="text-align: center;">369</td>
<td style="text-align: center;">333</td>
<td style="text-align: center;"><strong>10%</strong></td>
</tr>
<tr>
<td>arm64-windows</td>
<td style="text-align: center;">1145</td>
<td style="text-align: center;">1138</td>
<td style="text-align: center;"><strong>1%</strong></td>
</tr>
<tr>
<td>arm64-windows-static-md</td>
<td style="text-align: center;">1197</td>
<td style="text-align: center;">1055</td>
<td style="text-align: center;"><strong>12%</strong></td>
</tr>
<tr>
<td>arm64-uwp</td>
<td style="text-align: center;">355</td>
<td style="text-align: center;">333</td>
<td style="text-align: center;"><strong>6%</strong></td>
</tr>
<tr>
<td>x64-osx</td>
<td style="text-align: center;">2522</td>
<td style="text-align: center;">2109</td>
<td style="text-align: center;"><strong>16%</strong></td>
</tr>
<tr>
<td>arm64-osx</td>
<td style="text-align: center;">961</td>
<td style="text-align: center;">837</td>
<td style="text-align: center;"><strong>13%</strong></td>
</tr>
<tr>
<td>x64-linux</td>
<td style="text-align: center;">1278</td>
<td style="text-align: center;">1003</td>
<td style="text-align: center;"><strong>22%</strong></td>
</tr>
<tr>
<td>arm-neon-android</td>
<td style="text-align: center;">309</td>
<td style="text-align: center;">262</td>
<td style="text-align: center;"><strong>15%</strong></td>
</tr>
<tr>
<td>x64-android</td>
<td style="text-align: center;">342</td>
<td style="text-align: center;">285</td>
<td style="text-align: center;"><strong>17%</strong></td>
</tr>
<tr>
<td>arm64-android</td>
<td style="text-align: center;">346</td>
<td style="text-align: center;">290</td>
<td style="text-align: center;"><strong>16%</strong></td>
</tr>
</tbody>
</table>
<ul>
<li>The x64-windows-release community triplet has been promoted to a tested triplet, which means it is now subject to our regular continuous integration runs to verify ongoing package compatibility. An entry has been added to the <strong>Total ports available for tested triplets</strong> section below and will continue to be included in future release blog posts (PR: <a href="https://github.com/microsoft/vcpkg/pull/43555">Microsoft/vcpkg#43555</a>).</li>
<li>Overhauled downloads handling and console output to fix many longstanding bugs and reduce confusion (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1565">Microsoft/vcpkg-tool#1565</a>). More specifically:
<ul>
<li>No longer print an error when an asset cache misses but the authoritative download succeeds.</li>
<li>Now always and consistently print output from x-script at the time that actually happens.</li>
<li>No longer output a message claiming that proxy settings might fix a hash mismatch problem.</li>
<li>Now output a message that proxy settings might fix a download from asset cache problem.</li>
<li>Now always output the full command line that was attempted when invoking an x-script that failed.</li>
<li>Fixed a crash that occurred when an x-script doesn’t create the file vcpkg expects or creates a file with the wrong hash.</li>
<li>Now always print what vcpkg is doing before touching the network, so if vcpkg hangs, the user will know which server is being problematic. This includes storing back to asset caches.</li>
<li>Removed misleading debug output about asset cache configuration.</li>
</ul>
</li>
<li>A new file, <code>manifest-info.json</code>now gets generated in the <code>vcpkg_installed</code> folder for projects using a manifest (vcpkg.json). This file contains the absolute path to the manifest file that was used to generate the <code>vcpkg_installed</code> tree. Can be used for debugging purposes (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1568">Microsoft/vcpkg-tool#1568</a>).</li>
<li>The experimental <code>--x-use-aria2</code> option has been removed as it has not worked for several releases and download support in the rest of the product has matured substantially (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1582">Microsoft/vcpkg-tool#1582</a>).</li>
<li>Removed a misleading warning message that appeared when building ARM64EC packages with x64 upstream dependencies. ARM64EC also supports x64 binaries (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1581">Microsoft/vcpkg-tool#1581</a>).</li>
<li>Added a missing error message when attempting to install ports with multiple overrides set for the same port (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1573">Microsoft/vcpkg-tool#1573</a>).</li>
<li>Fixed a bug with the GitHub Actions binary cache (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1572">Microsoft/vcpkg-tool#1572</a>, thanks @j-mie!).</li>
<li>Other minor bug fixes.</li>
</ul>
<h2>Documentation changes</h2>
<ul>
<li>Added definition for “Registry” in the <a href="https://learn.microsoft.com/vcpkg/concepts/glossary">Glossary</a> (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/444">Microsoft/vcpkg-docs#444</a>).</li>
<li>Fixed errors in examples of <code>VCPKG_USE_HOST_TOOLS</code> and <code>CMakeUserPresets.json</code> (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/444">Microsoft/vcpkg-docs#444</a>).</li>
<li>Added entry for PowerShell version in the ABI hash keys (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/444">Microsoft/vcpkg-docs#444</a>).</li>
<li><a href="https://learn.microsoft.com/vcpkg/users/versioning">Versioning reference</a> article:
<ul>
<li>Added clarification that only one override for a given package name is allowed (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/438">Microsoft/vcpkg-docs#438</a>).</li>
<li>Reworded the definition of a baseline for improved clarity (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/427">Microsoft/vcpkg-docs#427</a>, thanks @Filoppi!).</li>
</ul>
</li>
<li>Maintainer function <a href="https://learn.microsoft.com/vcpkg/maintainers/functions/vcpkg_check_linkage">vcpkg_check_linkage</a>,
<ul>
<li>Added clarifications for <code>ONLY_DYNAMIC_LIBRARY</code> failures and supports expressions (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/432">Microsoft/vcpkg-docs#432</a>).</li>
<li>Fixed typo for <code>staticcrt</code> in a supports expression (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/446">Microsoft/vcpkg-docs#446</a>, thanks @dg0yt!).</li>
</ul>
</li>
<li><a href="https://learn.microsoft.com/vcpkg/concepts/registries">Registries concepts</a>, <a href="https://learn.microsoft.com/vcpkg/maintainers/registries">registries reference</a>, and <a href="https://learn.microsoft.com/vcpkg/reference/vcpkg-configuration-json">vcpkg-configuration.json reference</a>:
<ul>
<li>In registries concepts, added sections for directory structure, versions database, built-in registry, obtaining a git-tree SHA, and best practices.</li>
<li>In registries reference, removed conceptual sections and added JSON schema documentation for baseline.json and version files.</li>
<li>Various wording improvements across the three articles.</li>
<li>PRs: <a href="https://github.com/microsoft/vcpkg-docs/pull/429">Microsoft/vcpkg-docs#429</a>, <a href="https://github.com/microsoft/vcpkg-docs/pull/442">Microsoft/vcpkg-docs#442</a>, <a href="https://github.com/microsoft/vcpkg-docs/pull/448">Microsoft/vcpkg-docs#448</a>, thanks @bansan85!</li>
</ul>
</li>
<li>In the <a href="https://learn.microsoft.com/vcpkg/contributing/maintainer-guide">maintainer guide</a>:
<ul>
<li>Expanded on the rule about splitting out and separately packaging dependencies rather than vendoring them, for improved clarity (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/433">Microsoft/vcpkg-docs#433</a>).</li>
<li>Added rules for using lowercase hexadecimal digits strings in certain scenarios (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/443">Microsoft/vcpkg-docs#443</a>).</li>
</ul>
</li>
<li>In the <a href="https://learn.microsoft.com/vcpkg/users/authentication">remote authentication</a> article, added references to <code>vcpkg_from_gitlab()</code> where appropriate (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/436">Microsoft/vcpkg-docs#436</a>, thanks @malaterre!).</li>
<li>Removed documentation for experimental option <code>--x-use-aria2</code>, which is no longer supported (PR: <a href="https://github.com/microsoft/vcpkg-docs/pull/441">Microsoft/vcpkg-docs#441</a>).</li>
</ul>
<p>If you have any suggestions for our documentation, please <a href="https://github.com/microsoft/vcpkg-docs/issues">submit an issue in our GitHub repo</a> or see the box at the bottom of a particular article.</p>
<p><img fetchpriority="high" decoding="async" class="wp-image-35177" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35175-1.png" width="691" height="203" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35175-1.png 1099w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35175-1-300x88.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35175-1-1024x301.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35175-1-768x226.png 768w" sizes="(max-width: 691px) 100vw, 691px" /></p>
<h2>Total ports available for tested triplets</h2>
<table>
<tbody>
<tr>
<td><strong>triplet</strong></td>
<td><strong>ports available</strong></td>
</tr>
<tr>
<td>x64-windows</td>
<td style="text-align: center;">2,457</td>
</tr>
<tr>
<td>x86-windows</td>
<td style="text-align: center;">2,344</td>
</tr>
<tr>
<td>x64-windows-release</td>
<td style="text-align: center;">2,458</td>
</tr>
<tr>
<td>x64-windows-static</td>
<td style="text-align: center;">2,323</td>
</tr>
<tr>
<td>x64-windows-static-md</td>
<td style="text-align: center;">2,374</td>
</tr>
<tr>
<td>arm64-windows</td>
<td style="text-align: center;">2,058</td>
</tr>
<tr>
<td>arm64-windows-static-md</td>
<td style="text-align: center;">2,037</td>
</tr>
<tr>
<td>x64-uwp</td>
<td style="text-align: center;">1,372</td>
</tr>
<tr>
<td>arm64-uwp</td>
<td style="text-align: center;">1,337</td>
</tr>
<tr>
<td>x64-linux</td>
<td style="text-align: center;">2,435</td>
</tr>
<tr>
<td>x64-osx</td>
<td style="text-align: center;">2,308</td>
</tr>
<tr>
<td>arm64-osx</td>
<td style="text-align: center;">2,231</td>
</tr>
<tr>
<td>arm-neon-android</td>
<td style="text-align: center;">1,719</td>
</tr>
<tr>
<td>x64-android</td>
<td style="text-align: center;">1,791</td>
</tr>
<tr>
<td>arm64-android</td>
<td style="text-align: center;">1,761</td>
</tr>
</tbody>
</table>
<p>While vcpkg supports a much larger variety of target platforms and architectures (as <a href="https://github.com/microsoft/vcpkg/tree/master/triplets/community">community triplets</a>), the list above is validated exhaustively to ensure updated ports don’t break other ports in the catalog.</p>
<h2>Thank you to our contributors</h2>
<p>vcpkg couldn’t be where it is today without contributions from our open-source community. Thank you for your continued support! The following people contributed to the <a href="https://github.com/microsoft/vcpkg">vcpkg</a>, <a href="https://github.com/microsoft/vcpkg-tool">vcpkg-tool</a>, or <a href="https://github.com/microsoft/vcpkg-docs">vcpkg-docs</a> repos in this release (listed alphabetically by GitHub username):</p>
<table>
<tbody>
<tr>
<td>aabellagm</td>
<td>AenBleidd</td>
<td>Agorath</td>
</tr>
<tr>
<td>ajtribick</td>
<td>alfredh</td>
<td>amoeba</td>
</tr>
<tr>
<td>ArashPartow</td>
<td>autoantwort</td>
<td>azure-sdk</td>
</tr>
<tr>
<td>bansan85</td>
<td>BewareMyPower</td>
<td>BrandenXia</td>
</tr>
<tr>
<td>buck-yeh</td>
<td>Bushidosan</td>
<td>bwrsandman</td>
</tr>
<tr>
<td>bzindovic</td>
<td>c8ef</td>
<td>carlo-bramini</td>
</tr>
<tr>
<td>cenit</td>
<td>ChristianPanov</td>
<td>culhatsker</td>
</tr>
<tr>
<td>dalle</td>
<td>daniele77</td>
<td>daschuer</td>
</tr>
<tr>
<td>dbolduc</td>
<td>deshanxiao</td>
<td>dg0yt</td>
</tr>
<tr>
<td>dpogue</td>
<td>Dynamitos</td>
<td>eao197</td>
</tr>
<tr>
<td>EfesX</td>
<td>ethanmusser</td>
<td>faserg1</td>
</tr>
<tr>
<td>farindk</td>
<td>Filoppi</td>
<td>fran6co</td>
</tr>
<tr>
<td>greg7mdp</td>
<td>helynranta</td>
<td>Honeybunch</td>
</tr>
<tr>
<td>IldarKhayrutdinov</td>
<td>ilya-lavrenov</td>
<td>j-mie</td>
</tr>
<tr>
<td>jackjansen</td>
<td>jgillis</td>
<td>Jhuighuy</td>
</tr>
<tr>
<td>jmcnamara</td>
<td>JoergAtGithub</td>
<td>jreichel-nvidia</td>
</tr>
<tr>
<td>Kblaschke</td>
<td>kduske</td>
<td>kimidaisuki22</td>
</tr>
<tr>
<td>lukasberbuer</td>
<td>luncliff</td>
<td>m-kuhn</td>
</tr>
<tr>
<td>malaterre</td>
<td>michaelmigliore</td>
<td>mingxwa</td>
</tr>
<tr>
<td>miyanyan</td>
<td>mkhon</td>
<td>moritz-h</td>
</tr>
<tr>
<td>mstorsjo</td>
<td>mtmk</td>
<td>Neumann-A</td>
</tr>
<tr>
<td>nickdademo</td>
<td>noahknegt</td>
<td>ohhmm</td>
</tr>
<tr>
<td>oleg-derevenetz</td>
<td>Olli1080</td>
<td>Osyotr</td>
</tr>
<tr>
<td>paperchalice</td>
<td>PavelKisliak</td>
<td>Podsvirov</td>
</tr>
<tr>
<td>pozemka</td>
<td>redboltz</td>
<td>reinder</td>
</tr>
<tr>
<td>rremilian</td>
<td>RT2Code</td>
<td>rtzoeller</td>
</tr>
<tr>
<td>sargunv</td>
<td>scotthart</td>
<td>shybovycha</td>
</tr>
<tr>
<td>SunBlack</td>
<td>sweemer</td>
<td>T3RR7</td>
</tr>
<tr>
<td>talregev</td>
<td>tarcila</td>
<td>tartanpaint</td>
</tr>
<tr>
<td>Thomas1664</td>
<td>ThomsonTan</td>
<td>toge</td>
</tr>
<tr>
<td>tomconder</td>
<td>trueqbit</td>
<td>tueda</td>
</tr>
<tr>
<td>valgur</td>
<td>walbourn</td>
<td>waruto210</td>
</tr>
<tr>
<td>waywardmonkeys</td>
<td>wikiw91</td>
<td>ytnuf</td>
</tr>
<tr>
<td>zhcn000000</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2>Learn more</h2>
<p>You can find the <a href="https://github.com/microsoft/vcpkg/releases">main release notes</a> on GitHub. Recent updates to the vcpkg tool can be viewed on the <a href="https://github.com/microsoft/vcpkg-tool/releases">vcpkg-tool Releases page</a>. To contribute to vcpkg documentation, visit the <a href="https://github.com/microsoft/vcpkg-docs">vcpkg-docs repo</a>. If you’re new to vcpkg or curious about how a package manager can make your life easier as a C/C++ developer, check out the <a href="https://vcpkg.io">vcpkg website – vcpkg.io</a>.</p>
<p>If you would like to contribute to vcpkg and its library catalog, or want to give us feedback on anything, check out our <a href="https://github.com/microsoft/vcpkg">GitHub repo</a>. Please report bugs or request updates to ports in our <a href="https://github.com/microsoft/vcpkg/issues">issue tracker</a> or join more general discussion in our <a href="https://github.com/microsoft/vcpkg/discussions">discussion forum</a>.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-february-2025-package-installation-performance-new-tested-triplet-and-more/">What’s New in vcpkg (February 2025): Package installation performance, new tested triplet, and more</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-february-2025-package-installation-performance-new-tested-triplet-and-more/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>std::generator: Standard Library Coroutine Support</title>
		<link>https://devblogs.microsoft.com/cppblog/std-generator-standard-library-coroutine-support/</link>
					<comments>https://devblogs.microsoft.com/cppblog/std-generator-standard-library-coroutine-support/#respond</comments>
		
		<dc:creator><![CDATA[Sy Brand]]></dc:creator>
		<pubDate>Mon, 24 Feb 2025 17:03:51 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Coroutine]]></category>
		<category><![CDATA[General C++ Series]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35153</guid>

					<description><![CDATA[<p>std::generator is a C++23 feature that enables you to write concise, straightforward functions that generate sequences of values on-demand without manually managing state. It builds upon C++20’s coroutines, providing some standard library support for this powerful, but complex, language feature. As of Visual Studio 2022 version 17.13, we ship an implementation of std::generator in our [&#8230;]</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/std-generator-standard-library-coroutine-support/">std::generator: Standard Library Coroutine Support</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><code><a href="https://en.cppreference.com/w/cpp/coroutine/generator">std::generator</a></code> is a C++23 feature that enables you to write concise, straightforward functions that generate sequences of values on-demand without manually managing state. It builds upon C++20’s <a href="https://en.cppreference.com/w/cpp/language/coroutines">coroutines</a>, providing some standard library support for this powerful, but complex, language feature. As of Visual Studio 2022 version 17.13, we ship an implementation of <code>std::generator</code> in our <a href="https://github.com/microsoft/STL/wiki/Changelog#vs-2022-1713">standard library</a>.</p>
<p>This blog post will walk through an example of how to use the feature, compare it to implementing custom ranges, consider some of the design decisions made, and briefly look at the performance implications.</p>
<h2>Motivating Example</h2>
<p>Here’s a short motivating example from <a href="https://wg21.link/p2502r2">P2502</a>, which proposed the feature:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::generator&lt;int&gt; fibonacci() {
    int a = 0, b = 1;
    while (true) {
        co_yield std::exchange(a, std::exchange(b, a + b));
    }
}

int answer_to_the_universe() {
    auto rng = fibonacci() | std::views::drop(6) | std::views::take(3);
    return std::ranges::fold_left(std::move(rng), 0, std::plus{});
}</code></pre>
<p>Here, <code>fibonacci</code> is a coroutine, because it uses the <code>co_yield</code> keyword. Coroutines are a generalization of a subroutine. A subroutine begins its execution when it is called and completes its execution when it returns to the caller (forgetting about things like exceptions for simplicity). A coroutine’s execution similarly begins when it is called, but it need not complete execution to return control flow back to the caller: it can <em>suspend</em> its execution and be resumed later.</p>
<p>Note that, in the above example, <code>fibonacci</code> contains an infinite loop. This is not a problem, because when the <code>co_yield</code> statement is executed, the coroutine <em>yields</em> both control flow and a value back to the caller, suspending the coroutine&#8217;s execution. <code><a href="https://en.cppreference.com/w/cpp/utility/exchange">std::exchange</a></code> is a small helper utility that assigns a new value to a variable and returns the old one.</p>
<p>The behavior of operations like <code>co_yield</code> in a coroutine are determined by the coroutine’s return type, in this case <code>std::generator</code>.</p>
<p>The <code>answer_to_the_universe</code> function uses the <code>std::generator</code> object returned by <code>fibonacci</code> in tandem with range adaptors. It <em>pipes</em> the generator into two range adaptors. The first says to drop the first 6 elements from the range, while the second says to take the next 3 elements. Note that these range adaptors are not executed eagerly; elements are only dropped or taken when a value is requested from the resulting range.</p>
<p>After building a range to operate on, the <code>answer_to_the_universe</code> function sums the values in the range using the <a href="https://en.cppreference.com/w/cpp/algorithm/ranges/fold_left"><code>std::ranges::fold_left</code></a> algorithm. This is a range-based version of <a href="https://en.cppreference.com/w/cpp/algorithm/accumulate"><code>std::accumulate</code></a>. Folding over the values of the range will continually request values from the range, which will generate those values by resuming execution of the coroutine and forwarding on the yielded results. At the end, we end up with the <a href="https://hitchhikers.fandom.com/wiki/42">obvious</a> answer: 42.</p>
<h2>Comparison With Custom Ranges</h2>
<p>Let’s look at how <code>std::generator</code> makes it much easier to write code that generates sequences of values that are compatible with the ranges algorithms and views in the standard library.</p>
<p>Say we want to represent an infinite range of random numbers using the <a href="https://en.wikipedia.org/wiki/Xorshift">xorshift</a> <a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator">pseudorandom number generator</a> (PRNG), which looks like this:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::uint64_t xorshift(std::uint64_t state) {
    state ^= state &lt;&lt; 13;
    state ^= state &gt;&gt; 7;
    state ^= state &lt;&lt; 17;
    return state;
}</code></pre>
<p>Given the current state of the PRNG, which is a 64-bit integer, <code>xorshift(state)</code> generates the next random number in the sequence. Don’t ask me where those numbers come from, they’re magic.</p>
<p>Writing a custom range type for this is achievable, but it is quite verbose and requires a somewhat in-depth understanding of ranges. Let’s give it a shot.</p>
<p>We’ll write a type called <code>xorshift_range</code>, which we should be able to use like this:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">int main() {
    auto is_even = [](auto i) { return i % 2 == 0; };
    auto ten_even_numbers = xorshift_generator(std::random_device{}())
                          | std::views::filter(is_even)
                          | std::views::take(10);
    for (auto i : ten_even_numbers) {
        std::cout &lt;&lt; i &lt;&lt; ' ';
    }
}</code></pre>
<p>The constructor should take a seed for the PRNG, and we should be able to pipe the result into existing range adaptors to, for example, retrieve ten even random numbers.</p>
<p>Let’s start with a definition for the type:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">class xorshift_range {
public:
    explicit xorshift_range(std::uint64_t seed)
        : seed_(seed) {
    }
    class iterator;

    iterator begin() const;
    std::unreachable_sentinel_t end() const {
        return {};
    }
private:
    std::uint64_t seed_;
};</code></pre>
<p>Reasonably straightforward for now. The constructor takes a seed and stores it in a member. We declare an iterator type, which will implement the generation logic, and a <code>begin</code> function that will return an instance of the iterator type. The iterator will be infinite, so it will always compare not equal to <code>end()</code>. As such, end returns a <code>std::unreachable_sentinel_t</code>, which compares not equal to everything.</p>
<p>The implementation of the iterator type is more complex, so we’ll take it a bit at a time.</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">class xorshift_range::iterator {
public:
    using difference_type = std::ptrdiff_t;
    using value_type = std::uint64_t;
    using iterator_concept = std::forward_iterator_tag;</code></pre>
<p>We first provide some member types to indicate some information about our iterator. We won’t use <code>difference_type</code> in the implementation of the iterator, but it’s required for compatibility with ranges, so we pick a reasonable default of <code>std::ptrdiff_t</code>. <code>value_type</code> is <code>std::uint64_t</code> becuause we produce unsigned 64-bit integers. Our iterator cannot move backwards, but you can copy instances of it and increment them independently, which corresponds to <code><a href="https://en.cppreference.com/w/cpp/iterator/forward_iterator">std::forward_iterator</a></code>, so we set <code>iterator_concept</code> to <code>std::forward_iterator_tag</code>.</p>
<p>Next come the constructors:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">    iterator() = default;
    explicit iterator(std::uint64_t seed)
        : state_(seed) {
        ++(*this);
    }</code></pre>
<p>C++20 iterators must be default-constructible, so we define a zero-argument constructor. We also define a constructor that takes a seed, stores it in a <code>state_</code> member (which we’ll define soon), and drives the iterator forward to generate the first random number.</p>
<p>The operator overloads deal with generating the next number and returning it to client code:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">    std::uint64_t operator*() const {
        return state_;
    }
    iterator&amp; operator++() {
        state_ = xorshift(state_);
        return *this;
    }
    iterator operator++(int) {
        auto copy = *this;
        ++(*this);
        return copy;
    }</code></pre>
<p>The dereference operator returns the current number. The preincrement operator generates the next random number in the sequence using the <code>xorshift</code> function we saw earlier. We implement the postincrement operator in terms of the prefix one.</p>
<p>We also need equality operators and the <code>state_</code> member:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">    friend bool operator==(const iterator&amp;, const iterator&amp;) = default;
private:
    std::uint64_t state_ = 0;
};</code></pre>
<p>The <a href="https://en.cppreference.com/w/cpp/language/default_comparisons">default equality operator</a> will check equality based on the current state.</p>
<p>Finally, we need the implementation of begin and one more piece of ranges magic:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">xorshift_range::iterator xorshift_range::begin() const {
    return iterator{seed_};
}
namespace std::ranges {
    template&lt;&gt;
    constexpr bool enable_borrowed_range&lt;xorshift_range&gt; = true;
}</code></pre>
<p>The <code>begin</code> function just returns an iterator with the supplied seed. The specialization of <code>std::ranges::enable_borrowed_range</code> allows us to use <code>xorshift_range</code> as an <a href="https://en.cppreference.com/w/cpp/language/value_category">rvalue</a> in some contexts, because the iterators can safely outlive the parent <code>xorshift_range</code> object without any dangling references.</p>
<p>Phew, that was a lot of work. Want to see the <code>std::generator</code> version?</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::generator&lt;std::uint64_t&gt; xorshift_generator(std::uint64_t seed) {
    while (true) {
        seed = xorshift(seed);
        co_yield seed;
    }
}</code></pre>
<p>That’s it. That’s the entire code.</p>
<p>It’s not entirely the same as the range version, but is clearly a lot easier to implement and maintain. Here are a few differences:</p>
<ul>
<li><code>xorshift_range</code> models <code><a href="https://learn.microsoft.com/cpp/standard-library/range-concepts#borrowed_range">std::ranges::borrowed_range</a></code>, but <code>xorshift_generator</code> does not.</li>
<li><code>xorshift_range</code> models <code><a href="https://learn.microsoft.com/cpp/standard-library/range-concepts#forward_range">std::ranges::forward_range</a></code>, but <code>xorshift_generator</code> only models <code><a href="https://learn.microsoft.com/cpp/standard-library/range-concepts#input_range">std::ranges::input_range</a></code>.</li>
<li><code>xorshift_range</code> is copyable, but <code>xorshift_generator</code> is move-only.</li>
</ul>
<p>We’ll look at the reasons behind these shortly. Whether these tradeoffs are worth it for you depends on your use cases.</p>
<h2>Design Decisions Taken</h2>
<p>There are several potential designs for a <code>std::generator</code>-like type, all of which have different tradeoffs and knock-on effects on how the type can be used.</p>
<h3>Copyability</h3>
<p>Specializations of <code>std::generator</code> and their iterators are move-only. This is because a coroutine’s state is a unique resource: you cannot perform a deep copy of a coroutine, and resuming a coroutine through one handle to it will be visible through all other handles.</p>
<h3>Range and Iterator Category</h3>
<p>As another consequence of a coroutine’s state being a unique resource, specializations of <code>std::generator</code> model <code>std::ranges::input_range</code>, and their iterators model <code>std::input_iterator</code>. This means that <code>std::generators</code> are single-pass ranges, which limits the set of range adaptors and algorithms that you can use with them. For example, you cannot pass a generator to <code><a href="https://en.cppreference.com/w/cpp/algorithm/ranges/max_element">std::ranges::max_element</a></code>, because it requires a forward range.</p>
<h3>Synchronicity</h3>
<p><code>std::generator</code> is synchronous. This means that you cannot <code><a href="https://en.cppreference.com/w/cpp/language/coroutines#co_await">co_await</a></code> an asynchronous operation inside the body of the coroutine that returns a <code>std::generator</code>.</p>
<h3>Recursiveness</h3>
<p><code>std::generator</code> is recursive in that a coroutine that returns a specialization of <code>std::generator</code> may yield a <code>std::generator</code> of the same type directly rather than having to yield its values one-by-one. It’s easier to understand with an example.</p>
<p>Say we have a binary tree that stores integers, and we want to yield all of its elements in order. We might write code like this:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">struct tree {
    tree* left;
    tree* right;
    int value;
};
std::generator&lt;int&gt; yield_all_loop(const tree&amp; t) {
    if (t.left) {
        for (auto l : yield_all_loop(*t.left)) {
            co_yield l;
        }
    }

    co_yield t.value;
    
    if (t.right) {
        for (auto r : yield_all_loop(*t.right)) {
            co_yield r;
        }
    }
}</code></pre>
<p>We recursively call <code>yield_all_loop</code> on the left and right subtrees and loop over the elements of each, yielding their values. This results in the number of coroutine resumptions/suspensions growing linearly with the depth of the tree. That is, if all branches of the tree are the same size and the tree has a depth of 16, then 16 coroutines will be resumed and suspended every time a value is requested. That’s a lot of overhead.</p>
<p><code>std::generator</code> allows you to yield the generators for the subtrees directly rather than having to manually yield their values all the way up the call stack. This is supported by the <code><a href="https://en.cppreference.com/w/cpp/ranges/elements_of">std::ranges::elements_of</a></code> type, which doesn’t do anything other than indicate that we want to yield the elements of a generator rather than the generator itself. The code looks like this:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::generator&lt;int&gt; yield_all_direct(const tree&amp; t) {
    if (t.left) {
         co_yield std::ranges::elements_of(yield_all_direct(*t.left));
    }
    co_yield t.value;
    if (t.right) {
        co_yield std::ranges::elements_of(yield_all_direct(*t.right));
    }
}</code></pre>
<p>This eliminates the linear growth issue. On my laptop, with a full tree with a depth of 16, this version runs twice as fast as the loop-based version.</p>
<h3>Reference/Value Type Shenanigans</h3>
<p>The design space for deciding what <code><a href="https://learn.microsoft.com/cpp/standard-library/ranges-alias-templates#range_reference_t">std::ranges::range_reference_t</a></code> and <code><a href="https://learn.microsoft.com/cpp/standard-library/ranges-alias-templates#range_value_t">std::ranges::range_value_t</a></code> should be for a generator type and how these can be customized is surprisingly complex. This is because we want to support yielding and dereferencing to both reference and value types, while avoiding both dangling references and unnecessary copies. Ideally, we also shouldn’t need to always specify the first template parameter as a reference type, i.e. <code>std::generator&lt;std::string&gt;</code> should compile, and iterators into it should avoid copying the yielded strings when dereferenced.</p>
<p>The design that the committee landed on for <code>std::generator</code> is that you can supply two template arguments to tune the reference and value types. If you only supply one, let’s call it <code>Ref</code>, then the reference type is <code>Ref&amp;&amp;</code> and the value type is <code>std::remove_cvref_t&lt;Ref&gt;</code>. What this means in practice is that dereferencing the generator’s iterators gives references, avoiding copies, and machinery that relies on <code>std::ranges::range_value_t</code> will act on values of the given type. Again, an example with code:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::generator&lt;std::string&gt; gen() {
    std::string hello = "hello";
    co_yield hello; // 0 copies
    co_yield "Hello"; // 1 copy (conversion from const char* to std::string)
}
int main() {
    for (auto&amp;&amp; s : gen()) {} // 0 copies
    //copies all strings (no dangling refs)
    auto vec = std::ranges::to&lt;std::vector&gt;(gen());
}</code></pre>
<p>This all acts as we expect. It compiles, we avoid all the copies we can (except for the string literal), and we don’t avoid copies we shouldn’t. If we want to avoid copying that string literal, we could choose to instead generate <code><a href="https://learn.microsoft.com/cpp/standard-library/string-view">std::string_view</a></code>s, but this has a problem:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::generator&lt;std::string_view&gt; gen() {
    std::string hello = "hello";
    co_yield hello; // 0 copies of string data
    co_yield "Hello"; // 0 copies
}

int main() {
    for (auto s : gen()) {} // 0 copies
    // uh oh, dangling references
    auto vec = std::ranges::to&lt;std::vector&gt;(gen());
}</code></pre>
<p>In this case, the value type of the generator is <code>std::string_view</code>, so <code><a href="https://en.cppreference.com/w/cpp/ranges/to">std::ranges::to</a></code> copies everything into a <code>std::vector&lt;std::string_view&gt;</code>, which holds a bunch of dangling references. Not ideal.</p>
<p>The solution is to manually specify the value type of the generator with the second template argument:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::generator&lt;std::string_view, std::string&gt; gen() {
    std::string hello = "hello";
    co_yield hello; // 0 copies of string data
    co_yield "Hello"; // 0 copies
}

int main() {
    for (auto s : gen()) {} // 0 copies
    // copies all strings, no dangling ref
    auto vec = std::ranges::to&lt;std::vector&gt;(gen());
}</code></pre>
<p>This is the best of all worlds.</p>
<p>The moral is: if the template parameter you’re supplying to <code>std::generator</code> has reference semantics, think about manually supplying a reasonable value type to avoid dangling references.</p>
<h3>Allocator Support</h3>
<p>Coroutines require the compiler to generate code that tracks the state of the coroutine and its local variables. This is called a <em>coroutine frame</em> or <em>activation record</em>. In general, the compiler allocates the coroutine frame on the heap unless it can detect that it never outlives its caller, in which case it instead allocates the frame on the caller’s stack. This optimization is called the <a href="https://wg21.link/p0981">coroutine Heap Allocation eLision Optimization</a> (HALO). By default, <code>std::generator</code> uses <code><a href="https://en.cppreference.com/w/cpp/memory/allocator">std::allocator</a></code> for allocating its coroutine frame. In case you want more fine-grained control over where the frame for your <code>std::generator</code> is allocated, it supports supplying an allocator in a few different ways.</p>
<p>First, you can add an allocator to the coroutine’s parameter list:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">template &lt;class Allocator&gt;
std::generator&lt;int&gt; f(std::allocator_arg_t, Allocator alloc);

// Usage
f(std::allocator_arg, MyAlloc{});</code></pre>
<p>The first parameter must be <code>std::allocator_arg_t</code>, then the second parameter defines the allocator to use.</p>
<p>You can also supply the allocator to use as the third template argument for <code>std::generator</code>:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::generator&lt;int, void, StatelessAllocator&lt;int&gt;&gt; f();

// Usage
f();</code></pre>
<p>Finally, you can combine these two methods if you have a stateful allocator that you want to specify the type of statically:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::generator&lt;int, void, StatefulAllocator&lt;int&gt;&gt;
f(std::allocator_arg_t, StatefulAllocator&lt;int&gt; alloc);

// Usage
f(std::allocator_arg, some_allocator); // must be convertible to StatefulAllocator&lt;int&gt;</code></pre>
<h2>A Short Note on Performance</h2>
<p>Current implementations of <code>std::generator</code> for both MSVC and libstdc++/GCC introduce some overhead. In the above <code>xorshift</code> sample, the generator version shows around a 3x slowdown with MSVC and 2x slowdown with GCC. We hope to improve on this in future versions of the compiler by, for example, enabling HALO for this use case.</p>
<h2>Send Us Your Feedback</h2>
<p>We are very much interested in your feedback to continue to improve our standard library and compiler. The comments below are open. You can also share feedback through <a href="https://github.com/microsoft/STL/issues">GitHub Issues</a> for the standard library and <a href="https://developercommunity.visualstudio.com/cpp">Visual Studio Developer Community</a> for the compiler. You can also reach us via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/std-generator-standard-library-coroutine-support/">std::generator: Standard Library Coroutine Support</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/std-generator-standard-library-coroutine-support/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>MSVC Address Sanitizer updates in Visual Studio 2022 version 17.13</title>
		<link>https://devblogs.microsoft.com/cppblog/msvc-address-sanitizer-updates-in-visual-studio-2022-version-17-13/</link>
					<comments>https://devblogs.microsoft.com/cppblog/msvc-address-sanitizer-updates-in-visual-studio-2022-version-17-13/#respond</comments>
		
		<dc:creator><![CDATA[Zachary Johnson]]></dc:creator>
		<pubDate>Fri, 21 Feb 2025 16:19:01 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35090</guid>

					<description><![CDATA[<p>We have been investing in the quality of MSVC Address Sanitizer (ASan) in several key areas over the past year, including working with LLVM upstream to stay coordinated with their changes, adding coverage for internal tools and libraries, and hardening APIs and runtime modes.  Upstreaming to LLVM  MSVC ASan is derived from a fork of [&#8230;]</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-address-sanitizer-updates-in-visual-studio-2022-version-17-13/">MSVC Address Sanitizer updates in Visual Studio 2022 version 17.13</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><span data-contrast="auto">We have been investing in the quality of </span><a href="https://learn.microsoft.com/en-us/cpp/sanitizers/asan?view=msvc-170"><span data-contrast="none">MSVC Address Sanitizer (ASan)</span></a><span data-contrast="auto"> in several key areas over the past year, including working with LLVM upstream to stay coordinated with their changes, adding coverage for internal tools and libraries, and hardening APIs and runtime modes.</span><span data-ccp-props="{&quot;335559738&quot;:240,&quot;335559739&quot;:240}"> </span></p>
<h2 aria-level="2">Upstreaming<b><span data-contrast="none"> to LLVM</span></b><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;335559738&quot;:299,&quot;335559739&quot;:299}"> </span></h2>
<p><span data-contrast="auto">MSVC ASan is derived from a fork of the </span><a href="https://github.com/llvm/llvm-project"><span data-contrast="none">LLVM repository</span></a><span data-contrast="auto">. Prior to Visual Studio 2022 version 17.12, MSVC ASan was based on outdated versions of LLVM’s </span><span data-contrast="auto">compiler-rt </span><span data-contrast="auto">(where the ASan source code lives), and we could not incorporate changes from newer versions of LLVM without significant delay. </span><span data-ccp-props="{&quot;335559738&quot;:240,&quot;335559739&quot;:240}"> </span></p>
<p><span data-contrast="auto">We have recently completed </span><a href="https://github.com/llvm/llvm-project/pull/81677"><span data-contrast="none">upstreaming major parts</span></a><span data-contrast="auto"> of the MSVC ASan runtime. Now we can start to do more work in the open, and we will be shipping improvements made by the rest of the LLVM community. As of Visual Studio 2022 version 17.12, we are taking changes from LLVM main weekly.</span><span data-ccp-props="{&quot;335559738&quot;:240,&quot;335559739&quot;:240}"> </span></p>
<p><span data-contrast="auto">There are modifications for support on Windows specific to MSVC that are not yet upstream, such as:</span><span data-ccp-props="{&quot;335559738&quot;:240,&quot;335559739&quot;:240}"> </span></p>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="1" data-aria-level="1"><span data-contrast="auto">We intercept more of the memory allocators provided by Windows to support legacy apps and the more exotic allocation mechanisms exclusive to Windows.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="2" data-aria-level="1"><span data-contrast="auto">We provide a </span><a href="https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/"><span data-contrast="none">&#8220;continue-on-error&#8221;</span></a><span data-contrast="auto"> mode to help fix issues in applications with many memory errors and a long iteration cycle. This is like LLVM’s </span><a href="https://github.com/google/sanitizers/wiki/AddressSanitizer#:~:text=A%3A%20Yes%20it,halt_on_error%3D0."><span data-contrast="none">halt_on_error=0</span></a><span data-contrast="auto"> mode.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="3" data-aria-level="1"><span data-contrast="auto">We provide enhanced diagnostics for <code>new</code>/<code>delete</code> mismatches.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="4" data-aria-level="1"><span data-contrast="auto">We only provide the </span><a href="https://devblogs.microsoft.com/cppblog/msvc-address-sanitizer-one-dll-for-all-runtime-configurations/"><span data-contrast="none">dynamic ASan runtime</span></a><span data-contrast="auto"> to support a wide range of CRT link/usage scenarios.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<h2 aria-level="2"><b><span data-contrast="none">MSVC tools and compiler built with ASan</span></b><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;335559738&quot;:299,&quot;335559739&quot;:299}"> </span></h2>
<p><span data-contrast="auto">We have recently been able to focus on adopting ASan into the MSVC codebase, which means building the compiler, linker, code analysis tools, and runtime libraries for testing with </span><code><span data-contrast="auto">/fsanitize=address</span></code><span data-contrast="auto">. We have also done the work to enable </span><a href="https://github.com/Microsoft/STL?tab=readme-ov-file#running-tests-with-address-sanitizer-asan"><span data-contrast="none">Microsoft&#8217;s C++ Standard Library (STL) with ASan</span></a><span data-contrast="auto">. </span><span data-ccp-props="{&quot;335559738&quot;:240,&quot;335559739&quot;:240}"> </span></p>
<blockquote><p><span data-contrast="auto"><strong>Note:</strong> These are strictly used for testing purposes, and developers should not ship binaries with ASan enabled.</span><span data-ccp-props="{&quot;335559738&quot;:240,&quot;335559739&quot;:240}"> </span></p></blockquote>
<p><span data-contrast="auto">It has been a massive undertaking, considering all the moving parts, and is still an ongoing effort for some components. The MSVC codebase has been around much longer than ASan. As a result, many of the bugs that ASan would identify have already been solved thanks to internal testing or defect reports. However, developers will inevitably introduce new memory safety issues, so enabling ASan will prevent shipping those defects by identifying them during continuous integration and testing. This effort allows us to run thousands of regression test scenarios with ASan enabled on each pull request, blocking developers from merging any newly introduced memory safety errors.</span><span data-ccp-props="{&quot;335559738&quot;:240,&quot;335559739&quot;:240}"> </span></p>
<p><span data-contrast="auto">In case you need any extra motivation to adopt ASan in your codebase, below is a list of the improvements we have made recently.</span><span data-ccp-props="{&quot;335559738&quot;:240,&quot;335559739&quot;:240}"> </span></p>
<h2 aria-level="2"><b><span data-contrast="none">Fixes in Visual Studio 2022 version 17.13 GA</span></b><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;335559738&quot;:299,&quot;335559739&quot;:299}"> </span></h2>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="1" data-aria-level="1"><span data-contrast="auto">Improved </span><a href="https://learn.microsoft.com/en-us/windows/win32/memory/global-and-local-functions"><span data-contrast="none">Global and Local</span></a><span data-contrast="auto"> memory management interoperability</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="o" data-font="Courier New" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:1440,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Courier New&quot;,&quot;469769242&quot;:[9675],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;o&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="1" data-aria-level="2"><span data-contrast="auto">These APIs have been a </span><a href="https://learn.microsoft.com/en-us/cpp/sanitizers/asan-runtime?view=msvc-170"><span data-contrast="none">challenge in the past for MSVC ASan</span></a><span data-contrast="auto">.</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559685&quot;:1440,&quot;335559737&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:279,&quot;335559991&quot;:360}"> </span></li>
</ul>
<ul>
<li data-leveltext="o" data-font="Courier New" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:1440,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Courier New&quot;,&quot;469769242&quot;:[9675],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;o&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="2" data-aria-level="2"><span data-contrast="auto">Increased surface area for intercepted APIs, fixing issues surrounding false positives when operating in legacy apps/environments.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="o" data-font="Courier New" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:1440,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Courier New&quot;,&quot;469769242&quot;:[9675],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;o&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="3" data-aria-level="2"><span data-contrast="auto">Fixed issues distinguishing between memory that was allocated prior to ASan entering the process, resulting in false positives.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="2" data-aria-level="1"><span data-contrast="auto">Continue-on-error reporting and interface APIs are now in the same format as the other error reporting by ASan runtime.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="3" data-aria-level="1"><span data-contrast="auto">Continue-on-error can properly handle multiple subprocesses being launched with ASan in process, multiple process invocations, and multithreaded reporting.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="4" data-aria-level="1"><span data-contrast="auto">Fixed issues concerning </span><code><span data-contrast="auto">aligned_offset</span></code><span data-contrast="auto"> memory APIs, now properly respecting valid alignment and offsets.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="5" data-aria-level="1"><span data-contrast="auto">Fixed issues surrounding intercepting some </span><code><span data-contrast="auto">_Crt*</span></code><span data-contrast="auto"> APIs, and false positives resulting from incorrect interceptions.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="6" data-aria-level="1"><span data-contrast="auto">Fixed interception issues surrounding new or changed instruction sequences with x64 and x86 processors. Upstreaming this effort has helped to identify and fix these issues quicker!</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="7" data-aria-level="1"><span data-contrast="auto">Fixed issues surrounding memcpy aliasing memmove on x86 and distinguishing between calls resulting in confusing or incorrect ASan reports.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="8" data-aria-level="1"><span data-contrast="auto">Some wide string intrinsics have been added for memory tracking.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<ul>
<li data-leveltext="" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="9" data-aria-level="1"><span data-contrast="auto">Changed the order of initialization to fix an issue with ASan-instrumented code being executed prior to ASan initialization.</span><span data-ccp-props="{&quot;335559739&quot;:0}"> </span></li>
</ul>
<h2 aria-level="3"><b><span data-contrast="none">Try it out!</span></b><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;335559738&quot;:281,&quot;335559739&quot;:281}"> </span></h2>
<p><span data-contrast="auto">We would love for you to download Visual Studio and give the Address Sanitizer a try. As always, we welcome your feedback. We can be reached via the comments below. If you encounter any problems with MSVC or have a suggestion for Visual Studio, please let us know via </span><a href="https://developercommunity.visualstudio.com/cpp"><span data-contrast="none">Developer Community</span></a><span data-contrast="auto"> or directly in Visual Studio through </span><a href="https://learn.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2022"><span data-contrast="none">Help &gt; Send Feedback &gt; Report A Problem / Provide a Suggestion in the product.</span></a><span data-ccp-props="{&quot;335559738&quot;:240,&quot;335559739&quot;:240}"> </span></p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-address-sanitizer-updates-in-visual-studio-2022-version-17-13/">MSVC Address Sanitizer updates in Visual Studio 2022 version 17.13</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/msvc-address-sanitizer-updates-in-visual-studio-2022-version-17-13/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Visual Studio Code CMake Tools Extension 1.20 Release: Introducing Built-In CMake Language Services</title>
		<link>https://devblogs.microsoft.com/cppblog/visual-studio-code-cmake-tools-extension-1-20-release-introducing-built-in-cmake-language-services/</link>
					<comments>https://devblogs.microsoft.com/cppblog/visual-studio-code-cmake-tools-extension-1-20-release-introducing-built-in-cmake-language-services/#comments</comments>
		
		<dc:creator><![CDATA[Sinem Akinci]]></dc:creator>
		<pubDate>Thu, 20 Feb 2025 15:52:32 +0000</pubDate>
				<category><![CDATA[CMake]]></category>
		<category><![CDATA[Visual Studio Code]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35081</guid>

					<description><![CDATA[<p>The February release of CMake Tools in VS Code is now available. With this release, we have some new updates to the extension to improve CMake integrations with the extension’s support. Some updates include the built-in support for CMake Language services, addressing our most highly-upvoted issues in the CMake Tools extension, and CMake presets v9 [&#8230;]</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/visual-studio-code-cmake-tools-extension-1-20-release-introducing-built-in-cmake-language-services/">Visual Studio Code CMake Tools Extension 1.20 Release: Introducing Built-In CMake Language Services</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>The<a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools"> February release of CMake Tools</a> in VS Code is now available. With this release, we have some new updates to the extension to improve CMake integrations with the extension’s support.</p>
<p>Some updates include the<strong> built-in support for CMake Language services</strong>, addressing our most highly-upvoted issues in the CMake Tools extension, and <strong>CMake presets v9 support.</strong> To view the full list of updates with this release, please look at our <a href="https://github.com/microsoft/vscode-cmake-tools/blob/main/CHANGELOG.md">CHANGELOG</a>.</p>
<p>This release features the following nine contributions from our open-source community. Thank you for your continued support!</p>
<ol>
<li><a href="https://github.com/microsoft/vscode-cmake-tools/issues/1078">Adding support to configure default folder in workspace setting</a> by <a href="https://github.com/sanore">@sanore</a></li>
<li><a href="https://github.com/microsoft/vscode-cmake-tools/pull/4129">Improving test output for error and skipped tests</a> by<a href="https://github.com/redstrate"> @redstrate</a></li>
<li><a href="https://github.com/microsoft/vscode-cmake-tools/pull/4241">Adding a setting to skip project re-build before CTest</a> by <a href="https://github.com/Dabsunter">@dabsunter</a></li>
<li><a href="https://github.com/microsoft/vscode-cmake-tools/pull/4206">Ability to pass custom target to CMake: Build Target</a> by <a href="https://github.com/hippo91">@hippo91</a></li>
<li><a href="https://github.com/microsoft/vscode-cmake-tools/pull/4154">Fixing issue where setting CTest suite delimiter prevented execution of all tests</a> by <a href="https://github.com/hippo91">hippo91</a></li>
<li><a href="https://github.com/microsoft/vscode-cmake-tools/pull/3950">Fixing issue where GCC linker errors did not show up in Problems View</a> by <a href="https://github.com/0xemgy">@0xemgy</a></li>
<li><a href="https://github.com/microsoft/vscode-cmake-tools/pull/4209">Fixing compilation database path comparison with cmake.copyCompileCommands</a> by <a href="https://github.com/k0zmo">@k0zmo</a></li>
<li><a href="https://github.com/microsoft/vscode-cmake-tools/pull/4202">Fixing configure preset detection issue when referenced in workflow preset by CMakeUserPresets.json</a> by <a href="https://github.com/nikobockerman">@nikobockerman</a></li>
<li><a href="https://github.com/microsoft/vscode-cmake-tools/issues/4146">Fixing issue where select active folder did not work when having the same name as the project</a> by <a href="https://github.com/mnastm">@mnastm </a></li>
</ol>
<h3>Built-in support for CMake Language Services</h3>
<p>Our highest upvoted issues in the CMake Tools extension (<a href="https://github.com/microsoft/vscode-cmake-tools/issues/534">184 votes</a>!) was to provide in-house support for language services for CMake.</p>
<p>We have begun our work to fully integrate IntelliSense directly into the CMake Tools extension. This includes integrations for colorization and quick info for CMake built-ins, now directly available with the CMake Tools extension, removing the dependency on the <a href="https://marketplace.visualstudio.com/items?itemName=twxs.cmake">out-of-date twxs extension</a>.</p>
<h5><em><strong>What are CMake Language Services?</strong></em></h5>
<p>These are rich <a href="https://code.visualstudio.com/docs/editor/intellisense">IntelliSense</a> features that provide code completions and member lists within CMakeLists.txt files and other CMake scripts, giving you quick access to view all applicable CMake scripting features.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-member-list.png"><img decoding="async" class=" wp-image-35082 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-member-list.png" alt="CMake IntelliSense services providing CMake built-in code completion suggestions." width="1063" height="597" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-member-list.png 1480w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-member-list-300x168.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-member-list-1024x575.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-member-list-768x431.png 768w" sizes="(max-width: 1063px) 100vw, 1063px" /></a></p>
<p>CMake language services offer rich syntax highlighting for CMakeLists.txt and other CMake script files, which is in-line with other programming languages like C++.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/syntax-highlighting.png"><img decoding="async" class=" wp-image-35083 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/syntax-highlighting.png" alt="Syntax highlighting available to colorize a CMakeLists.txt file" width="868" height="369" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/syntax-highlighting.png 1075w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/syntax-highlighting-300x128.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/syntax-highlighting-1024x435.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/syntax-highlighting-768x326.png 768w" sizes="(max-width: 868px) 100vw, 868px" /></a></p>
<p>Within these CMake files, users can access detailed information about any built-in CMake variables by hovering over them, making CMake development easier to understand.</p>
<h3><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-hover.png"><img decoding="async" class="wp-image-35084 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-hover.png" alt="Quick Info available when you hover over a CMake variable." width="1309" height="188" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-hover.png 1804w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-hover-300x43.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-hover-1024x147.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-hover-768x110.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/cmake-hover-1536x221.png 1536w" sizes="(max-width: 1309px) 100vw, 1309px" /></a>CMake Presets v9 Support</h3>
<p>We now support CMake presets v9, which allows you to use <a href="https://cmake.org/cmake/help/latest/manual/cmake-presets.7.html#macro-expansion">all macros except $env{} macros</a> in the <a href="https://cmake.org/cmake/help/latest/manual/cmake-presets.7.html#includes">include</a> field of a preset.</p>
<p>For example, if you want to specify your CMakePresets.json to include other files not hardcoded, using the path to the directory containing the preset file which contains the macro, you’ll be able to run the following CMake presets JSON specifications at the top of your file.</p>
<pre><strong>  "version": 9</strong>,

  "cmakeMinimumRequired": {

    "major": 3,

    "minor": 30,

    "patch": 0

  },

<strong>  "include": ["${fileDir}"],</strong>

  "configurePresets":...</pre>
<h3>What&#8217;s Next?</h3>
<p>We have a lot of exciting new things planned for 1.21, including adding <a href="https://github.com/microsoft/vscode-cmake-tools/issues/4261">even more enhancements</a> to our CMake language services and <a href="https://github.com/microsoft/vscode-cmake-tools/issues/4112">improvements to multi-root workspace configurations</a> in our extension. You can view our plans any time via <a href="https://github.com/orgs/microsoft/projects/1024/views/4">our GitHub project view</a>.</p>
<h3>What do you think?</h3>
<p>Download Visual Studio Code and let us know what you think. We would love to see what you contribute to our<a href="https://github.com/microsoft/vscode-cmake-tools"> repo</a> and we are active on reviews and collaboration. Please create an <a href="https://github.com/microsoft/vscode-cmake-tools/issues/">issue</a> if there’s anything you’d like to see and upvote/downvote any existing issues. Comment below or reach us via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a> or via X at <a href="https://twitter.com/visualc">@VisualC</a>.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/visual-studio-code-cmake-tools-extension-1-20-release-introducing-built-in-cmake-language-services/">Visual Studio Code CMake Tools Extension 1.20 Release: Introducing Built-In CMake Language Services</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/visual-studio-code-cmake-tools-extension-1-20-release-introducing-built-in-cmake-language-services/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
			</item>
		<item>
		<title>MSVC C++ Code Analysis: Updates in Visual Studio 2022 version 17.13</title>
		<link>https://devblogs.microsoft.com/cppblog/msvc-c-code-analysis-updates-in-visual-studio-2022-version-17-13/</link>
					<comments>https://devblogs.microsoft.com/cppblog/msvc-c-code-analysis-updates-in-visual-studio-2022-version-17-13/#respond</comments>
		
		<dc:creator><![CDATA[Carson Radtke]]></dc:creator>
		<pubDate>Wed, 19 Feb 2025 15:14:30 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35138</guid>

					<description><![CDATA[<p>This post details the latest updates in Visual Studio 2022 version 17.13 for MSVC C++ Code Analysis. Driven by internal team insights and developer community feedback, these improvements significantly reduce false positives and strengthen production code security.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-c-code-analysis-updates-in-visual-studio-2022-version-17-13/">MSVC C++ Code Analysis: Updates in Visual Studio 2022 version 17.13</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>The C++ team is excited to announce the latest improvements to Code Analysis in Visual
Studio. Continuing our commitment to make C++ development safer and more reliable, this
update focuses on reducing false positives and enhancing the analysis engine&#8217;s
precision. These improvements are driven by internal teams&#8217; and your valuable feedback
through <a href="https://developercommunity.visualstudio.com/">Visual Studio Developer Community</a></p>
<h2>Key Improvements</h2>
<p>Following recommendations from
<a href="https://www.microsoft.com/security/blog/author/microsoft-offensive-research-security-engineering-team/">MORSE</a>,
we focused on enhancing selected security warnings that detect high-impact
vulnerabilities. Our goal was to keep the false positive rate below 10% when running
these checks against large codebases, ensuring broad adoption across Microsoft teams.
This first wave of improvements targets three crucial warnings:
<a href="https://learn.microsoft.com/cpp/code-quality/c26100">C26100</a>,
<a href="https://learn.microsoft.com/cpp/code-quality/c26831">C26831</a>, and
<a href="https://learn.microsoft.com/cpp/code-quality/c33001">C33001</a>.</p>
<h3>Concurrency and Locking</h3>
<p>C26100, one of our critical security warnings, detects potential race conditions that
could lead to memory corruption or deadlocks. Through improved analysis of
synchronization patterns, we have enhanced this warning to more accurately identify
high-risk concurrency issues. Here is a summary of the key improvements in this area:</p>
<ul>
<li>New diagnostics
(<a href="https://learn.microsoft.com/cpp/code-quality/c26132">C26132</a> + <a href="https://learn.microsoft.com/cpp/code-quality/c26133">C26133</a>)
for detecting lock hierarchy mismatches in custom locking functions</li>
<li>Better analysis of lock acquisition patterns</li>
<li>Improved status tracking for concurrency checking</li>
</ul>
<h3>Enhanced Overflow Detection for Allocations</h3>
<p>C26831, another critical security warning, detects potential numerical overflows in
values used for memory allocation that could lead to buffer overruns and other memory
corruption vulnerabilities. Through improved analysis of allocation patterns and sign
conversions, we have enhanced this warning to more accurately identify high-risk
overflow scenarios. Here is a summary of the key improvements in this area:</p>
<ul>
<li>New diagnostics
(<a href="https://learn.microsoft.com/cpp/code-quality/c26838">C26838</a> + <a href="https://learn.microsoft.com/cpp/code-quality/c26839">C26839</a>)
for detecting potential allocation overflow issues due
to signed-to-unsigned conversions</li>
<li>Added heuristics for validating postcondition overflow checks in allocation routines</li>
</ul>
<h3><code>VariantClear</code> and <code>VARIANT</code> Initialization</h3>
<p>C33001, our third critical security warning, detects uninitialized <code>VARIANT</code> objects that
could lead to memory corruption when passed to cleanup functions. Through improved
tracking of <code>VARIANT</code> initialization states, we have enhanced this warning to accurately
identify high-risk COM interface usage while maintaining a low false positive rate in
production Windows code.</p>
<h2>Community Feedback</h2>
<p>Your feedback drives our prioritization and helps us deliver a better product. We
actively monitor the Developer Community and use upvotes to understand which issues
impact the most users. Even if you encounter an issue that is already reported,
please upvote it &#8211; this helps us better prioritize our fixes.</p>
<p>Here are some key issues we have addressed based on community feedback:</p>
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/Warning-C26435-contradicts-to-Compiler-E/10355159">Warning C26435 contradicts to Compiler Error C3609</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/False-positive-lifetime-code-analysis-wa/10732352">False positive lifetime code analysis warning C26848: Do not dereference a null pointer (lifetime.1)</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/warning:-C26822-false-positive-improperl/10796852">warning: C26822 false positive improperly emitted for <code>return NULL;</code></a></li>
<li><a href="https://developercommunity.visualstudio.com/t/_Must_inspect_result_-incorrectly-issues/10743387">_Must_inspect_result_ incorrectly issues C28193 when nested struct/union field <em>is</em> inspected</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/_Return_type_success_expr-incorrectly-/10743376">_Return_type_success_(expr) incorrectly produces C6101 expression references anonymous struct / union fields</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Code-analysis-warning-C6011-for-valid-ca/10732505">Code analysis warning C6011 for valid call to CWnd::GetSafeHwnd()</a></li>
</ul>
<p>We encourage you to continue reporting and upvoting issues you encounter. Whether it is
a false positive, unclear diagnostic message, or feature request, your input is
essential in shaping the future of C++ Code Analysis.</p>
<h2>Looking Forward</h2>
<p>Security remains a top priority as we work closely with MORSE and internal teams to
enhance critical security warnings for high-impact vulnerabilities. We remain committed
to lowering false positive rates across all our checkers.</p>
<p>Your feedback through the Developer Community continues to be essential in shaping our
roadmap. As we expand our coverage of modern C++ security best practices, we will keep
focusing on addressing community-reported issues to ensure our warnings remain precise
and actionable.</p>
<h2>Try It Out</h2>
<p>These improvements are now available in Visual Studio 2022 version 17.13. To get
started, check out the
<a href="https://learn.microsoft.com/cpp/code-quality/quick-start-code-analysis-for-c-cpp">Code Analysis documentation</a>.
Our work is heavily influenced by your feedback; please continue to engage with us
through the <a href="https://developercommunity.visualstudio.com/cpp">Developer Community</a> and
in the comments section below.</p>
<p>Stay tuned for more C++ static analysis improvements. Your feedback helps us make C++
development safer and more productive for everyone.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-c-code-analysis-updates-in-visual-studio-2022-version-17-13/">MSVC C++ Code Analysis: Updates in Visual Studio 2022 version 17.13</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/msvc-c-code-analysis-updates-in-visual-studio-2022-version-17-13/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>C++ Language Updates in MSVC in Visual Studio 2022 17.13</title>
		<link>https://devblogs.microsoft.com/cppblog/msvc-compiler-updates-in-visual-studio-2022-version-17-13/</link>
					<comments>https://devblogs.microsoft.com/cppblog/msvc-compiler-updates-in-visual-studio-2022-version-17-13/#respond</comments>
		
		<dc:creator><![CDATA[Cameron DaCamara]]></dc:creator>
		<pubDate>Tue, 11 Feb 2025 19:00:52 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Frontend]]></category>
		<category><![CDATA[C++ language]]></category>
		<category><![CDATA[compiler]]></category>
		<category><![CDATA[VC++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35069</guid>

					<description><![CDATA[<p>Introduction For this update, we have changed things up a little bit. We now have more distinct buckets of fixes/implemented features. This is to help guide readers who care about specific features to more easily see how the compiler front-end team is making progress on the things you care about. 17.12 notes for reference. C++23 [&#8230;]</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-compiler-updates-in-visual-studio-2022-version-17-13/">C++ Language Updates in MSVC in Visual Studio 2022 17.13</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p>For this update, we have changed things up a little bit. We now have more distinct buckets of fixes/implemented features. This is to help guide readers who care about specific features to more easily see how the compiler front-end team is making progress on the things <em>you</em> care about.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/msvc-compiler-language-updates-in-visual-studio-2022-version-17-12/">17.12 notes for reference.</a></p>
<h2 id="c-23-features-">C++23 Features</h2>
<p>As part of our continuing ramp-up on C++23 conformance, the team has implemented the following features. In future releases customers can expect to see continued acceleration towards C++23 conformance.</p>
<p><strong>Note:</strong> C++23 features can be used by either adding <code>/std:c++latest</code> or <code>/std:c++23preview</code> to the command line. In addition, features used from unfinished standards may not have full IntelliSense support.</p>
<ul>
<li><a href="https://wg21.link/p0330r8">Implement P0330R8</a></li>
</ul>
<p>Adds a new literal suffix which enables a literal to deduce to a form of <code>size_t</code>.</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">constexpr auto x = 10zu; // Deduces to 'size_t'
constexpr auto y = 10z;  // Deduces to signed form of 'size_t' (i.e. 'ptrdiff_t')</code></pre>
<ul>
<li><a href="https://wg21.link/p2242r3">Implement P2242R3</a></li>
</ul>
<p>Relaxes <code>constexpr</code> restrictions around labels, <code>goto</code>, and non-literal user-defined types.</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">constexpr bool f() {
  if (std::is_constant_evaluated()) {
    return true;
  }
  goto label;
label:
  return false;
}
static_assert(f()); // OK - constant evaluation never reaches the 'goto' statement.</code></pre>
<h2 id="compiler-improvements-for-17-13">Compiler improvements for 17.13</h2>
<p>The categories below are some areas that the team has identified as high impact feature areas of the compiler toolset for customers. The team is dedicated to ensuring the areas below continue to be developed and improved over time, and we thank you all for filing bugs and being patient as our team works through issues.</p>
<h3 id="c-cli">C++/CLI</h3>
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/Compiler-HangInternal-Error-compiling-S/10778106">Compiler Hang/Internal Error compiling String::Format in CPP/CLR</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Variable-Argument-Lists--CCLI-/10778739">Variable Argument Lists (&#8230;) (C++/CLI) no longer compile in .NET preview 9 (17.12.0 Preview)</a></li>
</ul>
<h3 id="diagnostics">Diagnostics</h3>
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/Insufficient-error-information-reported-/10773228">Insufficient error information reported with /std:c++17 or /std:c++20</a></li>
</ul>
<h3 id="-constexpr-"><code>constexpr</code></h3>
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/decltypeauto-function-returning-compou/10751229">decltype(auto) function returning compound assignment cannot be constexpr</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Discrepancy-in-Behavior-of-operator-an/10732445">Discrepancy in Behavior of operator<em>= and operator</em> for Multiplying int and double at compile time </a></li>
<li><a href="https://developercommunity.visualstudio.com/t/constexpr-initializer_list-has-wrong-val/1494572">constexpr initializer_list has wrong values</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/static-constexpr-std::initializer_list-a/10137741">static constexpr std::initializer_list always zero-inits regardless of actual values</a></li>
</ul>
<h3 id="c-modules">C++ modules</h3>
<ul>
<li>Fixed issue where SEH statements were not persisted in the IFC.
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/Using-__try-in-an-inline-function-in-a-h/10186252">Using __try in an inline function in a header unit module results in &#8220;note: sorry: &#8216;inline&#8217; function definition for &#8216;&#8230;&#8217; could not be written&#8230;&#8221;</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Header-unit-does-not-recognize-__try/10232019">Header unit does not recognize __try</a></li>
</ul>
</li>
<li><a href="https://developercommunity.visualstudio.com/t/scanDependencies-does-not-take-into-acc/10029154">/scanDependencies does not take into account macros exported by header units</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Linker-error-caused-by-mix-of-modules-an/10761605">Linker error caused by mix of modules and formatter specialization</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/C-modules-C2504-when-nested-class-de/10702515">[C++ modules] C2504 when nested class derives from a templated nested class</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/module-cant-handle-CRTP-within-a-struct/10646505">module can&#8217;t handle CRTP within a struct on 17.10.0 Preview 5</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/C-modules-code-not-compiling-anymore-w/10724998">C++ modules code not compiling anymore with Visual Studio version 17.10+</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/ICE-when-using-explicit-this-parameterD/10236618">ICE when using explicit this parameter(Deducing this) in a export{}</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Error-C2139-when-using-nested-template-c/10652203">Error C2139 when using nested template classes in modules and type traits</a></li>
</ul>
<h3 id="reliability">Reliability</h3>
<ul>
<li>Fix a compiler crash when evaluating a default argument to a static function.
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/ICE-calling-static-function-for-default-/10785885">ICE calling static function for default argument</a></li>
</ul>
</li>
<li><a href="https://developercommunity.visualstudio.com/t/LINK-:-fatal-error-LNK1000:-Internal-err/10117188">LINK : fatal error LNK1000: Internal error during IMAGE::BuildImage</a></li>
<li><a href="https://developercommunity2.visualstudio.com/t/Schwarz-counter-vs-precompiled-header/1256884?preview=true">Schwarz counter vs. precompiled header</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/VS-2022-17112:-Internal-Compiler-Error/10736199">VS 2022 17.11.2: Internal Compiler Error When Using Structured Bindings &amp; Explicit Object Member Function</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Internal-compiler-error-with-conditional/10751968">Internal compiler error with conditionally defaulted special member function and nested expression sfinae</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Compiler-crashes-for-custom-implementati/10741077">Compiler crashes for custom implementation of is_destructible</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Error-C1001-with-Address-Sanitizervs202/10734553">Error C1001 with Address Sanitizer(vs2022 17.11.2), when a public member of a temporary object is bound to a reference</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/internal-compiler-error-while-trying-to-/10682573">internal compiler error while trying to overload bitwise operator</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/fatal-error-C1001:-Internal-compiler-err/10756129">fatal error C1001: Internal compiler error. (compiler file &#8216;D:\a_work\1\s\src\vctools\Compiler\Utc\src\p2\main.c&#8217;, line 247)</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/VS-2022-C20-internal-compiler-error-w/10731700">VS 2022 C++20 internal compiler error w/example</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/ICE-on-class-templates-with-several-spec/10752268">ICE on class templates with several specialisations and simultaneous pack expansion</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/ICE---potentially-related-to-concepts/10764877">ICE &#8211; potentially related to concepts</a></li>
</ul>
<h3 id="correctness">Correctness</h3>
<ul>
<li>Fix an issue with processing a mixture of nested and anonymous namespaces.
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/Error-C3083-After-Upgrade-to-1711/10789148">Error C3083 After Upgrade to 17.11</a></li>
</ul>
</li>
<li><a href="https://developercommunity.visualstudio.com/t/regression-lambda-evaluation-in-uneval/10782170">[regression] lambda evaluation in unevaluated context in if constexpr condition fails from VS17.6 onwards</a></li>
<li>Fix bogus printf format specifier warnings when the format string has a cast
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/printf-format-specifier-checking-doesnt/10644350">printf format specifier checking doesn&#8217;t work when the format is cast</a></li>
</ul>
</li>
<li>Fix C2938 when a lambda is used as an alias template argument.
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/Failed-to-specialize-alias-template/10767384">Failed to specialize alias template</a></li>
</ul>
</li>
<li>Fix an issue with <code>requires</code> expressions that fail to resolve sometimes resulting in syntax errors.
<ul>
<li><a href="https://developercommunity.visualstudio.com/t/Default-assigned-bool-template-argument-/10793043">Default assigned bool template argument with requires using invoke_result_t with an incorrect type being typenamed causes fatal error C1075 and C2760</a></li>
</ul>
</li>
<li><a href="https://developercommunity.visualstudio.com/t/MSVC-will-succeed-compilation-when-a-var/10762220">MSVC will succeed compilation when a variadic parameter, that is defined by a templated type alias that is evaluated using decltype, is ill-formed</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/C:-data-is-not-a-member-of-std::basi/10756647">C++: &#8216;data&#8217; is not a member of std::basic_string_view</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Wrong-code-generation-when-initializing-/10754777">Wrong code generation when initializing a variable of class type that contains multiple instances of the same empty class in its layout</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Simultaneous-expansion-of-two-non-type-p/10784345">Simultaneous expansion of two non-type parameter packs inside a class template argument list works incorrectly</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/C1XXs-__is_convertible_to-intrinsic-mis/1627396">C1XX&#8217;s __is_convertible_to intrinsic mis-handles volatile array lvalues</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Enum-in-struct-in-template-function-is-b/10049058">Enum in struct in template function is broken</a></li>
<li><a href="https://developercommunity.visualstudio.com/content/problem/1147235/wrong-codegen-copy-constructor-not-elided-when-the.html">wrong codegen: copy constructor not elided when the type is trivially copyiable but not trivially destroyable.</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Bogus-error-when-using-SFINAE-with-an-ov/10752128">Bogus error when using SFINAE with an overload set</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Alias-template-CTAD-failure-with-initial/10767435">Alias template CTAD failure with initializer list</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/False-instance-of-warning-4189-in-1712-/10769159">False instance of warning 4189 in 17.12 Preview 3</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/name-lookup-bug-with-nested-lambda-temp/10765891">name lookup bug with nested lambda, template operator (), user defined literal operator</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Incorrect-values-in-global-initializer_l/1543903">Incorrect values in global initializer_list</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/MSVC-rejects-valid-program-involving-usi/10745880">MSVC rejects valid program involving using declaration for alias used in mem-initializer-list</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/std::invocable-test-fails-for-a-function/10770164">std::invocable test fails for a function object with decltype(fold expression) in trailing return type </a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Incorrect-Microsoft-Analyzer-warning-C26/10782219">Incorrect Microsoft Analyzer warning C26818 triggered</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/std::is_nothrow_default_constructible-re/10733565">std::is_nothrow_default_constructible returns true even though class inherits noexcept(false) default constructor</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/C20-coroutine-variables-are-not-proper/10049371">C++20 coroutine variables are not properly aligned</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Partial-template-specialization-failed-w/10745840">Partial template specialization failed with non-type template argument</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/coroutines-Incorrect-alignment-of-stru/10755078">[coroutines] Incorrect alignment of structure arguments</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Regression-Reject-valid-Wrong-concep/10736602">[Regression] [Rejects valid] Wrong concept evaluation in member function (C7601)</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/__declspecdllexport-makes-class-inheri/10754934">__declspec(dllexport) makes class inherited from view_interface not a range</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Structured-binding-ambiguity-with-non-AD/10730438">Structured binding ambiguity with non-ADL functions</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/newstd::nothrowint-may-be-identified/10730120">{new(std::nothrow)int} may be identified as placement new</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/BUG-for-C-covariant-return-type-and-mu/10765832">BUG for C++ covariant return type and multiple inheritance</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/Compiler-error-when-an-instance-of-a-str/10750329">Compiler error when an instance of a struct defined in a lambda, is used as a parameter and that parameter is captured in another lambda</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/No-deprecation-warning-for-class-alias/10775187">No deprecation warning for class alias</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/deducing-lvalue-reference-for-non-type-t/10757240">deducing lvalue reference for non-type template parameter</a></li>
<li><a href="https://developercommunity.visualstudio.com/t/unnamed-concept-using-context-variable-w/10747068">unnamed concept using context variable will give incorrect result</a></li>
</ul>
<h2>Closing</h2>
<p>As always, we welcome your feedback. Feel free to send any comments through e-mail at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a> or through <a href="https://twitter.com/visualc">Twitter @visualc</a>. Also, feel free to follow Cameron DaCamara on Twitter <a href="https://twitter.com/starfreakclone">@starfreakclone</a>.</p>
<p>If you encounter other problems with MSVC in VS 2022 please let us know via the <a href="https://learn.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2022">Report a Problem</a> option, either from the installer or the Visual Studio IDE itself. For suggestions or bug reports, let us know through <a href="https://developercommunity.visualstudio.com/">Developer Community.</a></p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-compiler-updates-in-visual-studio-2022-version-17-13/">C++ Language Updates in MSVC in Visual Studio 2022 17.13</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/msvc-compiler-updates-in-visual-studio-2022-version-17-13/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>What’s New for C++ Developers in Visual Studio 2022 17.13</title>
		<link>https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-13/</link>
					<comments>https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-13/#comments</comments>
		
		<dc:creator><![CDATA[Sy Brand]]></dc:creator>
		<pubDate>Tue, 11 Feb 2025 18:58:57 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35102</guid>

					<description><![CDATA[<p>We are happy to announce that Visual Studio 2022 version 17.13 is now generally available! This post summarizes the new features you can find in this release for C++. You can download Visual Studio 2022 from the Visual Studio downloads page or upgrade your existing installation by following the Update Visual Studio Learn page. Standard Library and Compiler [&#8230;]</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-13/">What’s New for C++ Developers in Visual Studio 2022 17.13</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>We are happy to announce that Visual Studio 2022 version 17.13 is now generally available! This post summarizes the new features you can find in this release for C++. You can download Visual Studio 2022 from the <a href="https://visualstudio.microsoft.com/downloads/" target="_blank" rel="noopener">Visual Studio downloads page </a>or upgrade your existing installation by following the <a href="https://learn.microsoft.com/en-us/visualstudio/install/update-visual-studio?view=vs-2022" target="_blank" rel="noopener">Update Visual Studio Learn page</a>.</p>
<h2>Standard Library and Compiler</h2>
<p>On the compiler side, we’ve implemented C++23’s <code>size_t</code> literal suffix. The suffix <code>uz</code> or <code>UZ</code> (or any permutation of these) will help you avoid sneaky truncations or signed comparison mismatches, especially when writing loops. For example:</p>
<pre class="prettyprint language-default"><code class="language-cpp">//Infinite loop if v.size &gt; max unsigned int
for (auto i = 0u; i &lt; v.size(); ++i) {
    //Use v and v[i]
}

//Fine due to uz literal
for (auto i = 0uz; i &lt; v.size(); ++i) {
    //Use v and v[i]
}</code></pre>
<p>Note that, while this feature is available in our MSVC compiler, it is not yet supported in the EDG compiler that powers IntelliSense, so you may see red squiggles in your editor until support is added.</p>
<p>For all of the compiler improvements shipped in VS 2022 17.13, see <a href="https://devblogs.microsoft.com/cppblog/msvc-compiler-updates-in-visual-studio-2022-version-17-13">MSVC Compiler Updates in Visual Studio 2022 version 17.13</a>.</p>
<p>Our standard library has too many improvements to list in this blog post, so check out the <a href="https://github.com/microsoft/STL/wiki/Changelog#vs-2022-1713">changelog</a> for all the details. Thanks to everyone in the community who contributed to this release! I’ve picked out some highlights below.</p>
<p>The feature I’m most excited about is <code>std::generator</code>. This brings some long-awaited standard library support for coroutines. A little example from <a href="https://wg21.link/p2502r2">the paper</a>:</p>
<pre class="prettyprint language-cpp"><code class="language-cpp">std::generator&lt;int&gt; fib() {
    auto a = 0, b = 1;
    while (true) {
        co_yield std::exchange(a, std::exchange(b, a + b));
    }
}

int answer_to_the_universe() {
    auto rng = fib() | std::views::drop(6) | std::views::take(3);
    return std::ranges::fold_left(std::move(rng), 0, std::plus{});
}</code></pre>
<p>The <code>fib</code> function is a coroutine (because it uses the <code>co_yield</code> keyword). Whenever the <code>co_yield</code> statement is executed, <code>fib</code> is suspended and the value is returned to the caller. The <code>fib</code> coroutine can then be resumed later to produce more values, without requiring any manual state handling from the programmer. As you can see from the next function, <code>std::generator</code> is compatible with ranges, so we can pipe it into some range adaptors from the standard library.</p>
<p>Also in the area of conformance, we implemented two papers that improve the performance of <code>std::print</code>: <a href="https://wg21.link/p3107r5">P3107R5</a> and <a href="https://wg21.link/P3235R3">P3235R3</a>.</p>
<p>We’ve improved the build throughput of <code>&lt;queue&gt;</code>, <code>&lt;stack&gt;</code>,<code> &lt;stacktrace&gt;</code>, and <code>&lt;thread&gt;</code> by not including all of <code>&lt;format&gt;</code>. For the same reason, we’ve moved <code>system_clock</code>, <code>high_resolution_clock</code>, and <code>chrono_literals</code> from a commonly-included internal header to <code>&lt;chrono&gt;</code>. This has source-breaking impact. If you see compiler errors complaining that it doesn&#8217;t recognize chrono types like <code>system_clock</code> or UDLs like <code>1729ms</code>, you need to include <code>&lt;chrono&gt;</code> specifically, instead of assuming that headers like <code>&lt;thread&gt;</code> will drag it in.</p>
<p>We have also continued our work in improving vectorization across the standard library. This release comes with improvements for the following types and functions:</p>
<ul>
<li><code>(ranges::)find_end</code></li>
<li><code>basic_string::(r)find</code></li>
<li><code>adjacent_difference</code></li>
<li><code>bitset</code></li>
<li><code>basic_string::find_last_of</code></li>
<li><code>(ranges::)remove</code></li>
</ul>
<h2>C++ Productivity</h2>
<h3>Unreal Engine integration updates</h3>
<p>We have made a series of updates for the Unreal Engine integration in Visual Studio:</p>
<ul>
<li>We added two new options in <strong>Tools &gt; Options</strong> that allow you to specify Code Analysis with Unreal Header Tool for both header and source files. To enhance performance, analysis of source files is disabled by default.</li>
<li>You can now specify <em>Public</em> and <em>Private</em> folders when using the <em>Add Class</em> wizard, ensuring that your classes are created in the correct folder structure.</li>
</ul>
<p>If you want to learn more about the Visual Studio support for Unreal Engine, check out our <a href="https://learn.microsoft.com/en-us/visualstudio/gamedev/unreal/get-started/vs-tools-unreal-overview">Unreal Engine Overview</a> page.</p>
<h3>C++23 Preview Project Setting</h3>
<p>You can now enable a <strong>preview</strong> of our C++23 implementation in Visual C++ directly from your project settings! This new setting unlocks access to the latest features we&#8217;ve implemented of the C++23 standard. As this is a preview of C++23 features, those new features will have limited support and may change in future releases.</p>
<p><img decoding="async" width="784" height="547" class="wp-image-35103" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m.png 784w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-300x209.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-768x536.png 768w" sizes="(max-width: 784px) 100vw, 784px" /></p>
<p>For more details and instructions, check out <a href="https://learn.microsoft.com/cpp/build/reference/std-specify-language-standard-version">our documentation</a>.</p>
<h3>New Code Generation Property Page Settings for x86 and x64</h3>
<p>Vector Length Property: Configure vector lengths for code generation on x86 and x64 directly in your C++ project settings by going to <strong>Configuration</strong> <strong>Properties &gt; C/C++ &gt; Code Generation</strong>.</p>
<p><img decoding="async" width="778" height="511" class="wp-image-35104" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-1.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-1.png 778w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-1-300x197.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-1-768x504.png 768w" sizes="(max-width: 778px) 100vw, 778px" /></p>
<p>AVX10.1 Support: Unlock the power of AVX10.1 with a new entry in Enable Enhanced Instruction Set, adding the /arch:AVX10.1 flag to your builds.</p>
<p><img decoding="async" width="784" height="511" class="wp-image-35105" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-program-ai-generated-c.png" alt="A screenshot of a computer program AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-program-ai-generated-c.png 784w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-program-ai-generated-c-300x196.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-program-ai-generated-c-768x501.png 768w" sizes="(max-width: 784px) 100vw, 784px" /></p>
<p>Check out the <a href="https://learn.microsoft.com/cpp/build/reference/vlen">documentation</a> for details.</p>
<h3>Support for CMake Presets v9</h3>
<p>Visual Studio now supports CMake Presets v9. This latest version of CMake presets introduces several documented versions of macro expansions in the include field of a preset. Read more at the <a href="https://cmake.org/cmake/help/latest/manual/cmake-presets.7.html#macro-expansion">official CMake documentation</a>.</p>
<h3>Specify Linux timeout settings for C++</h3>
<p>We have added support for specifying a minimum timeout period for your remote machines that you are connected to via the Connection Manager in Visual Studio. To learn more about adding a remote connection in Visual Studio, please see <a href="https://learn.microsoft.com/cpp/linux/connect-to-your-remote-linux-computer">our C++ Linux documentation</a>.</p>
<p>You can specify the timeout period in the Command Prompt in Visual Studio, using the new property <code>MinTimeoutSeconds</code>. For example, to set the timeout period to 1 minute, you can use the following command:</p>
<pre class="prettyprint language-default"><code class="language-default">ConnectionManager modify &lt;connection-id&gt; --property MinTimeoutSeconds=60</code></pre>
<h2>General Productivity</h2>
<h3>Set Default File Encoding</h3>
<p>Visual Studio now allows you to set the default file encoding for saving files. This feature ensures that your preferred encoding is used whenever possible.</p>
<p>To set the default encoding, navigate to <strong>Tools &gt; Options &gt; Environment &gt; Documents</strong>. There, you will find an option titled <strong>Save files with the following encoding</strong>.</p>
<p><img decoding="async" width="500" height="165" class="wp-image-35106" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-4.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-4.png 500w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-4-300x99.png 300w" sizes="(max-width: 500px) 100vw, 500px" /></p>
<h3>Horizontal Scrollbar Visibility Improvements</h3>
<p>The horizontal scrollbar in the editor now repositions itself to always be accessible, even when space is limited. You can customize this behavior with the <strong>Tools &gt; Options &gt; Text Editor &gt; Advanced &gt; Editor horizontal scrollbar location</strong> option.</p>
<p><img decoding="async" width="570" height="115" class="wp-image-35107" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-5.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-5.png 570w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-5-300x61.png 300w" sizes="(max-width: 570px) 100vw, 570px" /></p>
<h3>Word Wrap Indentation</h3>
<p>You can now specify whether lines that wrap in the editor should be indented. Enable this with the <strong>Tools &gt; Options &gt; Text Editor &gt; General &gt;</strong> <strong>Automatically indent when word wrap is enabled </strong>option.</p>
<p><strong><img decoding="async" width="615" height="139" class="wp-image-35108" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-6.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-6.png 615w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-6-300x68.png 300w" sizes="(max-width: 615px) 100vw, 615px" /></strong></p>
<h3>Recent Files in Code Search</h3>
<p>When you open Code Search without a query, you&#8217;ll see a list of your recently navigated files. These include the files you opened through Code Search, but also any other files you opened in the solution. This makes it easy to jump back to a file you were recently working on without having to remember or type the file name.</p>
<p><img decoding="async" width="793" height="499" class="wp-image-35109" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screen-shot-of-a-computer-ai-generated-content.png" alt="A screen shot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screen-shot-of-a-computer-ai-generated-content.png 793w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screen-shot-of-a-computer-ai-generated-content-300x189.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screen-shot-of-a-computer-ai-generated-content-768x483.png 768w" sizes="(max-width: 793px) 100vw, 793px" /></p>
<h3>Enhanced Line and Column Navigation</h3>
<p>In Code Search, we&#8217;ve significantly enhanced line navigation capabilities. The following formats are now supported:</p>
<ul>
<li>:line to navigate to a specific line in the active document</li>
<li>:line,col to navigate to a specific line and column in the active document</li>
<li>file:line to navigate to a specific line in a specified file</li>
<li>file:line,col to navigate to a specific line and column in a specified file</li>
<li>file(line) to navigate to a specific line in a specified file</li>
<li>file(line,col) to navigate to a specific line and column in a specified file</li>
</ul>
<p><img decoding="async" width="648" height="496" class="wp-image-35110" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-2.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-2.png 648w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-2-300x230.png 300w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<h2>Debugging &amp; Diagnostics</h2>
<h3>Targeted Instrumentation</h3>
<p>The Visual Studio profiler&#8217;s instrumentation tool now supports targeted instrumentation for native code, allowing you to select specific classes and functions for detailed analysis.</p>
<p>To access this tool, select <strong>Debug &gt; Performance Profiler… &gt; Instrumentation</strong>.</p>
<p><strong><img decoding="async" width="392" height="399" class="wp-image-35111" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-3.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-3.png 392w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-3-295x300.png 295w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-3-24x24.png 24w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-3-48x48.png 48w" sizes="(max-width: 392px) 100vw, 392px" /></strong></p>
<h3>Color-Coded Swim Lanes for CPU Profiling</h3>
<p>The Visual Studio profiler&#8217;s CPU Usage tool now supports multi-process analysis, displaying performance graphs with distinct color coding for each process in swim lanes.</p>
<p>The graphs are displayed as stacked area charts. You also have the option to filter processes using a dropdown on the top left, enabling focused analysis.</p>
<p><strong><img decoding="async" width="1142" height="189" class="wp-image-35112" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-10.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-10.png 1142w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-10-300x50.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-10-1024x169.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-10-768x127.png 768w" sizes="(max-width: 1142px) 100vw, 1142px" /></strong></p>
<h2>Git tooling</h2>
<h3>Add comments on pull requests</h3>
<p>You can now add new comments to pull request files on the checked-out branch. This was a top request for the pull request experience and is the latest in a series of improvements to the pull request experience in Visual Studio.</p>
<p>Enable the feature flags <strong>Pull Request Comments</strong> and <strong>Pull Request Add Comment</strong> in <strong>Tools &gt; Options &gt; Environment &gt; Preview Features</strong>, check out any branch with an active pull request, and select <strong>Show comments in files</strong> in the info bar. This will activate the pull request comments experience in the editor.</p>
<p><strong><img decoding="async" width="798" height="172" class="wp-image-35113" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-4.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-4.png 798w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-4-300x65.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-4-768x166.png 768w" sizes="(max-width: 798px) 100vw, 798px" /></strong></p>
<h3>Review Changes with Copilot</h3>
<p>You can now request a code review from GitHub Copilot from the Git Changes window.</p>
<p><img decoding="async" width="323" height="108" class="wp-image-35114" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-5.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-5.png 323w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-5-300x100.png 300w" sizes="(max-width: 323px) 100vw, 323px" /></p>
<p>The model will look for potential issues and create comments for them:</p>
<p><strong><img decoding="async" width="676" height="176" class="wp-image-35115" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screen-shot-of-a-computer-ai-generated-content-1.png" alt="A screen shot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screen-shot-of-a-computer-ai-generated-content-1.png 676w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screen-shot-of-a-computer-ai-generated-content-1-300x78.png 300w" sizes="(max-width: 676px) 100vw, 676px" /></strong></p>
<p>To use this feature, ensure you have the following feature flags turned on:</p>
<ul>
<li><strong>Tools</strong> &gt; <strong>Options</strong> &gt; <strong>Preview Features</strong> &gt; <strong>Pull Request Comments</strong></li>
<li><strong>Tools</strong> &gt; <strong>Options</strong> &gt; <strong>GitHub</strong> &gt; <strong>Copilot</strong> &gt; <strong>Source Control Integration</strong> &gt; <strong>Enable Git preview features</strong>.</li>
</ul>
<h3>View and Manage Git Tags</h3>
<p>You can now view and manage Git tags directly from the Git Repository window.</p>
<p><img decoding="async" width="398" height="414" class="wp-image-35116" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-6.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-6.png 398w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-6-288x300.png 288w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-6-24x24.png 24w" sizes="(max-width: 398px) 100vw, 398px" /></p>
<h2>IDE</h2>
<h3>Preserve Font Preferences Across Themes</h3>
<p>Your font face and size choices are now retained when switching themes in Visual Studio. The colors of your fonts remain linked to the theme.</p>
<p>This feature is enabled by default. If you prefer the previous behavior, toggle the <strong>Tools &gt; Manage Preview Features &gt; Separate font settings from color theme selection </strong>option.</p>
<h3>New Ways to Sign In With GitHub</h3>
<p>You can now sign in to your GitHub account either from the first launch configuration dialog, or the “Sign in” button in Visual Studio.</p>
<p><img decoding="async" width="500" height="281" class="wp-image-35117" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-15.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-15.png 500w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/word-image-35102-15-300x169.png 300w" sizes="(max-width: 500px) 100vw, 500px" /></p>
<h3>Manage multiple GitHub accounts</h3>
<p>You can now manage multiple GitHub accounts from Visual Studio. To do so, click <strong>Add another account</strong> in either the profile card menu accessible near the window controls of Visual Studio, or in <strong>File &gt; Account Settings</strong>. If you have multiple GitHub accounts, Visual Studio will default to the one marked as <em>active</em> for GitHub-aware features, such as version control and GitHub Copilot.</p>
<p><img decoding="async" width="374" height="353" class="wp-image-35118" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-7.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-7.png 374w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-7-300x283.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-7-24x24.png 24w" sizes="(max-width: 374px) 100vw, 374px" /></p>
<h2>GitHub Copilot</h2>
<h3>GitHub Copilot Free</h3>
<p>GitHub Copilot Free is now available. You get 2,000 code completions and 50 chat requests per month at no cost. Go to <a href="https://learn.microsoft.com/visualstudio/ide/copilot-free-plan">Microsoft Learn</a> to find out all the details.</p>
<h3>Better AI code completions for C++</h3>
<p>GitHub Copilot code completions provide autocomplete suggestions inline as you code. To enhance the experience of C++ developers, we&#8217;ve updated GitHub Copilot to include other relevant files as context. This improvement helps reduce hallucinations while offering more relevant and accurate suggestions and is aligned with the current GitHub Copilot experience for C++ in VS Code.</p>
<h3>GitHub Copilot Edits for Working Across Files</h3>
<p>GitHub Copilot Edits is a new feature that helps make changes that touch multiple files in your project. To start a new Edits session, click the <strong>Create new edit session</strong> at the top of the GitHub Copilot Chat window:</p>
<p><img decoding="async" width="501" height="87" class="wp-image-35119" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-8.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-8.png 501w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-8-300x52.png 300w" sizes="(max-width: 501px) 100vw, 501px" /></p>
<p>Describe the changes you want to make, and Copilot will suggest the relevant edits. You can then preview them one-by-one and accept the ones you want or make corrections.</p>
<p><strong><img decoding="async" width="490" height="548" class="wp-image-35120" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-9.png" alt="A screenshot of a computer AI-generated content may be incorrect." srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-9.png 490w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/02/a-screenshot-of-a-computer-ai-generated-content-m-9-268x300.png 268w" sizes="(max-width: 490px) 100vw, 490px" /></strong></p>
<h2>Send us your feedback</h2>
<p>We are very much interested in your feedback to continue to improve this experience. The comments below are open. Feedback can also be shared through <a href="https://developercommunity.visualstudio.com/cpp" target="_blank" rel="noopener">Visual Studio Developer Community</a>. You can also reach us via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>&nbsp;</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-13/">What’s New for C++ Developers in Visual Studio 2022 17.13</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-13/feed/</wfw:commentRss>
			<slash:comments>4</slash:comments>
		
		
			</item>
		<item>
		<title>Document build instructions and more with enhanced C++ awareness from Copilot Chat in Visual Studio</title>
		<link>https://devblogs.microsoft.com/cppblog/document-build-instructions-and-more-with-enhanced-c-awareness-from-copilot-chat-in-visual-studio/</link>
					<comments>https://devblogs.microsoft.com/cppblog/document-build-instructions-and-more-with-enhanced-c-awareness-from-copilot-chat-in-visual-studio/#comments</comments>
		
		<dc:creator><![CDATA[Sinem Akinci]]></dc:creator>
		<pubDate>Thu, 30 Jan 2025 15:48:47 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[CMake]]></category>
		<category><![CDATA[Copilot]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35053</guid>

					<description><![CDATA[<p>C++ development often involves nuances beyond the file you’re developing in. This can leave developers with many mental tabs open, balancing all the relevant context for their project to develop their C++ code properly. Copilot Chat in Visual Studio can already utilize context provided by specified files and invoked agents such as @workspace to generate [&#8230;]</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/document-build-instructions-and-more-with-enhanced-c-awareness-from-copilot-chat-in-visual-studio/">Document build instructions and more with enhanced C++ awareness from Copilot Chat in Visual Studio</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>C++ development often involves nuances beyond the file you’re developing in. This can leave developers with many mental tabs open, balancing all the relevant context for their project to develop their C++ code properly.</p>
<p>Copilot Chat in Visual Studio can already utilize context provided by <a href="https://learn.microsoft.com/en-us/visualstudio/ide/copilot-chat-context?view=vs-2022#reference">specified files and invoked agents such as @workspace</a> to generate suggestions. However, to improve the relevance of Copilot suggestions, we must provide tailored context to Copilot with considerations specific to the C++ language for developers to achieve better results. That way, developers can focus less on providing all the information necessary for their questions and focus more on the task at hand.</p>
<p>Visual Studio can now provide Copilot Chat with various levels of C++ project context. These updates are designed to help C++ developers incorporate more relevant suggestions into their code, faster than ever.</p>
<p>To showcase Copilot’s increased awareness of C++, we will walk through 3 sample C++ workflows where Chat can provide assistance:</p>
<ol>
<li>Improving documentation for build instructions</li>
<li>Generating new tests</li>
<li>Modernizing C++ code</li>
</ol>
<p>Upgrade to <a href="aka.ms/vs">the latest version of Visual Studio 2022</a> and try out <a href="https://github.com/features/copilot">GitHub Copilot</a> (<a href="https://devblogs.microsoft.com/visualstudio/github-copilot-free-is-here-in-visual-studio/">now with plans available for free</a>) to access these updates for C++.</p>
<h4>Documenting Build Instructions</h4>
<p>C++ projects can sometimes require developers to undergo several steps to be able to configure a project for development before they are even able to begin coding. Due to these requirements, it is important to document relevant instructions for onboarding developers thoroughly.</p>
<p>We asked Copilot Chat to improve documentation in the <a href="https://github.com/endless-sky/endless-sky">open-source project Endless Sk</a>y&#8217;s README. Copilot was able to include relevant context, such as dependencies like Ninja, to enhance Chat suggestions for improving documentation specific to this project’s needs, minimizing manual toil to onboard developers onto a project.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-readme2.png"><img decoding="async" class="alignnone wp-image-35055" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-readme2.png" alt="Copilot providing suggestions to add relevant configuration instructions to endless sky's readme file" width="1935" height="969" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-readme2.png 2166w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-readme2-300x150.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-readme2-1024x513.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-readme2-768x385.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-readme2-1536x769.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-readme2-2048x1026.png 2048w" sizes="(max-width: 1935px) 100vw, 1935px" /></a></p>
<h4>Generating Additional Tests</h4>
<p>Writing unit tests for C++ can be cumbersome and painstaking. With the <strong>/tests</strong> command, Copilot can assist with generating unit tests for the selected code. Copilot now has awareness of the available testing structure found in your project, so that when you invoke <strong>/tests</strong> to generate tests in your projects, friction is minimal for integrating the generated tests that fit in with your existing ones.</p>
<p>For example, when we prompted to generate new unit tests for the <code>Step</code> method in the <code>Weather.cpp</code> file in <a href="https://github.com/endless-sky/endless-sky">endless-sky</a> using the<strong> /tests </strong>command, Copilot generated new tests that resemble the existing tests in the project:</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests.png"><img decoding="async" class="alignnone wp-image-35056" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests.png" alt="Generating Unit Tests for the Weather.cpp file using Copilto provides Catch2 framework" width="1538" height="842" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests.png 2139w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-300x164.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-1024x561.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-768x420.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-1536x841.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-2048x1121.png 2048w" sizes="(max-width: 1538px) 100vw, 1538px" /></a></p>
<p>When compared to existing test code, like <code>test_ship.cpp</code>, the Chat response includes the same relevant header files and test case structure like using <code>SCENARIO</code> and <code>GIVEN</code> for test cases.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-2.png"><img decoding="async" class="alignnone wp-image-35058" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-2.png" alt="Existing tests for test_ship.cpp with SCENARIO and GIVEN cases" width="1176" height="703" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-2.png 1506w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-2-300x179.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-2-1024x612.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/endless-sky-tests-2-768x459.png 768w" sizes="(max-width: 1176px) 100vw, 1176px" /></a></p>
<h4>Refactoring C++ code for modernization</h4>
<p>Maintainability of C++ code can be difficult as C++ coding conventions evolve over the years. C++ developers often need to refactor legacy code to improve code clarity and maintainability over time.</p>
<p>Now, when asking Copilot questions related to C++ development such as refactoring code, <strong> </strong>Copilot has the awareness to not only provide suggestions that are relevant to your selected code, but also suggestions that are compliant with your project’s configurations and standards.</p>
<p>Let’s take a look at an example, using some loop code that finds the greatest even element in a given container below. It can be useful to<a href="https://www.youtube.com/watch?v=W2tWOdzgXHA"> update C++ raw loop code</a> to utilize algorithms instead for a myriad of reasons, including improving code readability and minimizing errors</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/raw-loop.png"><img decoding="async" class="alignnone wp-image-35059" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/raw-loop.png" alt="Raw loop code in C++" width="1277" height="526" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/raw-loop.png 1551w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/raw-loop-300x124.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/raw-loop-1024x422.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/raw-loop-768x316.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/raw-loop-1536x633.png 1536w" sizes="(max-width: 1277px) 100vw, 1277px" /></a></p>
<p>When initially asked to refactor the code to incorporate algorithms or ranges using older C++/CMake versions, Copilot suggests using <code>std::max_element</code> to improve the code to be more concise instead of requiring a manual loop.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop.png"><img decoding="async" class="alignnone wp-image-35060" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop.png" alt="Copilot is refactoring the raw loop code to use the algorithm header in the original implementation" width="1412" height="878" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop.png 1993w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-300x187.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-1024x637.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-768x478.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-1536x956.png 1536w" sizes="(max-width: 1412px) 100vw, 1412px" /></a></p>
<p>After updating the standard of the project to the latest standard of C++23, Copilot responses now include newer C++ features that can be relevant to the question, such as <code>std::ranges</code>, to improve the code.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-2.png"><img decoding="async" class="alignnone wp-image-35061" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-2.png" alt="Copilot refactoring the raw loop to use ranges with the latest C++ standard" width="1578" height="840" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-2.png 2188w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-2-300x160.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-2-1024x545.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-2-768x409.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-2-1536x818.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/refactor-raw-loop-2-2048x1090.png 2048w" sizes="(max-width: 1578px) 100vw, 1578px" /></a></p>
<h4>What do you think?</h4>
<p>Try out the latest Chat improvements for your C++ workflows today. To access these updates to Copilot, you’ll need an <a href="https://github.com/features/copilot?utm_source=vscom&amp;utm_medium=hero&amp;utm_campaign=cta-get#pricing">active GitHub Copilot subscription</a> and the <a href="http://aka.ms/vs">latest version of Visual Studio</a>.</p>
<p>In addition, our team is working hard on improving C++ integrations with Copilot, so please let us know any other enhancements you’d like to see to your C++ workflows and content you’d like to see. Comment below, or you can find us via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a> or via X at <a href="https://x.com/visualc">@VisualC</a>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/document-build-instructions-and-more-with-enhanced-c-awareness-from-copilot-chat-in-visual-studio/">Document build instructions and more with enhanced C++ awareness from Copilot Chat in Visual Studio</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/document-build-instructions-and-more-with-enhanced-c-awareness-from-copilot-chat-in-visual-studio/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>What’s New in vcpkg (January 2025)</title>
		<link>https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-january-2025/</link>
					<comments>https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-january-2025/#respond</comments>
		
		<dc:creator><![CDATA[Augustin Popa]]></dc:creator>
		<pubDate>Thu, 23 Jan 2025 18:44:37 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Vcpkg]]></category>
		<category><![CDATA[vcpkg]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=35041</guid>

					<description><![CDATA[<p>This blog post summarizes changes to the vcpkg package manager as part of the 2025.01.13 registry release, 2025-01-11 tool release, as well as changes to vcpkg documentation throughout January. This release includes minor improvements and bug fixes. Some stats for this period: There are now 2,524 total ports available in the vcpkg curated registry. A [&#8230;]</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-january-2025/">What’s New in vcpkg (January 2025)</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>This blog post summarizes changes to the <a href="https://vcpkg.io/">vcpkg package manager</a> as part of the <a href="https://github.com/microsoft/vcpkg/releases/tag/2025.01.13">2025.01.13</a> registry release, <a href="https://github.com/microsoft/vcpkg-tool/releases/tag/2025-01-11">2025-01-11</a> tool release, as well as changes to <a href="https://learn.microsoft.com/vcpkg/">vcpkg documentation</a> throughout January. This release includes minor improvements and bug fixes.</p>
<p>Some stats for this period:</p>
<ul>
<li>There are now <strong>2,524 total ports </strong>available in the vcpkg curated registry. A <a href="https://learn.microsoft.com/vcpkg/concepts/ports">port is a versioned recipe</a> for building a package from source, such as a C or C++ library.</li>
<li><strong>12 new ports</strong> were added to the curated registry.</li>
<li><strong>177 updates</strong> were made to existing ports. As always, we validate each change to a port by building all other ports that depend on or are depended by the library that is being updated for our 13 main <a href="https://learn.microsoft.com/vcpkg/concepts/triplets">triplets</a>.</li>
<li><strong>63 </strong>community contributors made commits.</li>
<li>The main vcpkg repo has over <strong>6,600 forks</strong> and <strong>23,800 stars</strong> on GitHub.</li>
</ul>
<h1>vcpkg changelog (2025.01.13 release)</h1>
<p>The following notable changes were made in January:</p>
<ul>
<li>Moved <em>vcpkgTools.xml</em> data into a JSON file, removed the XML parsing code, added <em>architecture</em> field to tool metadata, and removed the requirement of force system binaries on arm64 Linux platforms (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1553">Microsoft/vcpkg-tool#1553</a>).</li>
<li>Added some checks to prevent vcpkg from sometimes using an incompatible version of CMake, resulting in an error for the user (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1562">Microsoft/vcpkg-tool#1562</a>, thanks @autoantwort!).</li>
<li>Other minor bug fixes.</li>
</ul>
<h1>Documentation changes</h1>
<p>There are no changes to vcpkg documentation this month.</p>
<p>If you have any suggestions for our documentation, please <a href="https://github.com/microsoft/vcpkg-docs/issues">submit an issue in our GitHub repo</a> or see the box at the bottom of a particular article.</p>
<p><img decoding="async" class="wp-image-35042" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2025/01/word-image-35041-1.png" width="781" height="227" /></p>
<h1>Total ports available for tested triplets</h1>
<table>
<tbody>
<tr>
<td><strong>triplet</strong></td>
<td><strong>ports available</strong></td>
</tr>
<tr>
<td>x64-windows</td>
<td>2,422</td>
</tr>
<tr>
<td>x86-windows</td>
<td>2,315</td>
</tr>
<tr>
<td>x64-windows-static</td>
<td>2,294</td>
</tr>
<tr>
<td>x64-windows-static-md</td>
<td>2,344</td>
</tr>
<tr>
<td>arm64-windows</td>
<td>2,029</td>
</tr>
<tr>
<td>arm64-windows-static-md</td>
<td>2,010</td>
</tr>
<tr>
<td>x64-uwp</td>
<td>1,346</td>
</tr>
<tr>
<td>arm64-uwp</td>
<td>1,312</td>
</tr>
<tr>
<td>x64-linux</td>
<td>2,399</td>
</tr>
<tr>
<td>x64-osx</td>
<td>2,273</td>
</tr>
<tr>
<td>arm64-osx</td>
<td>2,191</td>
</tr>
<tr>
<td>arm-neon-android</td>
<td>1,690</td>
</tr>
<tr>
<td>x64-android</td>
<td>1,764</td>
</tr>
<tr>
<td>arm64-android</td>
<td>1,732</td>
</tr>
</tbody>
</table>
<p>While vcpkg supports a much larger variety of target platforms and architectures (as <a href="https://github.com/microsoft/vcpkg/tree/master/triplets/community">community triplets</a>), the list above is validated exhaustively to ensure updated ports don’t break other ports in the catalog.</p>
<h1>Thank you to our contributors</h1>
<p>vcpkg couldn’t be where it is today without contributions from our open-source community. Thank you for your continued support! The following people contributed to the <a href="https://github.com/microsoft/vcpkg">vcpkg</a>, <a href="https://github.com/microsoft/vcpkg-tool">vcpkg-tool</a>, or <a href="https://github.com/microsoft/vcpkg-docs">vcpkg-docs</a> repos in this release (listed alphabetically by GitHub username):</p>
<ul>
<li>AenBleidd</li>
<li>alagoutte</li>
<li>an-tao</li>
<li>autoantwort</li>
<li>boris-bc</li>
<li>bshoshany</li>
<li>buck-yeh</li>
<li>c8ef</li>
<li>cffk</li>
<li>chiphogg</li>
<li>danielaparker</li>
<li>davidepianca98</li>
<li>deniskovalchuk</li>
<li>DeveloperPaul123</li>
<li>dg0yt</li>
<li>donny-dont</li>
<li>drdanz</li>
<li>eyalroz</li>
<li>flarive</li>
<li>GabeRundlett</li>
<li>gastineau</li>
<li>gfeyer</li>
<li>hosseinmoein</li>
<li>ilya-lavrenov</li>
<li>JackBoosY</li>
<li>JacobBarthelmeh</li>
<li>jcelerier</li>
<li>jeremy-rifkin</li>
<li>JoergAtGithub</li>
<li>jreichel-nvidia</li>
<li>lesomnus</li>
<li>liuzicheng1987</li>
<li>luadebug</li>
<li>luncliff</li>
<li>m-kuhn</li>
<li>marcodiiga</li>
<li>MehdiChinoune</li>
<li>michael-doubez</li>
<li>miyanyan</li>
<li>msclock</li>
<li>myd7349</li>
<li>Neumann-A</li>
<li>nickdademo</li>
<li>nlogozzo</li>
<li>oleg-derevenetz</li>
<li>PavelKisliak</li>
<li>rioki</li>
<li>RobbertProost</li>
<li>RT2Code</li>
<li>rtzoeller</li>
<li>rustyconover</li>
<li>salman-javed-nz</li>
<li>scotthart</li>
<li>SunBlack</li>
<li>talregev</li>
<li>tartanpaint</li>
<li>Tradias</li>
<li>walbourn</li>
<li>weypro</li>
<li>wikiwang1991</li>
<li>xb284524239</li>
<li>xiaozhuai</li>
<li>yurybura</li>
</ul>
<h1>Learn more</h1>
<p>You can find the <a href="https://github.com/microsoft/vcpkg/releases">main release notes</a> on GitHub. Recent updates to the vcpkg tool can be viewed on the <a href="https://github.com/microsoft/vcpkg-tool/releases">vcpkg-tool Releases page</a>. To contribute to vcpkg documentation, visit the <a href="https://github.com/microsoft/vcpkg-docs">vcpkg-docs repo</a>. If you’re new to vcpkg or curious about how a package manager can make your life easier as a C/C++ developer, check out the <a href="https://vcpkg.io">vcpkg website – vcpkg.io</a>.</p>
<p>If you would like to contribute to vcpkg and its library catalog, or want to give us feedback on anything, check out our <a href="https://github.com/microsoft/vcpkg">GitHub repo</a>. Please report bugs or request updates to ports in our <a href="https://github.com/microsoft/vcpkg/issues">issue tracker</a> or join more general discussion in our <a href="https://github.com/microsoft/vcpkg/discussions">discussion forum</a>.</p>
<p>&nbsp;</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-january-2025/">What’s New in vcpkg (January 2025)</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/whats-new-in-vcpkg-january-2025/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
