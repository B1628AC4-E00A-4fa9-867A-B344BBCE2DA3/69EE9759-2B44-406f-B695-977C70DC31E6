<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>C++ Team Blog</title>
	<atom:link href="https://devblogs.microsoft.com/cppblog/feed/" rel="self" type="application/rss+xml" />
	<link>https://devblogs.microsoft.com/cppblog/</link>
	<description>The latest in C++, Visual Studio, VS Code, and vcpkg from the MSFT C++ team</description>
	<lastBuildDate>Fri, 03 Nov 2023 19:46:55 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	

<image>
	<url>https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2018/10/Microsoft-Favicon.png</url>
	<title>C++ Team Blog</title>
	<link>https://devblogs.microsoft.com/cppblog/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>vcpkg 2023.10.19 Release: Export for Manifests, Documentation Improvements, and More‚Ä¶</title>
		<link>https://devblogs.microsoft.com/cppblog/vcpkg-2023-10-19-release-export-for-manifests-documentation-improvements-and-more/</link>
					<comments>https://devblogs.microsoft.com/cppblog/vcpkg-2023-10-19-release-export-for-manifests-documentation-improvements-and-more/#respond</comments>
		
		<dc:creator><![CDATA[Augustin Popa]]></dc:creator>
		<pubDate>Fri, 03 Nov 2023 19:46:55 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=33067</guid>

					<description><![CDATA[<p>The 2023.10.19 release of the vcpkg package manager is available. This blog post summarizes changes from August 10th, 2023 to October 19th, 2023 for the Microsoft/vcpkg, Microsoft/vcpkg-tool, and Microsoft/vcpkg-docs GitHub repos.<br />
Some stats for this period:</p>
<p>53 new ports were added to the open-source registry.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/vcpkg-2023-10-19-release-export-for-manifests-documentation-improvements-and-more/">vcpkg 2023.10.19 Release: Export for Manifests, Documentation Improvements, and More‚Ä¶</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>The <a href="https://github.com/microsoft/vcpkg/releases/tag/2023.10.19">2023.10.19 release of the vcpkg package manager is available</a>. This blog post summarizes changes from August 10<sup>th</sup>, 2023 to October 19<sup>th</sup>, 2023 for the <a href="https://github.com/microsoft/vcpkg">Microsoft/vcpkg</a>, <a href="https://github.com/microsoft/vcpkg-tool/">Microsoft/vcpkg-tool</a>, and <a href="https://github.com/microsoft/vcpkg-docs">Microsoft/vcpkg-docs</a> GitHub repos.</p>
<p>Some stats for this period:</p>
<ul>
<li><strong>53 new ports</strong> were added to the open-source registry. If you are unfamiliar with the term ‚Äòport‚Äô, they are packages that are built from source and are typically C/C++ libraries.</li>
<li><strong>729 updates</strong> were made to existing ports. As always, we validate each change to a port by building all other ports that depend on or are depended by the library that is being updated for our nine main triplets.</li>
<li>There are now <strong>2,318 total libraries</strong> available in the vcpkg public registry.</li>
<li><strong>34 contributors</strong> submitted PRs, issues, or participated in discussions in the main repo.</li>
<li>The main vcpkg repo has over <strong>5,700 forks</strong> and <strong>19,900 stars</strong> on GitHub.</li>
</ul>
<p>&nbsp;</p>
<h3 id="key-changes">Key changes</h3>
<p>Notable changes for this release are summarized below.</p>
<h4 id="vcpkg-export-now-supports-manifest-mode">vcpkg export now supports manifest mode</h4>
<p><a href="https://learn.microsoft.com/en-us/vcpkg/commands/export">The vcpkg export command</a> can be used to export built packages from the installed directory to a standalone SDK. A variety of formats are supported, including NuGet, a zip, or a raw directory. The SDK contains all prebuilt binaries for the selected packages, their transitive dependencies, and integration files such as CMake toolchain or MSBuild props/targets. This command is useful for developers who want to export their dependencies to a portable format for their end users to consume, when those end users do not have vcpkg.</p>
<p>Now, this command is supported for manifest-based (<em>vcpkg.json</em>) projects. Summary of changes:</p>
<ul>
<li><code>vcpkg export</code> in manifest mode exports everything in the <em>vcpkg_installed </em>directory</li>
<li>In manifest mode, the export command emits an error and fails when port:triplet arguments are provided, as they are not allowed in manifest mode.</li>
<li>Added a guard to exit with an error message when the installed directory is empty. Previously, it just failed silently.</li>
<li>Made <code>--output-dir</code> mandatory in manifest mode.</li>
</ul>
<p><a href="https://learn.microsoft.com/en-us/vcpkg/commands/export#Manifest-Mode">Documentation for vcpkg export in manifest mode</a></p>
<p>PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1136">Microsoft/vcpkg-tool#1136</a></p>
<p>&nbsp;</p>
<h4 id="implemented-default-triplet-changes-announced-earlier-this-year">Implemented default triplet changes announced earlier this year</h4>
<p>In a <a href="https://devblogs.microsoft.com/cppblog/vcpkg-2023-02-24-release-default-triplet-changes-risc-v-support-bug-fixes-and-more/">previous blog post</a>, we announced that we would be changing the default behavior for commands that accept a triplet as an option but are not provided one. This change is now live. The default triplet assumed is no longer always x86-windows but will instead use a triplet inferred from your CPU architecture and operating system.</p>
<p>PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1180">Microsoft/vcpkg-tool#1180</a></p>
<p>&nbsp;</p>
<h4 id="improvements-to-vcpkg-help">Improvements to vcpkg help</h4>
<p>The documentation provided when running <code>vcpkg help</code> or <code>vcpkg help &lt;command&gt;</code> has been updated. This should make it easier to explore vcpkg without having to go to the <a href="https://learn.microsoft.com/vcpkg/">documentation on Microsoft Learn</a> and also improves the autocompletion (Tab) experience for the tool. Below are some screenshots of the new experience.</p>
<p>Before (left) and after (right) when running <code>vcpkg help</code> (or not providing any commands to vcpkg):</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/before-after-vcpkg-help-screenshot.png"><img decoding="async" class="alignnone size-full wp-image-33069" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/before-after-vcpkg-help-screenshot.png" width="624" height="341" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/before-after-vcpkg-help-screenshot.png 624w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/before-after-vcpkg-help-screenshot-300x164.png 300w" sizes="(max-width: 624px) 100vw, 624px" /></a></p>
<p>Summary of changes:</p>
<ul>
<li>We now show a more complete list of available commands and options.</li>
<li>Available commands now organized by category and sorted alphabetically.</li>
<li>Added a link to our <a href="https://learn.microsoft.com/vcpkg/">online vcpkg documentation</a>.</li>
<li>Cleaned up some of the wording.</li>
</ul>
<p>&nbsp;</p>
<p>Before (left) and after (right) when running <code>vcpkg help install</code>:</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/before-after-vcpkg-help-command-screenshot.png"><img decoding="async" class="alignnone size-full wp-image-33071" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/before-after-vcpkg-help-command-screenshot.png" alt="" width="624" height="363" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/before-after-vcpkg-help-command-screenshot.png 624w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/before-after-vcpkg-help-command-screenshot-300x175.png 300w" sizes="(max-width: 624px) 100vw, 624px" /></a></p>
<p>Summary of changes:</p>
<ul>
<li>Added synopsis describing what the command does.</li>
<li>In some cases, added additional examples for different usage scenarios.</li>
<li>Added a link to our <a href="https://learn.microsoft.com/vcpkg/">online vcpkg documentation</a></li>
<li>Cleaned up some of the wording.</li>
</ul>
<p>With the autocompletion improvements, vcpkg is able to autocomplete commands like: <code>x-set</code> autocompleting to <code>x-set-installed</code>.</p>
<p>PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1169">Microsoft/vcpkg-tool#1169</a></p>
<p>&nbsp;</p>
<h4 id="introduced-x-cmake-debug-and-x-cmake-configure-debug-options">Introduced &#8211;x-cmake-debug and &#8211;x-cmake-configure-debug options</h4>
<p>Thanks to a community contribution, two new experimental common command options have been added to vcpkg: <code>--x-cmake-debug</code> and <code>--x-cmake-configure-debug</code>. These options help facilitate CMake debugging for upstream build systems‚Äô <em>CMakeLists.txt</em>.</p>
<p>&nbsp;</p>
<h5 id="x-cmake-debug">&#8211;x-cmake-debug</h5>
<p>Usage:</p>
<p><code>--x-cmake-debug=&lt;debugger-pipe&gt;[;semicolon;port;list]</code></p>
<p>Enables CMake&#8217;s <a href="https://cmake.org/cmake/help/latest/manual/cmake.1.html#cmdoption-cmake-debugger">&#8211;debugger</a> while running directly-invoked CMake scripts like triplet files (for example: <code>x64-windows.cmake</code>) or <em>portfile.cmake</em> files.</p>
<p>The<code> &lt;debugger-pipe&gt;</code> value is passed as <a href="https://cmake.org/cmake/help/latest/manual/cmake.1.html#cmdoption-cmake-debugger-pipe">&#8211;debugger-pipe</a> on the CMake command line.</p>
<p>For more information, see <a href="https://learn.microsoft.com/en-us/vcpkg/commands/common-options#cmake-debug">documentation for x-cmake-debug</a>.</p>
<p>&nbsp;</p>
<h5 id="x-cmake-configure-debug">&#8211;x-cmake-configure-debug</h5>
<p>Usage:</p>
<p><code>--x-cmake-configure-debug=&lt;debugger-pipe&gt;[;semicolon;port;list]</code></p>
<p>Enables CMake‚Äôs <a href="https://cmake.org/cmake/help/latest/manual/cmake.1.html#cmdoption-cmake-debugger">&#8211;debugger</a> within upstream build systems‚Äô CMakeLists.txt, such as within <a href="https://learn.microsoft.com/en-us/vcpkg/maintainers/functions/vcpkg_cmake_configure">vcpkg_cmake_configure</a>.</p>
<p>The <code>&lt;debugger-pipe&gt;</code> value is passed as <a href="https://cmake.org/cmake/help/latest/manual/cmake.1.html#cmdoption-cmake-debugger-pipe">&#8211;debugger-pipe</a> on the CMake command line.</p>
<p>Although all ports should be calling CMake inside of the portfile to obtain compile flags from the CMake toolchain, this command is mainly useful for ports actually using CMake as their build system.</p>
<p>For more information, see <a href="https://learn.microsoft.com/en-us/vcpkg/commands/common-options#cmake-debug">documentation for x-cmake-configure-debug</a>.</p>
<p>PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1173">Microsoft/vcpkg-tool#1173</a> (thanks @Neumann-A!)</p>
<p>&nbsp;</p>
<h4 id="command-vcpkg-cache-removed">Command: ‚Äúvcpkg cache‚Äù removed</h4>
<p>The vcpkg cache command has been removed as it was rendered obsolete by the binary caching feature and our data indicated very few users were interacting with it.</p>
<p>PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1173">Microsoft/vcpkg-tool#1174</a></p>
<p>&nbsp;</p>
<h3 id="documentation-changes">Documentation changes</h3>
<p>This release includes the most significant documentation changes <strong>ever</strong> for vcpkg. We have been listening to your feedback and actively developing new articles and improvements to our existing articles at <a href="https://learn.microsoft.com/vcpkg">https://learn.microsoft.com/vcpkg</a>.</p>
<p>Below is a summary of notable documentation changes:</p>
<ul>
<li>The landing page at <a href="https://learn.microsoft.com/vcpkg">https://learn.microsoft.com/vcpkg</a> has been updated with new links and several new categories have been added.</li>
<li>The table of contents has been re-organized for better navigation. Don‚Äôt forget the site has a search experience too via the search box.</li>
<li>There is a new ‚ÄúGet started‚Äù node for new users with a variety of new articles depending on your scenario. This addresses feedback that the documentation was hard to follow and that it introduced concepts that were confusing to understand too early. List of new getting started content:
<ul>
<li><a href="https://learn.microsoft.com/vcpkg/get_started/overview">vcpkg overview</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/get_started/get-started">Install and use packages with CMake</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/get_started/get-started-vs">Install and use packages with CMake in Visual Studio</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/get_started/get-started-msbuild">Install and use packages with MSBuild in Visual Studio</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/get_started/get-started-packaging">Package a library with vcpkg</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/get_started/get-started-adding-to-registry">Contribute an open-source library to vcpkg</a></li>
</ul>
</li>
<li>New tutorials:
<ul>
<li><a href="https://learn.microsoft.com/vcpkg/consume/install-locally-modified-package">Tutorial: Install a locally modified dependency</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/asset-caching">Tutorial: Set up a vcpkg asset cache</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/boost-versions">Tutorial: Install a specific version of the Boost libraries using registry baselines</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/git-registries">Tutorial: Install a dependency from a Git-based registry</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/lock-package-versions">Tutorial: Install a specific version of a package</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/gha-authentication">Tutorial: Authenticate vcpkg Git-based registries in GitHub Actions</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/produce/publish-to-a-git-registry">Tutorial: Publish packages to a private vcpkg registry using Git</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/classic-mode">Tutorial: Install a dependency from the command line</a></li>
</ul>
</li>
<li>New concept articles:
<ul>
<li><a href="https://learn.microsoft.com/vcpkg/concepts/asset-caching">Asset caching with vcpkg</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/concepts/build-system-integration">Build system integration</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/concepts/manifest-mode">Manifest mode</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/concepts/overlay-ports">Overlay ports</a></li>
<li><a href="https://learn.microsoft.com/en-us/vcpkg/concepts/ports">Ports</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/concepts/registries">Registries concepts</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/concepts/triplets">Triplets</a></li>
</ul>
</li>
<li>New reference articles:
<ul>
<li><a href="https://learn.microsoft.com/vcpkg/reference/installation-tree-layout">Installation directory layout</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/commands/add">vcpkg add</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/commands/add-version">vcpkg x-add-version</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/commands/create">vcpkg create</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/commands/contact">vcpkg contact</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/commands/format-manifest">vcpkg format-manifest</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/commands/hash">vcpkg hash</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/commands/help">vcpkg help</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/commands/new">vcpkg new</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/commands/owns">vcpkg owns</a></li>
</ul>
</li>
<li>Binary caching content split into multiple articles with added details:
<ul>
<li><a href="https://learn.microsoft.com/vcpkg/consume/binary-caching-overview">What is binary caching?</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/binary-caching-default">Default local vcpkg binary cache</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/binary-caching-local">Tutorial: Set up a vcpkg binary cache using filesystem directories</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/binary-caching-nuget">Tutorial: Set up a vcpkg binary cache using a NuGet feed</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/binary-caching-github-actions-cache">Tutorial: Set up a vcpkg binary cache using GitHub Actions Cache</a></li>
<li><a href="https://learn.microsoft.com/vcpkg/consume/binary-caching-github-packages">Tutorial: Set up a vcpkg binary cache using GitHub Packages in a GitHub Actions workflow</a></li>
</ul>
</li>
<li>New common command options:
<ul>
<li><a href="https://learn.microsoft.com/vcpkg/commands/common-options#cmake-debug">Common command options#x-cmake-debug</a></li>
<li><a href="https://learn.microsoft.com/en-us/vcpkg/commands/common-options#cmake-configure-debug">Common command options#x-cmake-configure-debug</a></li>
</ul>
</li>
<li>A new ‚ÄúTroubleshooting‚Äù category has been added to the table of contents, featuring its first article: <a href="https://learn.microsoft.com/en-us/vcpkg/users/binarycaching-troubleshooting">Troubleshoot binary caching issues</a>. Our team received many questions about how to identify and fix these types of issues. This article is intended to guide the reader toward solving these problems.</li>
<li>Many articles have new pivots based on the command line/operating system you are using. You can select your preferred environment to view the examples in the article in that format for a simple copy + paste experience.</li>
<li>Rewritten <a href="https://learn.microsoft.com/vcpkg/consume/manifest-mode">Tutorial: Install a dependency from a manifest file</a>.</li>
<li>Various updates to existing articles on the <strong>Registries </strong>feature.</li>
<li>Triplets article split into <a href="https://learn.microsoft.com/vcpkg/concepts/triplets">Triplets concepts</a> and <a href="https://learn.microsoft.com/vcpkg/users/triplets">Triplets reference</a>.</li>
<li>Added <a href="https://learn.microsoft.com/vcpkg/commands/export#Manifest-Mode">manifest mode instructions for vcpkg export</a>.</li>
<li>Various small text edits, URL fixes, and other minor changes.</li>
<li>Added background information on how CMake toolchain leads to dependency acquisition in <a href="https://learn.microsoft.com/vcpkg/users/buildsystems/cmake-integration">vcpkg in CMake projects</a> (thanks for the contribution, @ihnorton!).</li>
<li>New article for <a href="https://learn.microsoft.com/vcpkg/maintainers/functions/vcpkg_msbuild_install">vcpkg_msbuild_install</a> and various other updates to documentation on building vcpkg ports with MSBuild (thanks for the contribution, @Neumann_A!).</li>
</ul>
<p>&nbsp;</p>
<h3 id="bug-fixes">Bug fixes</h3>
<ul>
<li>Fixed <code>vcpkg edit</code> trying to look in the registry set for autocompletion as this isn‚Äôt relevant to its purpose. (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1158">Microsoft/vcpkg-tool#1158</a>)</li>
<li>Commands such as <code>vcpkg activate</code> now exit with an exit code of 1 rather than 0 if the command method throws an exception (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1195">Microsoft/vcpkg-tool#1195</a>, thanks @mcgordonite!)</li>
</ul>
<p>&nbsp;</p>
<h3 id="total-ports-available-for-tested-triplets">Total ports available for tested triplets</h3>
<table width="258">
<tbody>
<tr>
<td width="163"><strong>triplet</strong></td>
<td width="95"><strong>ports available</strong></td>
</tr>
<tr>
<td width="163">x64-windows</td>
<td width="95">2,163</td>
</tr>
<tr>
<td width="163">x86-windows</td>
<td width="95">2,088</td>
</tr>
<tr>
<td width="163">x64-windows-static</td>
<td width="95">2,054</td>
</tr>
<tr>
<td width="163">x64-windows-static-md</td>
<td width="95">2,074</td>
</tr>
<tr>
<td width="163">arm64-windows</td>
<td width="95">1,749</td>
</tr>
<tr>
<td width="163">x64-uwp</td>
<td width="95">1,193</td>
</tr>
<tr>
<td width="163">arm-uwp</td>
<td width="95">1,160</td>
</tr>
<tr>
<td width="163">x64-linux</td>
<td width="95">2,124</td>
</tr>
<tr>
<td width="163">x64-osx</td>
<td width="95">2,017</td>
</tr>
<tr>
<td width="163">arm-neon-android</td>
<td width="95">1,464</td>
</tr>
<tr>
<td width="163">x64-android</td>
<td width="95">1,523</td>
</tr>
<tr>
<td width="163">arm64-android</td>
<td width="95">1,482</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>While vcpkg supports a much larger variety of target platforms and architectures, the list above is validated exhaustively to ensure updated ports don‚Äôt break other ports in the catalog.</p>
<p>&nbsp;</p>
<h3 id="thank-you-to-our-contributors">Thank you to our contributors</h3>
<p>vcpkg couldn‚Äôt be where it is today without contributions from our open-source community. Thank you for your continued support! The following people contributed to the vcpkg, vcpkg-tool, or vcpkg-docs repos in this release:</p>
<ul>
<li>jiayuehua (124 commits)</li>
<li>autoantwort (94 commits)</li>
<li>Neumann-A (40 commits)</li>
<li>dg0yt (31 commits)</li>
<li>xiaozhuai (30 commits)</li>
<li>chausner (11 commits)</li>
<li>talregev (10 commits)</li>
<li>RT2Code (8 commits)</li>
<li>Thomas1664 (8 commits)</li>
<li>cbrl (6 commits)</li>
<li>alagoutte (6 commits)</li>
<li>Osyotr (6 commits)</li>
<li>Pospelove (5 commits)</li>
<li>AenBleidd (5 commits)</li>
<li>Honeybunch (4 commits)</li>
<li>yurybura (4 commits)</li>
<li>RealTimeChris (4 commits)</li>
<li>BurningEnlightenment (4 commits)</li>
<li>quyykk (3 commits)</li>
<li>SchaichAlonso (3 commits)</li>
<li>mcgordonite (2 commits)</li>
<li>horenmar (2 commits)</li>
<li>coryan (2 commits)</li>
<li>Ryan-rsm-McKenzie (1 commit)</li>
<li>eao197 (1 commit)</li>
<li>m-kuhn (1 commit)</li>
<li>Sibras (1 commit)</li>
<li>myd7349 (1 commit)</li>
<li>daschuer (1 commit)</li>
<li>luncliff (1 commit)</li>
<li>traversaro (1 commit)</li>
<li>lazyhamster (1 commit)</li>
<li>JackBoosY (1 commit)</li>
<li>amirmasoudabdol (1 commit)</li>
<li>ihnorton (1 commit)</li>
<li>retifrav (1 commit)</li>
</ul>
<p>&nbsp;</p>
<h3 id="is-your-company-looking-for-a-better-c-c-dependency-management-experience">Is your company looking for a better C/C++ dependency management experience?</h3>
<p>We are partnering with companies to help them get started with vcpkg and overcome any initial hurdles. We have also been making product and documentation changes based on feedback we receive from these partnerships. If you are interested in trying out vcpkg or just have some thoughts to share with us, feel free to reach out at <a href="mailto:vcpkg@microsoft.com">vcpkg@microsoft.com</a>.</p>
<p>&nbsp;</p>
<h3 id="learn-more">Learn more</h3>
<p>You can find the <a href="https://github.com/microsoft/vcpkg/releases/tag/2023.10.19">full 2023.10.19 release notes on GitHub</a> for the main repo. Recent updates to the vcpkg tool can be viewed on the <a href="https://github.com/microsoft/vcpkg-tool/releases">vcpkg-tool Releases page</a>. To contribute to documentation, visit the <a href="https://github.com/microsoft/vcpkg-docs">vcpkg-docs repo</a>. If you‚Äôre new to vcpkg or curious about how a package manager can make your life easier as a C/C++ developer, check out the <a href="https://vcpkg.io/en/index.html">vcpkg website ‚Äì vcpkg.io</a>.</p>
<p>If you would like to contribute to vcpkg and its library catalog, or want to give us feedback on anything, check out our <a href="https://github.com/microsoft/vcpkg">GitHub repo</a>. Please report bugs or request updates to ports in our <a href="https://github.com/microsoft/vcpkg/issues">issue¬†</a><span style="color: #00a9e0;">tracker or</span>¬†join more general discussion in our <a href="https://github.com/microsoft/vcpkg/discussions">discussion forum</a>.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/vcpkg-2023-10-19-release-export-for-manifests-documentation-improvements-and-more/">vcpkg 2023.10.19 Release: Export for Manifests, Documentation Improvements, and More‚Ä¶</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/vcpkg-2023-10-19-release-export-for-manifests-documentation-improvements-and-more/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Microsoft Visual C++ at CppCon 2023 Trip Report</title>
		<link>https://devblogs.microsoft.com/cppblog/microsoft-visual-c-at-cppcon-2023-trip-report/</link>
					<comments>https://devblogs.microsoft.com/cppblog/microsoft-visual-c-at-cppcon-2023-trip-report/#respond</comments>
		
		<dc:creator><![CDATA[Sinem Akinci]]></dc:creator>
		<pubDate>Thu, 02 Nov 2023 15:24:25 +0000</pubDate>
				<category><![CDATA[Trip Report]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=33045</guid>

					<description><![CDATA[<p>The Visual C++ team attended CppCon 2023, the largest in-person C++ conference, in Aurora, Colorado from October 2-6th. There were over 700 attendees from the C++ community, and we really enjoyed getting a chance to meet all of you and talk about your unique backgrounds and C++ experiences.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/microsoft-visual-c-at-cppcon-2023-trip-report/">Microsoft Visual C++ at CppCon 2023 Trip Report</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><span class="TextRun SCXW153605269 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun SCXW153605269 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|49&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">The Visual C++ team attended CppCon 2023, the largest in-person C++ </span><span class="NormalTextRun SCXW153605269 BCX8" data-ccp-charstyle="normaltextrun">c</span><span class="NormalTextRun SCXW153605269 BCX8" data-ccp-charstyle="normaltextrun">onference, in Aurora, Colorado from October 2-6</span></span><span class="TextRun SCXW153605269 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun Superscript SCXW153605269 BCX8" data-fontsize="8.5" data-ccp-charstyle="normaltextrun">th</span></span><span class="TextRun SCXW153605269 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun SCXW153605269 BCX8" data-ccp-charstyle="normaltextrun">. There were over 700 attendees from the C++ community, and we really enjoyed getting a chance to meet all of you and talk </span><span class="NormalTextRun CommentStart CommentHighlightPipeRest CommentHighlightRest SCXW153605269 BCX8" data-ccp-charstyle="normaltextrun">about</span> <span class="NormalTextRun CommentHighlightPipeRest SCXW153605269 BCX8" data-ccp-charstyle="normaltextrun">your unique backgrounds</span><span class="NormalTextRun SCXW153605269 BCX8" data-ccp-charstyle="normaltextrun"> and C++ experiences</span><span class="NormalTextRun SCXW153605269 BCX8" data-ccp-charstyle="normaltextrun">.</span></span><img decoding="async" class="size-full wp-image-33046 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/cppcon.png" alt="A picture of the over 700 attendees at CppCon" width="876" height="493" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/cppcon.png 876w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/cppcon-300x169.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/cppcon-768x432.png 768w" sizes="(max-width: 876px) 100vw, 876px" /></p>
<p><span data-contrast="auto">Some of our team member‚Äôs talks are now available to watch on YouTube so that you can watch them even if you missed CppCon to learn the latest for our tooling and more:</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<ul>
<li data-leveltext="ÔÇ∑" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559684&quot;:-2,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;ÔÇ∑&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="1" data-aria-level="1"><a href="https://www.youtube.com/watch?v=Soy3RjGYUJw"><span data-contrast="none">How Visual Studio Code Helps You Develop More Efficiently in C++ &#8211; Alexandra Kemper and Sinem Akinci &#8211; YouTube</span></a><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></li>
<li data-leveltext="ÔÇ∑" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559684&quot;:-2,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;ÔÇ∑&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="2" data-aria-level="1"><a href="https://www.youtube.com/watch?v=0UbkMysE7OM"><span data-contrast="none">New in Visual Studio: CMake Debugger, Better Diagnostics, and Video Games &#8211; David Li &amp; Mryam Girmay &#8211; YouTube</span></a><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></li>
<li data-leveltext="ÔÇ∑" data-font="Symbol" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559684&quot;:-2,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;ÔÇ∑&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="3" data-aria-level="1"><a href="https://www.youtube.com/watch?v=PTdy65m_gRE&amp;feature=youtu.be"><span data-contrast="none">Lifetime Safety in C++: Past, Present and Future &#8211; Gabor Horvath &#8211; CppCon 2023 &#8211; YouTube</span></a><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></li>
</ul>
<p><span class="TextRun SCXW75892594 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|49&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">The venue was at the Gaylord Rockies this year. The Gaylord Rockies is a </span><span class="NormalTextRun SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun">resort with a </span><span class="NormalTextRun SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun">massive convention </span><span class="NormalTextRun SpellingErrorV2Themed SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun">center</span> <span class="NormalTextRun CommentHighlightPipeRest SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun">and </span><span class="NormalTextRun SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun">many restaurants to go check out. Somehow, it still felt small, as we were constantly running into familiar C++ faces and meeting them </span><span class="NormalTextRun SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun">in</span><span class="NormalTextRun SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun"> different areas in the convention </span><span class="NormalTextRun SpellingErrorV2Themed SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun">center</span><span class="NormalTextRun SCXW75892594 BCX8" data-ccp-charstyle="normaltextrun">. There really is no experience like it.</span></span><span class="TextRun SCXW75892594 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun SCXW75892594 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|50&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">‚ÄØ</span></span><span class="EOP SCXW75892594 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<h2 id="the-microsoft-booth">The Microsoft Booth</h2>
<p><span class="TextRun SCXW139447707 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|49&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">We had a chance to talk to customers at our</span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun"> Microsoft</span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun"> booth</span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun"> we had during the week</span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun">, and it was great to meet to you all. It was a great learning experience seeing</span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun">, in real time, what was affecting our users </span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun">across a wide area of use cases</span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun">. For example, we will inform the public more about our </span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun">Windows Subsy</span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun">s</span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun">tem for Linux (</span><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun">WSL</span></span><span class="TrackChangeTextInsertion TrackedChange SCXW139447707 BCX8"><span class="TextRun SCXW139447707 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun">)</span></span></span><span class="TextRun SCXW139447707 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="normaltextrun"> support in Visual Studio through online videos and documentation and improve our VS Code setup process. Thank you to everyone who took the time to fill out our survey and talk to us.</span></span><span class="TextRun SCXW139447707 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun SCXW139447707 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|50&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">‚ÄØ</span></span><span class="EOP SCXW139447707 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/MicrosoftTeams-image-19-scaled.jpg"><img decoding="async" class=" wp-image-33053 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/MicrosoftTeams-image-19-1024x768.jpg" alt="Microsoft Visual C++ at Microsoft Booth" width="699" height="524" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/MicrosoftTeams-image-19-1024x768.jpg 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/MicrosoftTeams-image-19-300x225.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/MicrosoftTeams-image-19-768x576.jpg 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/MicrosoftTeams-image-19-1536x1152.jpg 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/MicrosoftTeams-image-19-2048x1536.jpg 2048w" sizes="(max-width: 699px) 100vw, 699px" /></a></p>
<h2 id="our-talks">Our Talks</h2>
<p><span data-contrast="auto">What is a conference without the talks?</span><span data-contrast="auto">‚ÄØ</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<p><span data-contrast="auto">The Visual C++ team at Microsoft gave several talks, and we highly recommend checking them out when they are available on </span><a href="https://youtube.com/playlist?list=PLHTh1InhhwT7gQEuYznhhvAYTel0qzl72"><span data-contrast="none">YouTube</span></a><span data-contrast="auto">:</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<ul>
<li data-leveltext="ÔÇ∑" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559684&quot;:-2,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;ÔÇ∑&quot;,&quot;469777815&quot;:&quot;multilevel&quot;}" aria-setsize="-1" data-aria-posinset="4" data-aria-level="1"><a href="https://www.youtube.com/watch?v=PTdy65m_gRE&amp;feature=youtu.be"><span data-contrast="none">Lifetime Safety in C++ &#8211; Gabor Horvath</span><span data-contrast="none">‚ÄØ</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559685&quot;:1080,&quot;335559731&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></a></li>
<li data-leveltext="ÔÇ∑" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559684&quot;:-2,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;ÔÇ∑&quot;,&quot;469777815&quot;:&quot;multilevel&quot;}" aria-setsize="-1" data-aria-posinset="5" data-aria-level="1"><a href="http://New in Visual Studio: CMake Debugger, Better Diagnostics, and Video Games - David Li &amp; Mryam Girmay - YouTube"><span data-contrast="none">New in Visual Studio: CMake Debugger, Better Diagnostics, and Video Games ‚Äì David Li &amp; Mryam Girmay</span><span data-contrast="none">‚ÄØ</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559685&quot;:1080,&quot;335559731&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></a></li>
<li data-leveltext="ÔÇ∑" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559684&quot;:-2,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;ÔÇ∑&quot;,&quot;469777815&quot;:&quot;multilevel&quot;}" aria-setsize="-1" data-aria-posinset="6" data-aria-level="1"><a href="https://www.youtube.com/watch?v=8U3hl8XMm8c&amp;list=PLHTh1InhhwT7gQEuYznhhvAYTel0qzl72&amp;index=4"><span data-contrast="none">Cooperative C++ Evolution: Towards a Typescript for C++ &#8211; Herb Sutter (Keynote)</span><span data-contrast="none">‚ÄØ</span></a><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559685&quot;:1080,&quot;335559731&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></li>
<li data-leveltext="ÔÇ∑" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559684&quot;:-2,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;ÔÇ∑&quot;,&quot;469777815&quot;:&quot;multilevel&quot;}" aria-setsize="-1" data-aria-posinset="7" data-aria-level="1"><a href="https://www.youtube.com/watch?v=Soy3RjGYUJw"><span data-contrast="none">How Visual Studio Code Can Help You Develop More Efficiently in C++ &#8211; Alexandra Kemper &amp; Sinem Akinci</span><span data-contrast="none">‚ÄØ</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559685&quot;:1080,&quot;335559731&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></a></li>
<li data-leveltext="ÔÇ∑" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559684&quot;:-2,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;ÔÇ∑&quot;,&quot;469777815&quot;:&quot;multilevel&quot;}" aria-setsize="-1" data-aria-posinset="8" data-aria-level="1"><span data-contrast="auto">Regular, Revisited ‚Äì Victor Ciura</span><span data-contrast="auto">‚ÄØ</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559685&quot;:1080,&quot;335559731&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></li>
<li data-leveltext="ÔÇ∑" data-font="Symbol" data-listid="2" data-list-defn-props="{&quot;335552541&quot;:1,&quot;335559684&quot;:-2,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769226&quot;:&quot;Symbol&quot;,&quot;469769242&quot;:[8226],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;ÔÇ∑&quot;,&quot;469777815&quot;:&quot;multilevel&quot;}" aria-setsize="-1" data-aria-posinset="9" data-aria-level="1"><span data-contrast="auto">Getting Started with C++ &#8211; Michael Price</span><span data-contrast="auto">‚ÄØ</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559685&quot;:1080,&quot;335559731&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></li>
</ul>
<p style="text-align: center;"><img decoding="async" class="size-full wp-image-33048 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/Herb.png" alt="Herb Sutter presenting on Cooperative C++ evolution, towards a typescript for C++" width="830" height="620" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/Herb.png 830w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/Herb-300x224.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/Herb-768x574.png 768w" sizes="(max-width: 830px) 100vw, 830px" />[Herb Sutter&#8217;s Keynote on Cooperative C++ Evolution: Towards a Typescript for C++. Full house!]</p>
<p><img decoding="async" class="size-full wp-image-33049 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/Michael.png" alt="Michael Price presenting on Getting Started with C++" width="879" height="664" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/Michael.png 879w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/Michael-300x227.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/Michael-768x580.png 768w" sizes="(max-width: 879px) 100vw, 879px" /></p>
<p style="text-align: center;">[Michael Price on Getting Started with C++, discussing the tools beginners can use to get started on their C++ journey]</p>
<h2 id="my-talk">My Talk</h2>
<p><span class="TextRun SCXW239460196 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW239460196 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|49&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Mine and Alex‚Äôs joint talk on Visual Studio Code went great (despite slight technical difficulties </span></span><span class="TextRun SCXW239460196 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW239460196 BCX8" data-ccp-charstyle="normaltextrun"><img src="https://s.w.org/images/core/emoji/14.0.0/72x72/1f60a.png" alt="üòä" class="wp-smiley" style="height: 1em; max-height: 1em;" /></span></span><span class="TextRun SCXW239460196 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW239460196 BCX8" data-ccp-charstyle="normaltextrun">). The turnout was </span><span class="NormalTextRun AdvancedProofingIssueV2Themed SCXW239460196 BCX8" data-ccp-charstyle="normaltextrun">really strong</span><span class="NormalTextRun SCXW239460196 BCX8" data-ccp-charstyle="normaltextrun">, and it was empowering to see so many people interested to learn about the latest features in VS Code. In our talk, we covered a variety of enhancements that our teams working on the </span><span class="NormalTextRun SCXW239460196 BCX8" data-ccp-charstyle="normaltextrun">C++ </span><span class="NormalTextRun SCXW239460196 BCX8" data-ccp-charstyle="normaltextrun">Tools and </span><span class="NormalTextRun SpellingErrorV2Themed SCXW239460196 BCX8" data-ccp-charstyle="normaltextrun">CMake</span><span class="NormalTextRun SCXW239460196 BCX8" data-ccp-charstyle="normaltextrun"> Tools extensions have developed over the past year to help you all the way from getting started with C++ for the first time to working in your large C++ repositories. Many C++ users came up to us after to ask more questions about what was presented, specifically to learn more about GitHub Copilot and GitHub Copilot Chat, our latest AI assistants.</span></span><span class="TextRun SCXW239460196 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun SCXW239460196 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|50&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">‚ÄØ</span></span><span class="EOP SCXW239460196 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<h2 id="other-great-talks">Other Great Talks</h2>
<p><span class="TextRun SCXW263293076 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW263293076 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|49&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">I also really enjoyed learning more from other people‚Äôs talks. One talk that was well-praised throughout the week and super engaging for me was <a href="https://www.youtube.com/watch?v=qyz6sOVON68&amp;list=PLHTh1InhhwT7gQEuYznhhvAYTel0qzl72&amp;index=3&amp;t=2638s">Laura Savino‚Äôs keynote</a> on ‚ÄúCoping with Other People‚Äôs Code</span><span class="NormalTextRun SCXW263293076 BCX8" data-ccp-charstyle="normaltextrun">‚Äù.</span><span class="NormalTextRun SCXW263293076 BCX8" data-ccp-charstyle="normaltextrun"> She touched on something for engineers at any point in their career and had a great stage presence. There was really something for </span></span><em><span class="TextRun SCXW263293076 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW263293076 BCX8" data-ccp-charstyle="normaltextrun">everyone</span></span></em><span class="TextRun SCXW263293076 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"> <span class="NormalTextRun SCXW263293076 BCX8" data-ccp-charstyle="normaltextrun">in that talk.</span></span><span class="TextRun SCXW263293076 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun SCXW263293076 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|50&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">‚ÄØ</span></span><span class="EOP SCXW263293076 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/laura.png"><img decoding="async" class="size-full wp-image-33050 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/laura.png" alt="Laura Savino's keynote on Coping with Other People's Coe" width="817" height="615" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/laura.png 817w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/laura-300x226.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/11/laura-768x578.png 768w" sizes="(max-width: 817px) 100vw, 817px" /></a></p>
<p><span data-contrast="auto">Another great talk our teammates enjoyed was ‚ÄúPowered by AI: A Cambrian Explosion for C++ Software Development tools‚Äù by Emery Berger.</span><span data-contrast="none"> Emery is a great speaker, a successful researcher, and always presents top-notch content. This year, he presented how ChatGPT made most of his past research obsolete, and how he ended up power-charging 2 tools (a profiler and a debugger) with AI, and he created a new 3</span><span data-contrast="none">rd</span><span data-contrast="none"> tool to help explain compiler error messages. He gave a nice recipe on how to think about integrating AI into classical tools. ‚ÄØ</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<p><span data-contrast="none">Our colleagues David and Mryam had a very informative counterpart to our VS Code talk, but for the Visual Studio IDE. It similarly had a great attendance and covered a large range of topics from C++ standards and performance to new productivity features and Unreal Engine integrations. There were questions after about the full list of aka.ms links to learn more about each topic and learning more about the features presented such as vcpkg integration and the functionality of #include cleanup. Afterwards, some individuals continued the conversation with them at our booth, displaying their enthusiasm for the discussed subjects and posing questions.</span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<h2 id="other-events">Other Events</h2>
<p><span class="TextRun SCXW241354013 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|49&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Personally, one of my </span><span class="NormalTextRun SpellingErrorV2Themed SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun">favorite</span><span class="NormalTextRun SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun"> parts of the conference was getting to meet all of you. I had </span><span class="NormalTextRun SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun">a great time</span> <span class="NormalTextRun SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun">interacting with</span><span class="NormalTextRun SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun"> people from all over the world working with C++ at the Women‚Äôs Luncheon and Meet the Speakers‚Äô Dinner. These were both great networking opportunities presented by </span><span class="NormalTextRun SpellingErrorV2Themed SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun">CppCon</span><span class="NormalTextRun SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun"> and I hope they continue to </span><span class="NormalTextRun SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun">facilitate</span><span class="NormalTextRun SCXW241354013 BCX8" data-ccp-charstyle="normaltextrun"> these interactions.</span></span><span class="TextRun SCXW241354013 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun SCXW241354013 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|50&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">‚ÄØ</span></span><span class="EOP SCXW241354013 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<h2 id="summary">Summary</h2>
<p><span class="TextRun SCXW172363435 BCX8" lang="EN-GB" xml:lang="EN-GB" data-contrast="auto"><span class="NormalTextRun SCXW172363435 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|49&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Overall, </span><span class="NormalTextRun SpellingErrorV2Themed SCXW172363435 BCX8" data-ccp-charstyle="normaltextrun">CppCon</span><span class="NormalTextRun SCXW172363435 BCX8" data-ccp-charstyle="normaltextrun"> 2023 was </span><span class="NormalTextRun SCXW172363435 BCX8" data-ccp-charstyle="normaltextrun">a great experience</span><span class="NormalTextRun SCXW172363435 BCX8" data-ccp-charstyle="normaltextrun"> for our team. From presenting our talks to meeting C++ users in real-time to all the elevator conversations in between, our team really loved attending this conference. It was great to hear the latest in C++. We are excited to see you all there again in 2024!</span></span><span class="TextRun SCXW172363435 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun SCXW172363435 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;55ac1608-9e08-4155-aceb-941081694195|50&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,134234072,&quot;true&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">‚ÄØ</span></span><span class="EOP SCXW172363435 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}">¬†</span></p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/microsoft-visual-c-at-cppcon-2023-trip-report/">Microsoft Visual C++ at CppCon 2023 Trip Report</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/microsoft-visual-c-at-cppcon-2023-trip-report/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Structured Diagnostics in the New Problem Details Window</title>
		<link>https://devblogs.microsoft.com/cppblog/structured-diagnostics-in-the-new-problem-details-window/</link>
					<comments>https://devblogs.microsoft.com/cppblog/structured-diagnostics-in-the-new-problem-details-window/#comments</comments>
		
		<dc:creator><![CDATA[Sy Brand]]></dc:creator>
		<pubDate>Wed, 11 Oct 2023 14:58:31 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Diagnostics]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=33001</guid>

					<description><![CDATA[<p>Massive compiler errors which seem impossible to navigate are the bane of many C++ developers‚Äô lives. It‚Äôs up to tools to provide a better experience to help you comprehend diagnostics and understand how to fix the root issue. I wrote Concepts Error Messages for Humans to explore some of the design space and now,</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/structured-diagnostics-in-the-new-problem-details-window/">Structured Diagnostics in the New Problem Details Window</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Massive compiler errors which seem impossible to navigate are the bane of many C++ developers‚Äô lives. It‚Äôs up to tools to provide a better experience to help you comprehend diagnostics and understand how to fix the root issue. I wrote <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2429r0.pdf">Concepts Error Messages for Humans</a> to explore some of the design space and now, due to the hard work of many folks working on Visual Studio, we have a better experience to share with you all. You can read about some of the work which has led up to these changes in Xiang Fan‚Äôs blog post on the <a href="https://devblogs.microsoft.com/cppblog/the-future-of-c-compiler-diagnostics-in-msvc-and-visual-studio/">future of C++ diagnostics in MSVC and Visual Studio</a>.</p>
<p>In Visual Studio 2022 version 17.8 Preview 3, if you run a build using MSVC and an MSBuild project, entries in the Error List which have additional information available will show an icon in a new column named Details:</p>
<p><img decoding="async" width="559" height="94" class="wp-image-33002" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-1.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-1.png 559w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-1-300x50.png 300w" sizes="(max-width: 559px) 100vw, 559px" /></p>
<p>If you click this button, a new Problem Details window will open up. By default this will be in the same place as the Error List, but if you move it around, Visual Studio will remember where you put it.</p>
<p><img decoding="async" width="468" height="174" class="wp-image-33003" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-description-automatica.png" alt="A screenshot of a computer Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-description-automatica.png 468w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-description-automatica-300x112.png 300w" sizes="(max-width: 468px) 100vw, 468px" /></p>
<p>This Problem Details window provides you with detailed, structured information about why a given problem occurred. If we look at this information we might think, okay, why could void <code>pet(dog)</code> not be called? If you click the arrow next to it, you can see why:</p>
<p><img decoding="async" width="465" height="204" class="wp-image-33004" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-program-description-au.png" alt="A screenshot of a computer program Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-program-description-au.png 465w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-program-description-au-300x132.png 300w" sizes="(max-width: 465px) 100vw, 465px" /></p>
<p>In a similar way we can expand out other arrows to find out more information about our errors. This example is produced from code which uses C++20 Concepts and the Problem Details window gives you a way to understand the structure of Concepts errors.</p>
<p><img decoding="async" width="460" height="331" class="wp-image-33005" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-description-automatica-1.png" alt="A screenshot of a computer Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-description-automatica-1.png 460w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-description-automatica-1-300x216.png 300w" sizes="(max-width: 460px) 100vw, 460px" /></p>
<p>For those who would like to play around with this example, the code required to produce these errors is:</p>
<pre class="prettyprint language-default"><code class="language-default">struct dog {};
struct cat {};

void pet(dog);
void pet(cat);

template &lt;class T&gt;
concept has_member_pet = requires(T t) { t.pet(); };

template &lt;class T&gt;
concept has_default_pet = T::is_pettable;

template &lt;class T&gt;
concept pettable = has_member_pet&lt;T&gt; or has_default_pet&lt;T&gt;;

void pet(pettable auto t);

struct lizard {};

int main() {
    pet(lizard{});
}</code></pre>
<p>Make sure you compile with <code>/std:c++20</code> to enable Concepts support.</p>
<h2 id="output-window">Output Window</h2>
<p>As part of this work we have also made the Output Window visualize any hierarchical structure in the output diagnostics. For example, here in an excerpt produced by building the previous example:</p>
<pre class="prettyprint language-default"><code class="language-default">1&gt;Source.cpp(18,6): 
1&gt;or       'void pet(_T0)' 
1&gt;Source.cpp(23,5): 
1&gt;the associated constraints are not satisfied 
1&gt;	Source.cpp(18,10): 
1&gt;	the concept 'pettable&lt;lizard&gt;' evaluated to false 
1&gt;		Source.cpp(16,20): 
1&gt;		the concept 'has_member_pet&lt;lizard&gt;' evaluated to false 
1&gt;			Source.cpp(10,44): 
1&gt;			'pet': is not a member of 'lizard' 
1&gt;			Source.cpp(20,8): 
1&gt;			see declaration of 'lizard' 
1&gt;		Source.cpp(16,41): 
1&gt;		the concept 'has_default_pet&lt;lizard&gt;' evaluated to false 
1&gt;			Source.cpp(13,30): 
1&gt;			'is_pettable': is not a member of 'lizard' 
1&gt;			Source.cpp(20,8): 
1&gt;			see declaration of 'lizard' </code></pre>
<p>This change makes it much easier to scan large sets of diagnostics without getting lost.</p>
<h2 id="code-analysis">Code Analysis</h2>
<p>The Problem Details window is now also used for code analysis warnings which have associated Key Events. For example, consider this code which could potentially result in a use-after-move:</p>
<pre class="prettyprint language-default"><code class="language-default">#include &lt;string&gt; 
void eat_string(std::string&amp;&amp;); 
void use_string(std::string); 
void oh_no(bool should_eat, bool should_reset) { 
    std::string my_string{ "meow" }; 
    bool did_reset{ false }; 
 
    if (should_eat) { 
        eat_string(std::move(my_string));  
    } 
 
    if (should_reset) { 
        did_reset = true; 
        my_string = "the string is reset";  
    } 
 
    if (did_reset &amp;&amp; !should_reset) { 
        eat_string(std::move(my_string)); 
    } 

    use_string(my_string); 
}  </code></pre>
<p>In the case that <code>should_eat</code> is <code>true</code> and <code>should_reset</code> is <code>false</code>, <code>my_string</code> will be used after being moved, likely resulting in undesirable behaviour.</p>
<p>Fortunately, our static analyzer catches this issue, creating an entry in the Error List:</p>
<p><img decoding="async" width="477" height="92" class="wp-image-33006" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-error-message-descript.png" alt="A screenshot of a computer error message Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-error-message-descript.png 477w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-error-message-descript-300x58.png 300w" sizes="(max-width: 477px) 100vw, 477px" /></p>
<p>See that icon in the Details column? That means there‚Äôs extra information. Let‚Äôs have a look:</p>
<p><img decoding="async" width="452" height="185" class="wp-image-33007" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-description-automatica-2.png" alt="A screenshot of a computer Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-description-automatica-2.png 452w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/a-screenshot-of-a-computer-description-automatica-2-300x123.png 300w" sizes="(max-width: 452px) 100vw, 452px" /></p>
<p>This tells us the process which the static analyzer followed to reach its conclusion that a moved-from object may be used in this program. For a small function like this we likely could have worked this out ourselves, but for larger or more complex functions, Key Events can help you understand why you‚Äôre getting a warning for your code.</p>
<p>You can learn more about Key Events in Hwi-Sung Im‚Äôs blog post on <a href="https://devblogs.microsoft.com/cppblog/microsoft-cpp-code-analysis-warnings-with-key-events/">code analysis warnings with Key Events</a>.</p>
<h2 id="configuration">Configuration</h2>
<p>By default, the Problem Details window will also open when you double click or press enter on an Error List entry which has associated details. This can be configured at Tools &gt; Options &gt; Text Editor &gt; C/C++ &gt; Advanced &gt; Error List &gt; Show Problem Details on double click.</p>
<p><img decoding="async" width="801" height="461" class="wp-image-33008" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-7.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-7.png 801w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-7-300x173.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-7-768x442.png 768w" sizes="(max-width: 801px) 100vw, 801px" /></p>
<p>The entire feature can be enabled or disabled at Project &gt; Properties &gt; Advanced &gt; Enable MSVC Structured Output. You can affect several projects by creating a <a href="https://learn.microsoft.com/en-us/visualstudio/msbuild/customize-by-directory?view=vs-2022">Directory.Build.props</a> file with the <code>UseStructuredOutput</code> property defined to true or false.</p>
<p><img decoding="async" width="781" height="541" class="wp-image-33009" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-8.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-8.png 781w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-8-300x208.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/10/word-image-33001-8-768x532.png 768w" sizes="(max-width: 781px) 100vw, 781px" /></p>
<h2 id="how-it-works">How it Works</h2>
<p>This work leverages the <a href="https://sarifweb.azurewebsites.net/">SARIF</a> (Static Analysis Results Interchange Format) standard. This is a JSON-based format for expressing diagnostics in a structured way which enables the compiler to preserve the hierarchy inherent in many diagnostics when sending information to the IDE.</p>
<p>No additional compiler flags are required for accessing the new experience, but if you want the compiler to produce diagnostics in SARIF in order to use the results with external tools, you can pass the <code>/experimental:log&lt;output_directory_name&gt;</code> flag to MSVC.</p>
<h2 id="call-for-action">Call for action</h2>
<p>Please install the latest <a href="https://visualstudio.microsoft.com/vs/preview/">Visual Studio 2022 Preview</a> to try out the new diagnostics experience. After you‚Äôve tried it, please let us know what you think through e-mail at¬†<a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com.</a></p>
<p>If you encounter other problems with VS 2022 please let us know via the <a href="https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2019" target="_blank" rel="noopener">Report a Problem</a>¬†option, either from the installer or the Visual Studio IDE itself. For suggestions or bug reports, let us know through¬†<a href="https://developercommunity.visualstudio.com/" target="_blank" rel="noopener">DevComm.</a></p>
<p>&nbsp;</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/structured-diagnostics-in-the-new-problem-details-window/">Structured Diagnostics in the New Problem Details Window</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/structured-diagnostics-in-the-new-problem-details-window/feed/</wfw:commentRss>
			<slash:comments>4</slash:comments>
		
		
			</item>
		<item>
		<title>Open Sourcing IFC SDK for C++ Modules</title>
		<link>https://devblogs.microsoft.com/cppblog/open-sourcing-ifc-sdk-for-cpp-modules/</link>
					<comments>https://devblogs.microsoft.com/cppblog/open-sourcing-ifc-sdk-for-cpp-modules/#comments</comments>
		
		<dc:creator><![CDATA[GDR]]></dc:creator>
		<pubDate>Tue, 03 Oct 2023 13:05:05 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Experimental]]></category>
		<category><![CDATA[Featured]]></category>
		<category><![CDATA[General C++ Series]]></category>
		<category><![CDATA[New Feature]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32943</guid>

					<description><![CDATA[<p>Back with VS2019 version 16.10, we announced a complete implementation of C++ Modules (and, generally, of all C++20 features) across the MSVC compiler toolset, static analysis, IntelliSense, and debugger. Implementing Modules requires principled intermediate representation of C++ source programs. Today, we are thrilled to announce the availability of the IFC SDK,</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/open-sourcing-ifc-sdk-for-cpp-modules/">Open Sourcing IFC SDK for C++ Modules</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Back with <a href="https://devblogs.microsoft.com/visualstudio/visual-studio-2019-v16-10-and-v16-11-preview-1-are-available-today/">VS2019 version 16.10</a>, we announced a complete implementation of C++ Modules (and, generally, of all C++20 features) across the MSVC compiler toolset, static analysis, IntelliSense, and debugger. Implementing Modules requires principled intermediate representation of C++ source programs. Today, we are thrilled to announce the availability of the <a href="https://github.com/microsoft/ifc">IFC SDK</a>, a Microsoft implementation of the <a href="https://github.com/microsoft/ifc-spec">IFC Specification</a>. This is an open-source project under the <a href="https://github.com/microsoft/ifc/blob/main/LICENSE.TXT">Apache 2-with-LLVM-exception license</a>. The IFC Specification formalizes C++ programs as data amenable to semantics-based manipulation. We are open sourcing the IFC SDK in the hope of accelerating widespread use and implementation of C++ Modules across the C++ community and the C++ tools ecosystem.</p>
<h1 id="what-is-an-ifc-and-what-is-it-good-for">What Is an IFC and What Is It Good for?</h1>
<p>A popular compilation strategy of a C++ Module interface (or header unit) source file is to translate the source file, exactly once, into an internal representation suitable for reuse in other source files. That intermediate form is generally referred to as a Built Module Interface (BMI). An <a href="https://github.com/microsoft/ifc-spec">IFC</a> file is an implementation of the BMI concept. An IFC file is a persistent representation of all information pertaining to the semantics of a C++ program. In addition to direct use by compilers to implement C++ Modules, an IFC can also be inspected by non-compiler tools for semantics-based exploration of C++ source files. Such tools are useful for explorers in understanding how C++ source-level constructs can be represented in a form suitable for C++ Modules implementation.</p>
<h1 id="ifc-sdk-scope">IFC SDK Scope</h1>
<p>The IFC SDK is currently an experimental project. It focuses on providing datatypes and source code supporting the read and write of IFC files. This SDK is the same tested implementation used in the MSVC compiler front-end to implement C++ Modules.¬† Consequently, while the GitHub OSS repo is ‚Äúexperimental‚Äù, the code is far from it. Those datatypes can be memory-mapped directly for scalable and efficient processing. The project also features utilities for formatting or viewing IFC files. We welcome, and we are looking for, contributions that fix gaps between the SDK and the <a href="https://github.com/microsoft/ifc-spec">Specification</a>, and for changes required to support C++ standards starting from C++20 and upwards.</p>
<h1 id="call-to-action">Call to Action</h1>
<p>We encourage you to check out the <a href="https://github.com/microsoft/ifc">IFC SDK repo</a>, <a href="https://github.com/microsoft/ifc/blob/main/README.md">build it, experiment with it</a>, and <a href="https://github.com/microsoft/ifc/blob/main/CONTRIBUTING.md">contribute</a>. We would like to hear from you. If you‚Äôre a C++ compiler writer interested in supporting the IFC file format, please reach out at the <a href="https://github.com/microsoft/ifc-spec">IFC Specification repo</a> and share feedback, suggestions, or bug fixes.¬† You can also reach us on Twitter (<a href="https://twitter.com/visualc">@VisualC</a>), or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>&nbsp;</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/open-sourcing-ifc-sdk-for-cpp-modules/">Open Sourcing IFC SDK for C++ Modules</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/open-sourcing-ifc-sdk-for-cpp-modules/feed/</wfw:commentRss>
			<slash:comments>6</slash:comments>
		
		
			</item>
		<item>
		<title>Build Reliable and Secure C++ programs ‚Äî Microsoft Learn</title>
		<link>https://devblogs.microsoft.com/cppblog/build-reliable-and-secure-cpp-programs-microsoft-learn/</link>
					<comments>https://devblogs.microsoft.com/cppblog/build-reliable-and-secure-cpp-programs-microsoft-learn/#respond</comments>
		
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
		<pubDate>Mon, 02 Oct 2023 07:50:59 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32938</guid>

					<description><![CDATA[<p>‚ÄúThe world is built on C and C++‚Äù is no overstatement ‚Äî C and C++ are foundational languages for our global society and are always in the world‚Äôs top 10 most heavily used languages now and for the foreseeable future. Visual Studio has always supported many programming languages and we encourage new languages and experiments;</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/build-reliable-and-secure-cpp-programs-microsoft-learn/">Build Reliable and Secure C++ programs ‚Äî Microsoft Learn</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>‚ÄúThe world is built on C and C++‚Äù is no overstatement ‚Äî C and C++ are foundational languages for our global society and are always in the world‚Äôs top 10 most heavily used languages now and for the foreseeable future. Visual Studio has always supported many programming languages and we encourage new languages and experiments; diversity and innovation are healthy and help progress the state of the art in software engineering. In Visual Studio we also remain heavily invested long-term in providing the best C and C++ tools and continuing to actively participate in ISO C++ standardization, because we know that our internal and external customers are relying on these languages for their success, now and for many years to come.</p>
<p>As cyberattacks and cybercrimes increase, we have to defend our software that is under attack. Malicious actors target many attack vectors, one of which is memory safety vulnerabilities. C and C++ do not guarantee memory safety by default, but you can build reliable and secure software in C++ using additional libraries and tools. And regardless of the programming languages your project uses, you need to know how to defend against the many other attack vectors besides memory safety that bad actors are using daily to attack software written in all languages.</p>
<p>To that end, we‚Äôve just published a new document on Microsoft Learn to help our customers know and use the tools we provide in Visual Studio, Azure DevOps, and GitHub to ship reliable and secure software. Most of the advice applies to all languages, but this document has a specific focus on C and C++. It was coauthored by many subject-matter experts in programming languages and software security from across Microsoft:</p>
<ul>
<li><a href="https://aka.ms/cpp/security"><span style="font-size: 14pt;"><strong>Build reliable and secure C++ programs</strong> | Microsoft Learn</span></a></li>
</ul>
<p>This is a section-by-section companion to the United States government publication <a href="https://nvlpubs.nist.gov/nistpubs/ir/2021/NIST.IR.8397.pdf">NISTIR 8397: Guidelines on Minimum Standards for Developer Verification of Software</a>. NISTIR 8397 contains excellent guidance on how to build reliable and secure software in any programming language, arranged in 11 sections or topics. For each NISTIR 8397 section, this Learn document summarizes how to use Microsoft developer products for C++ and other languages to meet that section&#8217;s security needs, and provides guidance to get the most value in each area.</p>
<p>Most of NISTIR 8397‚Äôs guidance applies to all software; for example, all software should protect its secrets, use the latest versions of tools, do automated testing, use CI/CD, verify its bill of materials, and so on. <strong>But for C++ memory safety specifically, see our Learn document‚Äôs information in sections 2.3, 2.5, and 2.9</strong> for a detailed list of analyses (e.g., CodeQL, Binskim, <code>/analyze</code>), safe libraries (e.g., GSL, SafeInt), hardening compiler switches (e.g., <code>/sdl</code>, <code>/GS</code>, <code>/guard</code>, <code>/W4</code>, <code>/WX</code>, <code>/Qspectre</code>), and tools (e.g., Address Sanitizer, LibFuzzer) that your project can and should use regularly to harden your C++ programs. If your project uses C++ and you find items listed that you‚Äôre not using yet, don‚Äôt wait ‚Äî start adding them to your project today!</p>
<p>Safety and security are essential. We want to help all of our customers to know about and use the state-of-the-art tools we provide in Visual Studio, Azure DevOps, and GitHub for writing reliable and secure software in our device-and-cloud connected world. Please take some time to review the new Learn document today, and use it as a checklist to ensure that your project is taking full advantage of the best practices and tools available to write robust software in modern C++.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/build-reliable-and-secure-cpp-programs-microsoft-learn/">Build Reliable and Secure C++ programs ‚Äî Microsoft Learn</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/build-reliable-and-secure-cpp-programs-microsoft-learn/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Microsoft C++ Team at CppCon 2023</title>
		<link>https://devblogs.microsoft.com/cppblog/microsoft-cpp-team-at-cppcon-2023/</link>
					<comments>https://devblogs.microsoft.com/cppblog/microsoft-cpp-team-at-cppcon-2023/#comments</comments>
		
		<dc:creator><![CDATA[Sy Brand]]></dc:creator>
		<pubDate>Thu, 28 Sep 2023 16:00:34 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32933</guid>

					<description><![CDATA[<p>As always our team will be at CppCon this year with a host of presentations. Many of us will also be present at our team‚Äôs booth in the main hall for the first two days of the conference. Come say hi and let us know if you have any questions about our talks,</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/microsoft-cpp-team-at-cppcon-2023/">Microsoft C++ Team at CppCon 2023</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><img decoding="async" class="size-full wp-image-24953 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/09/atcpp.png" alt="Microsoft @ CppCon" width="760" height="466" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/09/atcpp.png 760w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/09/atcpp-300x184.png 300w" sizes="(max-width: 760px) 100vw, 760px" /></p>
<p>As always our team will be at <a href="https://cppcon.org/">CppCon</a> this year with a host of presentations. Many of us will also be present at our team‚Äôs booth in the main hall for the first two days of the conference. Come say hi and let us know if you have any questions about our talks, products, or anything else! You can also join the <a href="https://aka.ms/cppcon/discord">#visual_studio channel on the CppCon Discord</a> to talk to us (note: to join, head to <a href="https://discord.com/channels/864799911358627861/864825142386622474">#directory</a> channel first, and check the checkbox next to &#8220;Visual Studio&#8221; box).</p>
<p>We‚Äôre also running a survey on the C++ ecosystem. If you have a moment, <a href="https://aka.ms/cppcon" target="_blank" rel="noopener noreferrer">please take our survey.</a> It&#8217;s quick and you could win a utility backpack or duffel bag.</p>
<p>Here‚Äôs the lineup:</p>
<h2 data-ccp-props="{&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559683&quot;:0,&quot;335559685&quot;:0,&quot;335559731&quot;:0,&quot;335559737&quot;:0,&quot;335562764&quot;:2,&quot;335562765&quot;:1,&quot;335562766&quot;:4,&quot;335562767&quot;:0,&quot;335562768&quot;:4,&quot;335562769&quot;:0}" data-ccp-props="{&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559683&quot;:0,&quot;335559685&quot;:0,&quot;335559731&quot;:0,&quot;335559737&quot;:0,&quot;335562764&quot;:2,&quot;335562765&quot;:1,&quot;335562766&quot;:4,&quot;335562767&quot;:0,&quot;335562768&quot;:4,&quot;335562769&quot;:0}" id="monday-2nd"><span data-usefontface="true" data-contrast="none">Monday 2nd</span>‚Äã</h2>
<ul style="font-weight: 400;">
<li data-charcodes="8226" data-font="Arial,Sans-Serif" data-buautonum="8" data-margin="450" data-aria-posinset="1" data-aria-level="1"><b><span data-usefontface="true" data-contrast="none">Lifetime Safety in C++</span></b><span data-usefontface="true" data-contrast="none"> ‚Äì Gabor Horvath ‚Äì 11am </span>‚Äã</li>
<li data-charcodes="8226" data-font="Arial,Sans-Serif" data-buautonum="8" data-margin="450" data-aria-posinset="2" data-aria-level="1"><b><span data-usefontface="true" data-contrast="none">Informal Birds of a Feather for Cpp2/</span></b><b><span data-usefontface="true" data-contrast="none">cppfront</span></b> ‚Äì <span data-usefontface="true" data-contrast="none">Herb Sutter ‚Äì 12:30pm</span>‚Äã</li>
</ul>
<h2 data-ccp-props="{&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559683&quot;:0,&quot;335559685&quot;:0,&quot;335559731&quot;:0,&quot;335559737&quot;:0,&quot;335562764&quot;:2,&quot;335562765&quot;:1,&quot;335562766&quot;:4,&quot;335562767&quot;:0,&quot;335562768&quot;:4,&quot;335562769&quot;:0}" data-ccp-props="{&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559683&quot;:0,&quot;335559685&quot;:0,&quot;335559731&quot;:0,&quot;335559737&quot;:0,&quot;335562764&quot;:2,&quot;335562765&quot;:1,&quot;335562766&quot;:4,&quot;335562767&quot;:0,&quot;335562768&quot;:4,&quot;335562769&quot;:0}" id="tuesday-3rd"><span data-usefontface="true" data-contrast="none">Tuesday‚Äã 3rd</span>‚Äã</h2>
<ul style="font-weight: 400;">
<li data-charcodes="8226" data-font="Arial,Sans-Serif" data-buautonum="8" data-margin="450" data-aria-posinset="4" data-aria-level="1"><b><span data-usefontface="true" data-contrast="none">What‚Äôs New in Visual Studio ‚Äì¬†</span></b><span data-usefontface="true" data-contrast="none">David Li &amp; Mryam Girmay ‚Äì 3:15pm</span>‚Äã</li>
</ul>
<h2 data-ccp-props="{&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559683&quot;:0,&quot;335559685&quot;:0,&quot;335559731&quot;:0,&quot;335559737&quot;:0,&quot;335562764&quot;:2,&quot;335562765&quot;:1,&quot;335562766&quot;:4,&quot;335562767&quot;:0,&quot;335562768&quot;:4,&quot;335562769&quot;:0}" data-ccp-props="{&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559683&quot;:0,&quot;335559685&quot;:0,&quot;335559731&quot;:0,&quot;335559737&quot;:0,&quot;335562764&quot;:2,&quot;335562765&quot;:1,&quot;335562766&quot;:4,&quot;335562767&quot;:0,&quot;335562768&quot;:4,&quot;335562769&quot;:0}" id="thursday-5th"><span data-usefontface="true" data-contrast="none">‚ÄãThursday 5th‚Äã</span>‚Äã</h2>
<ul style="font-weight: 400;">
<li data-charcodes="8226" data-font="Arial,Sans-Serif" data-buautonum="8" data-margin="450" data-aria-posinset="6" data-aria-level="1"><b><span data-usefontface="true" data-contrast="none">Cooperative C++ Evolution: Towards a Typescript for C++</span></b><span data-usefontface="true" data-contrast="none"> ‚Äì Herb Sutter (Keynote) ‚Äì 10:30am</span>‚Äã</li>
<li data-charcodes="8226" data-font="Arial,Sans-Serif" data-buautonum="8" data-margin="450" data-aria-posinset="7" data-aria-level="1"><b><span data-usefontface="true" data-contrast="none">How Visual Studio Code Can Help You Develop More Efficiently in C++</span></b><span data-usefontface="true" data-contrast="none">¬†‚Äì Alexandra¬†</span><span data-usefontface="true" data-contrast="none">Kemper &amp; Sinem Akinci ‚Äì 3:15pm</span>‚Äã</li>
<li data-charcodes="8226" data-font="Arial,Sans-Serif" data-buautonum="8" data-margin="450" data-aria-posinset="8" data-aria-level="1"><b><span data-usefontface="true" data-contrast="none">Regular, Revisited</span></b><span data-usefontface="true" data-contrast="none">¬†‚Äì Victor Ciura ‚Äì 3:15pm</span>‚Äã</li>
</ul>
<h2 data-ccp-props="{&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559683&quot;:0,&quot;335559685&quot;:0,&quot;335559731&quot;:0,&quot;335559737&quot;:0,&quot;335562764&quot;:2,&quot;335562765&quot;:1,&quot;335562766&quot;:4,&quot;335562767&quot;:0,&quot;335562768&quot;:4,&quot;335562769&quot;:0}" data-ccp-props="{&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559683&quot;:0,&quot;335559685&quot;:0,&quot;335559731&quot;:0,&quot;335559737&quot;:0,&quot;335562764&quot;:2,&quot;335562765&quot;:1,&quot;335562766&quot;:4,&quot;335562767&quot;:0,&quot;335562768&quot;:4,&quot;335562769&quot;:0}" id="friday-6th"><span data-usefontface="true" data-contrast="none">Friday 6th‚Äã</span>‚Äã</h2>
<ul style="font-weight: 400;">
<li data-charcodes="8226" data-font="Arial,Sans-Serif" data-buautonum="8" data-margin="450" data-aria-posinset="10" data-aria-level="1"><b><span data-usefontface="true" data-contrast="none">Getting Started with C++ ‚Äì¬†</span></b><span data-usefontface="true" data-contrast="none">Michael Price ‚Äì 1:30pm</span></li>
</ul>
<p>&nbsp;</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/microsoft-cpp-team-at-cppcon-2023/">Microsoft C++ Team at CppCon 2023</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/microsoft-cpp-team-at-cppcon-2023/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>MSVC ARM64 Optimizations in Visual Studio 2022 17.7</title>
		<link>https://devblogs.microsoft.com/cppblog/msvc-arm64-optimizations-in-visual-studio-2022-17-7/</link>
					<comments>https://devblogs.microsoft.com/cppblog/msvc-arm64-optimizations-in-visual-studio-2022-17-7/#respond</comments>
		
		<dc:creator><![CDATA[Hongyon Suauthai (ARM)]]></dc:creator>
		<pubDate>Thu, 28 Sep 2023 15:00:51 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[faster]]></category>
		<category><![CDATA[performance]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32881</guid>

					<description><![CDATA[<p>In Visual Studio 2022 version 17.6 we added a host of new ARM64 optimizations. In this 2nd edition of our blog, we will highlight some of the performance improvements to MSVC ARM64 compiler backend, we will discuss key optimizations in the Visual Studio 2022 version 17.7 for both scalar ISA and SIMD ISA (NEON).</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-arm64-optimizations-in-visual-studio-2022-17-7/">MSVC ARM64 Optimizations in Visual Studio 2022 17.7</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>In Visual Studio 2022 version 17.6 we added a <a href="https://devblogs.microsoft.com/cppblog/msvc-arm64-optimizations-in-visual-studio-2022-17-6/">host of new ARM64 optimizations</a>. In this 2<sup>nd</sup> edition of our blog, we will highlight some of the performance improvements to MSVC ARM64 compiler backend, we will discuss key optimizations in the <a href="https://devblogs.microsoft.com/visualstudio/visual-studio-2022-17-7-now-available/">Visual Studio 2022 version 17.7</a> for both scalar ISA and SIMD ISA (NEON). We started introducing these performance optimizations in 17.6 release and we have landed them in 17.7 release.</p>
<h2 id="by-element-operation">By element operation</h2>
<p>ARM64 supports by-element operation in several instructions such as <code>fmul</code>, <code>fmla</code>, <code>fmls</code>, etc.¬† This feature allows a SIMD operand to be computed directly by a SIMD element using an index to access it. In the example below where we multiply a scalar with an array, MSVC duplicated the vector element <code>v0.s[0]</code> into all lanes of a SIMD register, then multiplied that with another SIMD operand represented by array <code>b</code>.¬† This is not efficient because the <code>dup</code> instruction will add 2 more execution latency before executing the <code>fmul</code> instruction.</p>
<p>To better understand this optimization let‚Äôs take the following sample code:</p>
<pre>void test(float * __restrict a, float * __restrict b, float c) {
  ¬†¬†for (int i = 0; i &lt; 4; i++)
 ¬†¬† ¬†¬†¬†¬†a[i] = b[i] * c;
}</pre>
<p>Code generated by MSVC 17.6:</p>
<pre> ¬†¬†¬†¬†¬†¬† dup¬†¬†¬†¬†¬†¬†¬†¬† v17.4s,v0.s[0]
 ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x1]
 ¬†¬†¬†¬†¬†¬† fmul¬†¬†¬†¬†¬†¬†¬† v16.4s,v17.4s,v16.4s
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]</pre>
<p>In Visual Studio 2022 17.7, we eliminated a duplicate instruction. It now can multiply by a SIMD element directly and the code generation is:</p>
<pre> ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x1]
 ¬†¬†¬†¬†¬†¬† fmul¬†¬†¬†¬†¬†¬†¬† v16.4s,v16.4s,v0.s[0]
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]</pre>
<h2 id="neon-supports-for-shift-right-and-accumulate-immediate">Neon supports for shift right and accumulate immediate</h2>
<p>This instruction right-shifts a SIMD source by an immediate and accumulates the final result with the destination SIMD register. As mentioned earlier, we started working on this optimization in the 17.6 release and completed the feature in the 17.7 release.</p>
<p>In the 17.5 release MSVC turned right shifts into left shifts using a negative shift amount. To implement it that way, it copied a constant -2 into a general register, and then duplicated a general register into the SIMD register before the left shift.</p>
<p>We eliminated the duplicate instruction and used right shift with an immediate value in the 17.6 release. It was an improvement, but not yet good enough.</p>
<p>We further improved the implementation in 17.7 by combining right shift and add by using <code>usra</code> for unsigned and <code>ssra</code> for signed operation. The final implementation is much more compact than the previous ones.</p>
<p>To better understand how this optimization works let‚Äôs look at the sample code below:</p>
<pre>void test(unsigned long long * __restrict a, unsigned long long * __restrict b) {
 ¬†¬† for (int i = 0; i &lt; 2; i++)
 ¬†¬†¬†¬†¬†¬† a[i] += b[i] &gt;&gt; 2;
}</pre>
<p>Code generated by MSVC 17.5:</p>
<pre> ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† x8,#-2
 ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x1]
 ¬†¬†¬†¬†¬†¬† dup¬†¬†¬†¬†¬†¬†¬†¬† v17.2d,x8
 ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q18,[x0]
 ¬†¬†¬†¬†¬†¬† ushl¬†¬†¬†¬†¬†¬†¬† v17.2d,v16.2d,v17.2d
 ¬†¬†¬†¬†¬†¬† add¬†¬†¬†¬†¬†¬†¬†¬† v18.2d,v17.2d,v18.2d
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† q18,[x0]</pre>
<p>Code generated by MSVC 17.6:</p>
<pre> ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x1]
 ¬†¬†¬†¬†¬†¬† ushr¬†¬†¬†¬†¬†¬†¬† v17.2d,v16.2d,#2
 ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]
 ¬†¬†¬†¬†¬†¬† add¬†¬†¬†¬†¬†¬†¬†¬† v16.2d,v17.2d,v16.2d
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]</pre>
<p>Code generated by MSVC 17.7:</p>
<pre> ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]
 ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q17,[x1]
 ¬†¬†¬†¬†¬†¬† usra¬†¬†¬†¬†¬†¬†¬† v16.2d,v17.2d,#2
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]</pre>
<h2 id="neon-right-shift-into-cmp">Neon right shift into cmp</h2>
<p>A right shift on a signed integer shifts the msb, with the result being either -1 or 0, and is equivalent to <code>cmlt</code>.¬† Similar to the previous optimization, we progressively made improvements and completed the feature in 17.7.</p>
<p>To better understand why we introduced this optimization let‚Äôs take the following snippet of code,</p>
<pre>void shf2cmlt(int * __restrict a, int * __restrict b) {
  ¬† for (int i = 0; i &lt; 4; i++)
  ¬† ¬† b[i] = a[i] &gt;&gt; 31;
}</pre>
<p>Code generated by MSVC 17.5:</p>
<pre> ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]
 ¬†¬†¬†¬†¬†¬† mvni¬†¬†¬†¬†¬†¬†¬† v17.4s,#0x1E
 ¬†¬†¬†¬†¬†¬† sshl¬†¬†¬†¬†¬†¬†¬† v17.4s,v16.4s,v17.4s
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† q17,[x1]</pre>
<p>Code generated by MSVC 17.6:</p>
<pre> ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]
 ¬†¬†¬†¬†¬†¬† sshr¬†¬†¬†¬†¬†¬†¬† v16.4s,v16.4s,#0x1F
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x1]</pre>
<p><code>sshr</code> was certainly an improvement but not the best solution because its throughput is 1 and can go through only the V1 pipeline. <code>cmlt</code> has better throughput as it can go through pipelines V1 or V2 on Arm‚Äôs Neoverse N1 core as in <a href="https://developer.arm.com/documentation/PJDOC-466751330-9707/r4p1/?lang=en">Arm¬Æ Neoverse<img src="https://s.w.org/images/core/emoji/14.0.0/72x72/2122.png" alt="‚Ñ¢" class="wp-smiley" style="height: 1em; max-height: 1em;" /> N1 Software Optimization Guide</a>.</p>
<p>Code generated by MSVC 17.7:</p>
<pre> ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]
 ¬†¬†¬†¬†¬†¬† cmlt¬†¬†¬†¬†¬†¬†¬† v16.4s,v16.4s,#0
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x1]</pre>
<h2 id="neon-right-shift-and-narrow-into-shifted-narrow">Neon right shift and narrow into shifted narrow</h2>
<p>This is another case where we can combine 2 instructions into one using <code>shrn</code>. The <code>shrn </code>instruction right shifts each element of an unsigned integer value from the source SIMD register by an immediate value, puts the result into a SIMD register, and writes the vector to the lower half of the destination SIMD register.</p>
<p>In this example, the generated code multiplies 16-bit integers, and puts the result into an unsigned 32-bit destination. It right-shifts the result by an immediate value, then it extracts, narrows half of it, and writes to the final destination.</p>
<p>To better understand this optimization, consider the following sample of code:</p>
<pre>void test(unsigned short * __restrict a, short * __restrict b) {
 ¬†¬† for( int i = 0; i &lt; 4; i++ )
 ¬†¬†¬†¬† ¬†¬†b[i] = (a[i] * a[i]) &gt;&gt; 10;
}</pre>
<p>Code generated by MSVC 17.6:</p>
<pre> ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† d16,[x0]
 ¬†¬†¬†¬†¬†¬† umull¬†¬†¬†¬†¬†¬† v16.4s,v16.4h,v16.4h
 ¬†¬†¬†¬†¬†¬† sshr¬†¬†¬†¬†¬†¬†¬† v16.4s,v16.4s,#0xA
 ¬†¬†¬†¬†¬†¬† xtn¬†¬†¬†¬†¬†¬†¬†¬† v16.4h,v16.4s
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† d16,[x1]</pre>
<p>Code generated by MSVC 17.7:</p>
<pre> ¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† d16,[x0]
 ¬†¬†¬†¬†¬†¬† umull¬†¬†¬†¬†¬†¬† v16.4s,v16.4h,v16.4h
 ¬†¬†¬†¬†¬†¬† shrn¬†¬†¬†¬†¬†¬†¬† v16.4h,v16.4s,#0xA
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† d16,[x1]</pre>
<h2 id="scalar-code-generation-improved-negation-of-bool-value">Scalar code-generation improved negation of bool value</h2>
<p>A negation of a Boolean value can generally be optimized using an <em>exclusive or</em> with 1.</p>
<p><em>For example,</em><em>¬†</em></p>
<p>0 ^ 1 = 1</p>
<p>1 ^ 1 = 0</p>
<p>In 17.6, MSVC generates unnecessary code using <code>cmp</code><em> + </em><code>cseleq</code> to negate boolean function&#8217;s return values.</p>
<p>To better understand this optimization let‚Äôs take the following sample code:</p>
<pre>bool foo();
bool negate_bool() {
 ¬† ¬†return !foo();
}</pre>
<p>Code generated by MSVC 17.6:</p>
<pre> ¬†¬†¬†¬†¬†¬† bl¬†¬†¬†¬†¬†¬†¬†¬†¬† |?foo@@YA_NXZ|
 ¬†¬†¬†¬†¬†¬† uxtb¬†¬†¬†¬†¬†¬†¬† w8,w0
 ¬†¬†¬†¬†¬†¬† cmp¬†¬†¬†¬†¬†¬†¬†¬† w8,#0
 ¬†¬†¬†¬†¬†¬† cseteq¬†¬†¬†¬†¬† w0
¬†¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† lr,[sp],#0x10</pre>
<p>It extracts the return value of function <code>foo()</code> and compares with 0, then uses cseteq to check if the return value is equal to 0 to return 1, otherwise it returns 0.</p>
<p>While in 17.7 we improve it by doing a bit-wise <em>exclusive or </em>which is equivalent to negation.</p>
<p>Code generated by MSVC 17.7:</p>
<pre> ¬†¬†¬†¬†¬†¬† bl¬†¬†¬†¬†¬†¬†¬†¬†¬† |?foo@@YA_NXZ|
 ¬†¬†¬†¬†¬†¬† eor¬†¬†¬†¬†¬†¬†¬†¬† w8,w0,#1
 ¬†¬†¬†¬†¬†¬† uxtb¬†¬†¬†¬†¬†¬†¬† w0,w8
¬†¬†¬†¬†¬†¬†¬† ldr¬†¬†¬†¬†¬†¬†¬†¬† lr,[sp],#0x10</pre>
<p>&nbsp;</p>
<h2 id="arm64-instruction-eliminate-redundant-comparisons">ARM64 instruction eliminate redundant comparisons</h2>
<p>There are certain cases where MSVC fails to recognize that the comparison conditions are the same and the conditional flag is unchanged.¬† In the following example, there are 3 comparisons for <code>if (cond<em>)</em></code> for assigning <code>a</code>, <code>b</code>, and <code>c</code> using <code>cseleq</code><em>.</em></p>
<pre>struct A {
 ¬†¬†¬†¬†¬†¬† int a;
 ¬†¬†¬†¬†¬†¬† int b;
 ¬†¬†¬†¬†¬†¬† int c;
};¬† ¬†

void foo(struct A *sa, int cond) {
 ¬†¬† int a = 1, b = 2, c = 3;
 ¬†¬† if (cond) {
 ¬†¬†¬†¬†¬†¬† a = 20;
 ¬†¬†¬†¬†¬†¬† b = 33;
 ¬†¬†¬†¬†¬†¬† c = 48;
¬†¬†¬† }

 ¬†¬† sa-&gt;a = a;
 ¬†¬† sa-&gt;b = b;
¬†¬†¬† sa-&gt;c = c;
}</pre>
<p>Code generated by MSVC 17.6:</p>
<pre> ¬†¬†¬†¬†¬†¬† cmp¬†¬†¬†¬†¬†¬†¬†¬† w1,#0
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w9,#1
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w8,#0x14
 ¬†¬†¬†¬†¬†¬† cseleq¬†¬†¬†¬†¬† w10,w9,w8
 ¬†¬†¬†¬†¬†¬† cmp¬†¬†¬†¬†¬†¬†¬†¬† w1,#0
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w9,#2
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w8,#0x21
 ¬†¬†¬†¬†¬†¬† cseleq¬†¬†¬†¬†¬† w8,w9,w8
 ¬†¬†¬†¬†¬†¬† stp¬†¬†¬†¬†¬†¬†¬†¬† w10,w8,[x0]
 ¬†¬†¬†¬†¬†¬† cmp¬†¬†¬†¬†¬†¬†¬†¬† w1,#0
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w8,#0x30
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w9,#3
 ¬†¬†¬†¬†¬†¬† cseleq¬†¬†¬†¬†¬† w8,w9,w8
; Line 19
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† w8,[x0,#8]</pre>
<p>We taught the backend to recognize the pattern. The code-generation in the 17.7 release has been optimized.</p>
<p>Code generated by MSVC 17.7:</p>
<pre> ¬†¬†¬†¬†¬†¬† cmp¬†¬†¬†¬†¬†¬†¬†¬† w1,#0
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w9,#1
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w8,#0x14
 ¬†¬†¬†¬†¬†¬† cseleq¬†¬†¬†¬†¬† w10,w9,w8
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w9,#2
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w8,#0x21
 ¬†¬†¬†¬†¬†¬† cseleq¬†¬†¬†¬†¬† w8,w9,w8
 ¬†¬†¬†¬†¬†¬† stp¬†¬†¬†¬†¬†¬†¬†¬† w10,w8,[x0]
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w9,#3
 ¬†¬†¬†¬†¬†¬† mov¬†¬†¬†¬†¬†¬†¬†¬† w8,#0x30
 ¬†¬†¬†¬†¬†¬† cseleq¬†¬†¬†¬†¬† w8,w9,w8
; Line 19
¬†¬†¬†¬†¬†¬†¬† str¬†¬†¬†¬†¬†¬†¬†¬† w8,[x0,#8]</pre>
<h2 id="summary">Summary</h2>
<p>We would like to thank everyone for giving us feedback and we are looking forward to hearing more from you. ¬†We will continue to improve MSVC for ARM developers in 17.8.¬† Please stay tuned. ¬†Your feedback is very valuable to us. Please share your thoughts and comments with us through <u>Virtual C++ Developer Community</u>. You can also reach us on Twitter (<a href="https://twitter.com/visualc">@VisualC</a>), or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>&nbsp;</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-arm64-optimizations-in-visual-studio-2022-17-7/">MSVC ARM64 Optimizations in Visual Studio 2022 17.7</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/msvc-arm64-optimizations-in-visual-studio-2022-17-7/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>C11 Threads in Visual Studio 2022 version 17.8 Preview 2</title>
		<link>https://devblogs.microsoft.com/cppblog/c11-threads-in-visual-studio-2022-version-17-8-preview-2/</link>
					<comments>https://devblogs.microsoft.com/cppblog/c11-threads-in-visual-studio-2022-version-17-8-preview-2/#comments</comments>
		
		<dc:creator><![CDATA[Charlie Barto]]></dc:creator>
		<pubDate>Tue, 26 Sep 2023 16:00:25 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32848</guid>

					<description><![CDATA[<p>Back in Visual Studio 2022 version 17.5 Microsoft Visual C gained preliminary support for C11 atomics. We are happy to announce that support for the other major concurrency feature of C11, threads, is available in Visual Studio version 17.8 Preview 2.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/c11-threads-in-visual-studio-2022-version-17-8-preview-2/">C11 Threads in Visual Studio 2022 version 17.8 Preview 2</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Back in <a href="https://devblogs.microsoft.com/cppblog/c11-atomics-in-visual-studio-2022-version-17-5-preview-2/">Visual Studio 2022 version 17.5</a> Microsoft Visual C gained preliminary support for C11 atomics. We are happy to announce that support for the other major concurrency feature of C11, threads, is available in Visual Studio version 17.8 Preview 2. This should make it easier to port cross-platform C applications to Windows, without having to drag along a threading compatibility layer.</p>
<p>Unlike C11 atomics, C11 threads do not share an ABI with C++‚Äôs <code>&lt;thread&gt;</code> facilities, but C++ programs can include the C11 threads header and call the functions just like any C program. Both are implemented in terms of the primitives provided by Windows, so their usage can be mixed in the same program and on the same thread. The implementations are distinct, however, for example you can‚Äôt use the C11 mutexes with C++ condition variables.</p>
<p>C11 contains support for threads and a variety of related concurrency primitives including mutexes, condition variables, and thread specific storage. All of these are implemented in Visual Studio version 17.8 Preview 2.</p>
<h2><a id="post-32848-threads"></a>Threads</h2>
<p>Threads are created with <code>thrd_create</code>, to which you pass a pointer to the desired entry point and a user data pointer (which may be null), along with a pointer to a <code>thrd_t</code> structure to fill in. Once you have a <code>thrd_t</code> created with <code>thrd_create</code> you can call functions to compare it to another <code>thrd_t</code>, join it, or detach it. Functions are also provided to sleep or yield the current thread.</p>
<pre class="prettyprint language-default"><code class="language-default">int thread_entry(void* data) {
    return 0;
}

int main(void) {
    thrd_t thread;
    int result = thrd_create(&amp;thread, thread_entry, NULL);
    if(result != thrd_success) {
        // handle error
    }
    result = thrd_join(thread, NULL);
    if(result != thrd_success) {
        // handle error
    }
    return 0;
}</code></pre>
<p>&nbsp;</p>
<p>A key difference between our implementation and C11 threads implementations based on pthreads is that threads can not detach <em>themselves</em> using <code>thrd_current()</code> and <code>thrd_detach()</code>. This is because of a fundamental difference in how threads work on Windows vs Unix descendants and we would require a shared datastructure that tracks thread handles to implement the typical behavior.</p>
<p>On Unix derivatives the integer thread ID <em>is</em> the handle to the thread and detaching just sets a flag causing the thread to be cleaned up immediately when it finishes. This makes detached threads somewhat dangerous to use on Unix derivatives, since after a detached thread exits any other references to that thread ID will be dangling and could later refer to a different thread altogether. On Windows the handle to a thread is a win32 <code>HANDLE</code> and is reference counted. The thread is cleaned up when the last handle is closed. There is no way to close all handles to a thread except by keeping track of them and closing each one.</p>
<p>We could implement the Unix/pthreads behavior by keeping a shared mapping of thread-id to handle, populated by <code>thrd_create</code>. If you need this functionality then you can implement something like this yourself, but we don‚Äôt provide it by default because it would incur a cost even if it‚Äôs not used. Better workarounds may also be available, such as passing a pointer to the <code>thrd_t</code> populated by <code>thrd_create</code> via the user data pointer to the created thread.</p>
<h2><a id="post-32848-mutexes"></a>Mutexes</h2>
<p>Mutexes are provided through the <code>mtx_t</code> structure and associated functions. Mutexes can be either plain, recursive, timed, or a combination of these properties. All kinds of mutexes are manipulated with the same functions (the type is dynamic).</p>
<pre class="prettyprint language-default"><code class="language-default">#include &lt;threads.h&gt; 
 
static mtx_t mtx; // see below 
 
int main(void) { 
    if(mtx_lock(&amp;mtx) != thrd_success) { 
        return 1; 
    } 
    // do some stuff protected by the mutex 
 
    // no need to check the result of a valid unlock call 
    mtx_unlock(&amp;mtx); 
 
    // no need to call mtx_destroy 
} </code></pre>
<p>&nbsp;</p>
<p>Our mutexes are always implemented on top of <a href="https://learn.microsoft.com/en-us/windows/win32/sync/slim-reader-writer--srw--locks">Slim Reader Writer Locks</a> and are 32 bytes each on x64 (our C++ <code>std::mutex</code> is 80 bytes). They consist of an 8 byte tag (this is much more than needed, but provides some room for future expansion), an <code>SRWLock</code>, a win32 <code>CONDITION_VARIABLE</code>, and a 32-bit owner and lock count. The owner and lock count are always maintained, even when mutex is not recursive. If you attempt to recursively lock a non-recursive mutex, or unlock a mutex you do not own then <code>abort()</code> is called. Structurally valid calls to <code>mtx_unlock</code> always succeed, and it is safe to ignore the return value of <code>mtx_unlock</code> in our implementation.</p>
<p>In our implementation you need not call <code>mtx_init</code>; a zeroed <code>mtx_t</code> is a valid plain mutex. Mutexes also don‚Äôt require any cleanup and calls to <code>mtx_destroy</code> are optional. This means you can safely use mutexes as static variables and similar.</p>
<h2><a id="post-32848-condition-variables"></a>Condition Variables</h2>
<p>Condition variables are provided through the <code>cnd_t</code> structure and associated functions. This structure is 8 bytes and stores just a win32 <code>CONDITION_VARIABLE</code>. You can wait on the condition variable with <code>cnd_wait</code>, or <code>cnd_timedwait</code>, and you can wake one waiting thread with <code>cnd_signal</code> or all waiting threads with <code>cnd_broadcast</code>. Spurious wakeups are allowed.</p>
<pre class="prettyprint language-default"><code class="language-default">#include &lt;threads.h&gt; 
 
static mtx_t mtx; 
static cnd_t cnd; 
static int condition; 
 
int main(void) { 
    if(mtx_lock(&amp;mtx) != thrd_success) { 
        return 1; 
    } 
    while(condition == 0) { 
        if(cnd_wait(&amp;cnd, &amp;mtx) != thrd_success) { 
            return 1; 
        } 
    } 
    mtx_unlock(&amp;mtx); 
    return 0; 
} </code></pre>
<p>Similarly to mutexes, zeroed condition variables are valid and you can omit calls to <code>cnd_init</code> and <code>cnd_destroy</code>.</p>
<h2><a id="post-32848-thread-specific-storage"></a>Thread Specific Storage</h2>
<p>Thread specific storage is provided via the <code>_Thread_local</code> (<code>thread_local</code> in C23) keyword, or via the <code>tss_</code> family of functions. <code>_Thread_local</code> works just like <code>__declspec(thread)</code> (see <a href="https://learn.microsoft.com/en-us/cpp/cpp/thread?view=msvc-170">docs</a>) and the <code>tss_</code> functions work similarly, but not identically, to the <code>Fls*</code> or <code>Tls*</code> family of functions.</p>
<pre class="prettyprint language-default"><code class="language-default">#include &lt;threads.h&gt; 
#include &lt;stdlib.h&gt; 
void dtor(void* dat) { 
    // not called in this program 
    abort(); 
} 
 
static tss_t t; 
 
int main(void) { 
    if(tss_create(&amp;t, dtor) != thrd_success) { 
        return 1; 
    } 
    if(tss_set(t, (void*)42) != thrd_success) { 
        return 1; 
    } 
    if(tss_get(t) != (void*)42) { 
        return 1; 
    } 
    return 0; 
} </code></pre>
<p>The C11 TSS facilities support <em>destructors</em> which are run when threads exit and are passed the value of the associated TSS key, if it is non-null. The macro <code>TSS_DTOR_ITERATIONS</code> specifies how many times we‚Äôll check for more destructors to run in the case that a destructor calls <code>tss_set</code>. Currently it‚Äôs set to 1, however, if this is a problem for you let us know. Destructors are run from either <code>DllMain</code>, or from a TLS callback (if you use the static runtime), and are not run on process teardown. This is an important difference from FLS destructors which are run on process teardown and get run before any <code>DllMain</code> routines or TLS callbacks.</p>
<h3><a id="post-32848-Xfd8bf69ca5cd09bc517393a90eb8a3dbe850e6d"></a>TSS limits and performance characteristics</h3>
<p>When using the explicit <code>tss_</code> functions there is a limit of 1024 TSS indices per process, these are <em>not</em> the same indices used for the <code>Fls*</code> functions, the <code>Tls*</code> functions, or <code>_Thread_local</code> ‚Äúimplicit‚Äù TLS variables. If you use any <code>&lt;threads.h&gt;</code> functions (not just the TSS functions) <em>and</em> you use the static runtime then you will use at least one implicit TLS index (the ones used for <code>_Thread_local</code>), even if you don‚Äôt otherwise use implicit TLS. This is because we need to enable TLS callbacks, which causes the loader to allocate such an index. If this is a problem (for example because of the loader gymnastics that are required to dynamically load such modules) let us know, or just use the dynamic runtime. If you use the <code>tss_</code> functions then additionally you will use one dynamic TLS index (the same ones used by <code>TlsAlloc</code>), you will only use <em>one</em>, no matter how many <code>tss_t</code>s you create. Threads will only spend time processing TSS destructors at thread exit if a TSS index with an associated destructor was ever set on that thread. When you create the first <code>tss_t</code> a table of destructors is allocated and when you use <code>tss_set</code> for the first time on a particular thread a per-thread table is allocated. Memory usage scales with the number of threads that use the C11 TSS functionality, not the total number of threads in the process. The destructor table is 8KiB (4KiB on 32-bit platforms) and each per thread table is 8209 bytes (4105 bytes on 32-bit platforms). These performance and memory characteristics may change in the future.</p>
<h2><a id="post-32848-new-runtime-components"></a>New Runtime Components</h2>
<p>Because <code>&lt;threads.h&gt;</code> is a new feature and we want the implementation to be able to change and improve over time, it‚Äôs shipped as a new satellite DLL of vcruntime: <code>vcruntime140_threads.dll</code> and <code>vcruntime140_threadsd.dll</code>. If you use the dynamic version of the Visual C++ runtime (<code>/MD</code> or <code>/MDd</code>), and you use the new threads facilities, then you need to either redistribute this file with your app, or redistribute a Visual C++ runtime redist that is new enough to contain these files. If you don‚Äôt touch the C11 threads functionality then your app won‚Äôt depend on anything in this DLL and it will not be loaded at all.</p>
<h1><a id="post-32848-send-us-your-feedback"></a>Send us your feedback!</h1>
<p>Try out C11 threads in the <a href="https://visualstudio.microsoft.com/vs/preview/">latest Visual Studio preview</a> and share your thoughts with us in the comments below, on <a href="https://developercommunity.visualstudio.com/cpp">Developer Community</a>, on twitter (<a href="https://twitter.com/visualc">@VisualC</a>) or via email at visualcpp@microsoft.com.</p>
<p>&nbsp;</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/c11-threads-in-visual-studio-2022-version-17-8-preview-2/">C11 Threads in Visual Studio 2022 version 17.8 Preview 2</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/c11-threads-in-visual-studio-2022-version-17-8-preview-2/feed/</wfw:commentRss>
			<slash:comments>4</slash:comments>
		
		
			</item>
		<item>
		<title>MSVC Machine-Independent Optimizations in Visual Studio 2022 17.7</title>
		<link>https://devblogs.microsoft.com/cppblog/msvc-machine-independent-optimizations-in-visual-studio-2022-17-7/</link>
					<comments>https://devblogs.microsoft.com/cppblog/msvc-machine-independent-optimizations-in-visual-studio-2022-17-7/#comments</comments>
		
		<dc:creator><![CDATA[Troy Johnson]]></dc:creator>
		<pubDate>Mon, 25 Sep 2023 16:16:05 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[performance]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32856</guid>

					<description><![CDATA[<p>This blog post presents a selection of machine-independent optimizations that were added between Visual Studio versions 17.4 (released November 8, 2022) and 17.7 P3 (released July 11, 2023). Each optimization below shows assembly code for both X64 and ARM64 to show the machine-independent nature of the optimization.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-machine-independent-optimizations-in-visual-studio-2022-17-7/">MSVC Machine-Independent Optimizations in Visual Studio 2022 17.7</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>This blog post presents a selection of machine-independent optimizations that were added between Visual Studio versions 17.4 (released November 8, 2022) and 17.7 P3 (released July 11, 2023). Each optimization below shows assembly code for both X64 and ARM64 to show the machine-independent nature of the optimization.</p>
<h2 id="optimizing-memory-across-block-boundaries">Optimizing Memory Across Block Boundaries</h2>
<p>When a small struct is loaded into a register, we can optimize field accesses to extract the correct bits from the register instead of accessing it through memory. Historically in MSVC, this optimization has been limited to memory accesses within the same basic block. We are now able to perform this same optimization across block boundaries in many cases.</p>
<p>In the example ASM listings below, a load to the stack and a store from the stack are eliminated, resulting in less memory traffic as well as lower stack memory usage.</p>
<p><strong>Example C++ Source Code:</strong></p>
<pre class="prettyprint language-cpp"><code class="language-cpp">#include &lt;string_view&gt;

bool compare(const std::string_view&amp; l, const std::string_view&amp; r) {
¬†¬† return l == r;
}</code></pre>
<p><strong>Required Compiler Flags:</strong> /O2</p>
<p><strong>X64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%; height: 56px;">
<tbody>
<tr style="height: 28px;">
<td style="width: 16.101%; height: 28px;">17.4</td>
<td style="width: 83.899%; height: 28px;">17.7</td>
</tr>
<tr style="height: 28px;">
<td style="width: 16.101%; height: 28px; vertical-align: top;">
<pre>sub¬†¬†¬†¬†¬†¬†¬†¬†rsp, 56
movups¬†    xmm0, XMMWORD PTR [rcx]
mov¬†¬†¬†¬†¬†¬†¬† r8, QWORD PTR [rcx+8]
movaps¬†    XMMWORD PTR $T1[rsp], xmm0
cmp¬†¬†¬†¬†¬†¬†¬† r8, QWORD PTR [rdx+8]
jne¬†¬†¬†¬†¬†¬†¬†¬†SHORT $LN9@compare
mov¬†¬†¬†¬†¬†¬†¬† rdx, QWORD PTR [rdx]
mov¬†¬†¬†¬†¬†¬†¬† rcx, QWORD PTR $T1[rsp]
call¬†¬†¬†¬†¬†¬†¬†memcmp
test¬†¬†¬†¬†¬†¬†¬†eax, eax
jne¬†¬†¬†¬†¬†¬†¬†¬†SHORT $LN9@compare
mov¬†¬†¬†¬†¬†¬†¬† al, 1
add¬†¬†¬†¬†¬†¬†¬†¬†rsp, 56
ret¬†¬†¬†¬†¬†¬†¬†¬†0
$LN9@compare:
xor¬†¬†¬†¬†¬†¬†¬†¬†al, al
add¬†¬†¬†¬†¬†¬†¬†¬†rsp, 56
ret¬†¬†¬†¬†¬†¬†¬†¬†0</pre>
</td>
<td style="width: 83.899%; height: 28px; vertical-align: top;">
<pre>sub¬†¬†¬†¬†¬†¬†¬†¬†¬†rsp, 40
mov¬†¬†¬†¬†¬†¬†¬†  r8, QWORD PTR [rcx+8]
movups¬†     xmm1, XMMWORD PTR [rcx]
cmp¬†¬†¬†¬†¬†¬†¬†  r8, QWORD PTR [rdx+8]
jne¬†¬†¬†¬†¬†¬†¬†¬†¬†SHORT $LN9@compare
mov¬†¬†¬†¬†¬†¬†¬†  rdx, QWORD PTR [rdx]
movq¬†¬†¬†¬†¬†   rcx, xmm1
call¬†¬†¬†¬†¬†¬†¬†¬†memcmp
test¬†¬†¬†¬†¬†¬†¬†¬†eax, eax
jne¬†¬†¬†¬†¬†¬†¬†¬†¬†SHORT $LN9@compare
mov¬†¬†¬†¬†¬†¬†¬†  al, 1
add¬†¬†¬†¬†¬†¬†¬†¬† rsp, 40
ret¬†¬†¬†¬†¬†¬†¬†¬†¬†0
$LN9@compare:
xor¬†¬†¬†¬†¬†¬†¬†¬†¬†al, al
add¬†¬†¬†¬†¬†¬†¬†¬† rsp, 40
ret¬†¬†¬†¬†¬†¬†¬†¬†¬†0</pre>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><strong>ARM64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%; height: 56px;">
<tbody>
<tr style="height: 28px;">
<td style="width: 13.9125%; height: 28px;">17.4</td>
<td style="width: 86.0875%; height: 28px;">17.7</td>
</tr>
<tr style="height: 28px;">
<td style="width: 13.9125%; height: 28px; vertical-align: top;">
<pre>str¬†¬†¬†¬†¬†¬†¬†¬† lr,[sp,#-0x10]!
sub¬†¬†¬†¬†¬†¬†¬†¬† sp,sp,#0x20
ldr¬†¬†¬†¬†¬†¬†¬†¬† q17,[x1]
ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0]
umov¬†¬†¬†¬†¬†¬†¬† x8,v17.d[1]
umov¬†¬†¬†¬†¬†¬†¬† x2,v16.d[1]
stp¬†¬†¬†¬†¬†¬†¬†¬† q17,q16,[sp]
cmp¬†¬†¬†¬†¬†¬†¬†¬† x2,x8
bne¬†¬†¬†¬†¬†¬†¬†¬† |$LN9@compare|
ldr¬†¬†¬†¬†¬†¬†¬†¬† x1,[sp]
ldr¬†¬†¬†¬†¬†¬†¬†¬† x0,[sp,#0x10]
bl¬†¬†¬†¬†¬†¬†¬†¬†¬† memcmp
cbnz¬†¬†¬†¬†¬†¬†¬† w0,|$LN9@compare|
mov¬†¬†¬†¬†¬†¬†¬†¬† w0,#1
add¬†¬†¬†¬†¬†¬†¬†¬† sp,sp,#0x20
ldr¬†¬†¬†¬†¬†¬†¬†¬† lr,[sp],#0x10
ret
|$LN9@compare|
mov¬†¬†¬†¬†¬†¬†¬†¬† w0,#0
add¬†¬†¬†¬†¬†¬†¬†¬† sp,sp,#0x20
ldr¬†¬†¬†¬†¬†¬†¬†¬† lr,[sp],#0x10
ret</pre>
</td>
<td style="width: 86.0875%; height: 28px; vertical-align: top;">
<pre>str¬†¬†¬†¬†¬†¬†¬† ¬†lr,[sp,#-0x10]!
ldr¬†¬†¬†¬†¬†¬†¬†¬† q17,[x1]
ldr¬†¬†¬†¬†¬†¬†¬† ¬†q16,[x0]
umov¬†¬†¬†¬†¬†¬†¬† x8,v17.d[1]
umov¬†¬†¬†¬†¬†¬†¬† x2,v16.d[1]
cmp¬†¬†¬†¬†¬†¬†¬†¬† x2,x8
bne¬†¬†¬†¬†¬†¬†¬†¬† |$LN9@compare|
fmov¬†¬†¬†¬†¬†¬†¬† x1,d17
fmov¬†¬†¬†¬†¬†¬†¬† x0,d16
bl¬†¬†¬†¬†¬†¬†¬†¬†¬† memcmp
cbnz¬†¬†¬†¬†¬†¬†¬† w0,|$LN9@compare|
mov¬†¬†¬†¬†¬†¬†¬†¬† w0,#1
ldr¬†¬†¬†¬†¬†¬†¬† ¬†lr,[sp],#0x10
ret
|$LN9@compare|
mov¬†¬†¬†¬†¬†¬†¬†¬† w0,#0
ldr¬†¬†¬†¬†¬†¬†¬†¬† lr,[sp],#0x10
ret</pre>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 id="vector-logical-and-arithmetic-optimizations">Vector Logical and Arithmetic Optimizations</h2>
<p>We continue to add patterns for recognizing vector operations that are equivalent to intrinsics or short sequences of intrinsics. An example is recognizing common forms of vector absolute difference calculations. A long series of bitwise instructions can be replaced with specialized absolute value instructions, such as vpabsd on X64 and sabd on ARM64.</p>
<p><strong>Example C++ Source Code:</strong></p>
<pre>#include &lt;cstdint&gt;

void s32_1(int * __restrict a, int * __restrict b, int * __restrict c, int n) {
    for (int i = 0; i &lt; n; i++) {
        a[i] = (b[i] - c[i]) &gt; 0 ? (b[i] - c[i]) : (c[i] - b[i]);
    }
}</pre>
<p><strong>Required Flags: /O2 /arch:AVX for X64, /O2 for ARM64</strong></p>
<p><strong>X64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 21.7285%;">17.4</td>
<td style="width: 78.2715%;">17.7</td>
</tr>
<tr>
<td style="width: 21.7285%; vertical-align: top;">
<pre>$LL4@s32_1:
movdqu¬†   xmm0, XMMWORD PTR [r11+rax]
add¬†¬†¬†¬†   ecx, 4
movdqu¬†   xmm1, XMMWORD PTR [rax]
lea¬†¬†¬†¬†   rax, QWORD PTR [rax+16]
movdqa¬†   xmm3, xmm0
psubd¬†¬†   xmm3, xmm1
psubd¬†¬†   xmm1, xmm0
movdqa¬†   xmm2, xmm3
pcmpgtd   xmm2, xmm4
movdqa¬†   xmm0, xmm2
andps¬†¬†   xmm2, xmm3
andnps¬†   xmm0, xmm1
orps¬†¬†¬†   xmm0, xmm2
movdqu¬†   XMMWORD PTR [r10+rax-16], xmm0
cmp¬†¬†¬†¬†   ecx, edx
jl¬†¬†¬†¬†¬†   SHORT $LL4@s32_1</pre>
</td>
<td style="width: 78.2715%; vertical-align: top;">
<pre>$LL4@s32_1:
vmovdqu    xmm1, XMMWORD PTR [r10+rax]
vpsubd¬†¬†¬†¬†¬†xmm1, xmm1, XMMWORD PTR [rax]
<strong>vpabsd</strong> ¬†¬†¬† <strong>xmm2, xmm1¬†¬†¬† ; vector abs</strong>
add¬†¬†¬†¬†¬†¬†¬†¬†edx, 4
vmovdqu¬†¬†¬†¬†XMMWORD PTR [rbx+rax], xmm2
lea¬†¬†¬†¬†¬†¬†¬†¬†rax, QWORD PTR [rax+16]
cmp¬†¬†¬†¬†¬†¬†¬†¬†edx, ecx
jl¬†¬†¬†¬†¬†¬†¬†¬†¬†SHORT $LL4@s32_1</pre>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><strong>ARM64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%; height: 56px;">
<tbody>
<tr style="height: 28px;">
<td style="width: 18.7807%; height: 28px;">17.4</td>
<td style="width: 81.2193%; height: 28px;">17.7</td>
</tr>
<tr style="height: 28px;">
<td style="width: 18.7807%; height: 28px; vertical-align: top;">
<pre>|$LL24@s32_1|
sbfiz¬†¬†¬†¬†¬†¬† x9,x8,#2,#0x20
ldr¬†¬†¬†¬†¬†¬†¬†¬† q19,[x9,x2]
add¬†¬†¬†¬†¬†¬†¬†¬† w8,w8,#4
ldr¬†¬†¬†¬†¬†¬†¬†¬† q18,[x9,x1]
cmp¬†¬†¬†¬†¬†¬†¬†¬† w8,w10
sub¬†¬†¬†¬†¬†¬†¬†¬† v16.4s,v18.4s,v19.4s
cmgt¬†¬†¬†¬†¬†¬†¬† v17.4s,v16.4s,v21.4s
and¬†¬†¬†¬†¬†¬†¬†¬† v20.16b,v17.16b,v16.16b
sub¬†¬†¬†¬†¬†¬†¬†¬† v16.4s,v19.4s,v18.4s
bic¬†¬†¬†¬†¬†¬†¬†¬† v16.16b,v16.16b,v17.16b
orr¬†¬†¬†¬†¬†¬†¬†¬† v16.16b,v16.16b,v20.16b
str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x9,x0]
blt¬†¬†¬†¬†¬†¬†¬†¬† |$LL24@s32_1|
cmp¬†¬†¬†¬†¬†¬†¬†¬† w8,w3
bge¬†¬†¬†¬†¬†¬†¬†¬† |$LN27@s32_1|</pre>
</td>
<td style="width: 81.2193%; height: 28px; vertical-align: top;">
<pre>|$LL24@s32_1|
sbfiz¬†¬†¬†¬†¬†¬† x9,x8,#2,#0x20
ldr¬†¬†¬†¬†¬†¬†¬†¬† q17,[x9,x1]
add¬†¬†¬†¬†¬†¬†¬†¬† w8,w8,#4
ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x9,x2]
cmp¬†¬†¬†¬†¬†¬†¬†¬† w8,w10
<strong>sabd¬†¬†¬†¬†¬†¬†¬† v16.4s,v17.4s,v16.4s</strong>¬†¬†¬†¬† <strong>; vector abs</strong>
str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x9,x0]
blt¬†¬†¬†¬†¬†¬†¬†¬† |$LL24@s32_1|</pre>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 id="vector-remainder-loops">Vector Remainder Loops</h2>
<p>Each iteration of a vectorized loop computes the same work as multiple iterations of the original scalar loop. Depending on the number of original scalar iterations and the vector width, there may be work left over when the vector loop ends. Although this work can be completed by a copy of the original scalar loop, it may contain sufficient work to warrant further vectorization using a smaller vector width. This optimization is now employed for targets that have a single vector width by partially packing a vector.</p>
<p>In the example below, three loops are emitted for the original loop. The first processes 64 elements per vector iteration by packing 16 8-bit values into a 128-bit vector register and then unrolling the vector loop by four. The second loop processes 8 elements per vector iteration by packing 8 8-bit values into half of a 128-bit vector register. The third loop processes one element per scalar iteration.</p>
<p><strong>Example C++ source code: </strong></p>
<pre>#include &lt;cstdint&gt;

void test(int8_t * __restrict d, int8_t * __restrict a, int8_t * __restrict b, int n) {
    for (int i = 0; i &lt; n; i++) {
        d[i] = a[i] &amp; (~b[i]);
    }
}</pre>
<p><strong>Required compiler flags: </strong>/O2</p>
<p><strong>X64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%; height: 1729px;">
<tbody>
<tr style="height: 28px;">
<td style="width: 28.8298%; height: 28px;">17.4</td>
<td style="width: 71.1702%; height: 28px;">17.7</td>
</tr>
<tr style="height: 1701px;">
<td style="width: 28.8298%; vertical-align: top; height: 1701px;">
<pre>$LL4@test: ; 1<sup>st</sup> vector loop (64 element iters)
movdqu¬† xmm0, XMMWORD PTR [rcx-16]
add¬†¬†¬†¬† edi, 64¬†¬†¬†¬†¬†¬†¬†¬† ; 00000040H
movdqu¬† xmm1, XMMWORD PTR [rdx+rcx-16]
movdqu¬† xmm2, XMMWORD PTR [rdx+rcx]
lea¬†¬†¬†¬† rcx, QWORD PTR [rcx+64]
pandn¬†¬† xmm1, xmm3
lea¬†¬†¬†¬† rax, QWORD PTR [r14+rcx]
pand¬†¬†¬† xmm1, xmm0
pandn¬†¬† xmm2, xmm3
movdqu¬† xmm0, XMMWORD PTR [rcx-64]
movdqu¬† XMMWORD PTR [r9+rcx-80], xmm1
pand¬†¬†¬† xmm2, xmm0
movdqu¬† xmm0, XMMWORD PTR [rcx-48]
movdqu¬† xmm1, XMMWORD PTR [rdx+rcx-48]
movdqu¬† XMMWORD PTR [r9+rcx-64], xmm2
pandn¬†¬† xmm1, xmm3
pand¬†¬†¬† xmm1, xmm0
movdqu¬† xmm2, XMMWORD PTR [rdx+rcx-32]
movdqu¬† xmm0, XMMWORD PTR [rcx-32]
pandn¬†¬† xmm2, xmm3
pand¬†¬†¬† xmm2, xmm0
movdqu¬† XMMWORD PTR [r9+rcx-48], xmm1
movdqu¬† XMMWORD PTR [r9+rcx-32], xmm2
cmp¬†¬†¬†¬† rax, rsi
jl¬†¬†¬†¬†¬† SHORT $LL4@test
mov¬†¬†¬†¬† r14, QWORD PTR [rsp]
mov¬†¬†¬†¬† rsi, QWORD PTR [rsp+24]
$LN9@test:
movsxd¬† rcx, edi
mov¬†¬†¬†¬† rdx, rbx
mov¬†¬†¬†¬† rdi, QWORD PTR [rsp+32]
mov¬†¬†¬†¬† rbx, QWORD PTR [rsp+16]
cmp¬†¬†¬†¬† rcx, rdx
jge¬†¬†¬†¬† SHORT $LN3@test
sub¬†¬†¬†¬† r8, r11
lea¬†¬†¬†¬† rax, QWORD PTR [rcx+r11]
sub¬†¬†¬†¬† r10, r11
sub¬†¬†¬†¬† rdx, rcx
$LL8@test: ; Scalar loop (1 element iters)
movzx¬†¬† ecx, BYTE PTR [rax+r8]
lea¬†¬†¬†¬† rax, QWORD PTR [rax+1]
not¬†¬†¬†¬† cl
and¬†¬†¬†¬† cl, BYTE PTR [rax-1]
mov¬†¬†¬†¬† BYTE PTR [rax+r10-1], cl
sub¬†¬†¬†¬† rdx, 1
jne¬†¬†¬†¬† SHORT $LL8@test
$LN3@test:
add¬†¬†¬†¬† rsp, 8
ret¬†¬†¬†¬† 0</pre>
</td>
<td style="width: 71.1702%; vertical-align: top; height: 1701px;">
<pre>$LL4@test: <strong>; 1<sup>st</sup> vector loop (64 element iters)</strong>
movdqu¬†¬†¬† xmm0, XMMWORD PTR [rcx-16]
add¬†¬†¬†¬†¬†¬†¬†edx, 64¬† ¬†¬†¬†¬†¬†¬†¬† ; 00000040H
movdqu¬†¬†¬† xmm1, XMMWORD PTR [r8+rcx-16]
movdqu¬†¬†¬† xmm2, XMMWORD PTR [r8+rcx]
lea¬†¬†¬†¬†¬†¬†¬†rcx, QWORD PTR [rcx+64]
andnps¬†¬†¬† xmm1, xmm3
lea¬†¬†¬†¬†¬†¬†¬†rax, QWORD PTR [rsi+rcx]
andps¬†¬†¬†¬†¬†xmm1, xmm0
andnps¬†¬†¬† xmm2, xmm3
movdqu¬†¬†¬† xmm0, XMMWORD PTR [rcx-64]
movdqu¬†¬†¬† XMMWORD PTR [r9+rcx-80], xmm1
andps¬†¬†¬†¬†¬†xmm2, xmm0
movdqu¬†¬†¬† xmm0, XMMWORD PTR [rcx-48]
movdqu¬†¬†¬† xmm1, XMMWORD PTR [r8+rcx-48]
movdqu¬†¬†¬† XMMWORD PTR [r9+rcx-64], xmm2
andnps¬†¬†¬† xmm1, xmm3
andps¬†¬†¬†¬†¬†xmm1, xmm0
movdqu¬†¬†¬† xmm2, XMMWORD PTR [r8+rcx-32]
movdqu¬†¬†¬† xmm0, XMMWORD PTR [rcx-32]
andnps¬†¬†¬† xmm2, xmm3
andps¬†¬†¬†¬†¬†xmm2, xmm0
movdqu¬†¬†¬† XMMWORD PTR [r9+rcx-48], xmm1
movdqu¬†¬†¬† XMMWORD PTR [r9+rcx-32], xmm2
cmp¬†¬†¬†¬†¬†¬†¬†rax, rbp
jl¬†¬†¬†¬†¬†¬†¬†¬†SHORT $LL4@test
mov¬†¬†¬†¬†¬†¬†¬†rbp, QWORD PTR [rsp+16]
mov¬†¬†¬†¬†¬†¬†¬†eax, edi
and¬†¬†¬†¬†¬†¬†¬†al, 63¬†¬†¬† ; 0000003fH
cmp¬†¬†¬†¬†¬†¬†¬†al, 8
jb¬†¬†¬†¬†¬†¬†¬†¬†SHORT $LN27@test
$LN11@test:
mov¬†¬†¬†¬†¬†¬†¬†ecx, edi
movsxd¬†¬†¬† rax, edx
and¬†¬†¬†¬†¬†¬†¬†ecx, -8
movsxd¬†¬†¬† rsi, ecx
lea¬†¬†¬†¬†¬†¬†¬†rcx, QWORD PTR [rax+r10]
$LL10@test:¬†¬†¬†¬†¬†¬†¬†¬†¬† <strong>; 2<sup>nd</sup> vector loop (8 element iters)</strong>
movq¬†¬†¬†¬†¬†¬†xmm1, QWORD PTR [r8+rcx]
add¬†¬†¬†¬†¬†¬†¬†edx, 8
movq¬†¬†¬†¬†¬†¬†xmm0, QWORD PTR [rcx]
andnps¬†¬†¬† xmm1, xmm3
andps¬†¬†¬†¬†¬†xmm1, xmm0
movq¬†¬†¬†¬†¬†¬†QWORD PTR [r9+rcx], xmm1
add¬†¬†¬†¬†¬†¬†¬†rcx, 8
mov¬†¬†¬†¬†¬†¬†¬†rax, rcx
sub¬†¬†¬†¬†¬†¬†¬†rax, r10
cmp¬†¬†¬†¬†¬†¬†¬†rax, rsi
jl¬†¬†¬†¬†¬†¬†¬†¬†SHORT $LL10@test
$LN27@test:
mov¬†¬†¬†¬†¬†¬†¬†rsi, QWORD PTR [rsp+24]
$LN9@test:
movsxd¬†¬†¬† rcx, edx
mov¬†¬†¬†¬†¬†¬†¬†rdx, rdi
mov¬†¬†¬†¬†¬†¬†¬†rdi, QWORD PTR [rsp+32]
cmp¬†¬†¬†¬†¬†¬†¬†rcx, rdx
jge¬†¬†¬†¬†¬†¬†¬†SHORT $LN3@test
sub¬†¬†¬†¬†¬†¬†¬†r11, r10
lea¬†¬†¬†¬†¬†¬†¬†rax, QWORD PTR [rcx+r10]
sub¬†¬†¬†¬†¬†¬†¬†rbx, r10
sub¬†¬†¬†¬†¬†¬†¬†rdx, rcx
npad¬†¬†¬†¬†¬†¬†6
$LL8@test:¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† <strong>; Scalar loop (1 element iters)</strong>
movzx¬†¬†¬†¬†¬†ecx, BYTE PTR [rax+r11]
lea¬†¬†¬†¬†¬†¬†¬†rax, QWORD PTR [rax+1]
not¬†¬†¬†¬†¬†¬†¬†cl
and¬†¬†¬†¬†¬†¬†¬†cl, BYTE PTR [rax-1]
mov¬†¬†¬†¬†¬†¬†¬†BYTE PTR [rax+rbx-1], cl
sub¬†¬†¬†¬†¬†¬†¬†rdx, 1
jne¬†¬†¬†¬†¬†¬†¬†SHORT $LL8@test
$LN3@test:
pop¬†¬†¬†¬†¬†¬†¬†rbx
ret¬†¬†¬†¬†¬†¬†¬†0</pre>
</td>
</tr>
</tbody>
</table>
<p><strong>ARM64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 28.8298%;">17.4 (was not vectorized)</td>
<td style="width: 71.1702%;">17.7</td>
</tr>
<tr>
<td style="width: 28.8298%; vertical-align: top;">
<pre>|$LL4@test|
ldrsb¬†¬†¬†¬†¬†¬† w9,[x10,x1]
sub¬†¬†¬†¬†¬†¬†¬†¬† w3,w3,#1
ldrsb¬†¬†¬†¬†¬†¬† w8,[x1]
bic¬†¬†¬†¬†¬†¬†¬†¬† w8,w8,w9
strb¬†¬†¬†¬†¬†¬†¬† w8,[x11,x1]
add¬†¬†¬†¬†¬†¬†¬†¬† x1,x1,#1
cbnz¬†¬†¬†¬†¬†¬†¬† w3,|$LL4@test|
|$LN3@test|
ret</pre>
</td>
<td style="width: 71.1702%; vertical-align: top;">
<pre>|$LL27@test|¬† <strong>; 1<sup>st</sup> vector loop (64 element iters)</strong>
ldr¬†¬†¬†¬†¬†¬†¬†¬† q17,[x2,w8 sxtw #0]
sxtw¬†¬†¬†¬†¬†¬†¬† x11,w8
ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x1,w8 sxtw #0]
add¬†¬†¬†¬†¬†¬†¬†¬† x10,x11,#0x10
bic¬†¬†¬†¬†¬†¬†¬†¬† v16.16b,v16.16b,v17.16b
ldr¬†¬†¬†¬†¬†¬†¬†¬† q17,[x10,x2]
str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x0,w8 sxtw #0]
ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x10,x1]
add¬†¬†¬†¬†¬†¬†¬†¬† w8,w8,#0x40
cmp¬†¬†¬†¬†¬†¬†¬†¬† w8,w9
bic¬†¬†¬†¬†¬†¬†¬†¬† v16.16b,v16.16b,v17.16b
str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x10,x0]
add¬†¬†¬†¬†¬†¬†¬†¬† x10,x11,#0x20
ldr¬†¬†¬†¬†¬†¬†¬†¬† q17,[x10,x2]
ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x10,x1]
bic¬†¬†¬†¬†¬†¬†¬†¬† v16.16b,v16.16b,v17.16b
str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x10,x0]
add¬†¬†¬†¬†¬†¬†¬†¬† x10,x11,#0x30
ldr¬†¬†¬†¬†¬†¬†¬†¬† q17,[x10,x2]
ldr¬†¬†¬†¬†¬†¬†¬†¬† q16,[x10,x1]
bic¬†¬†¬†¬†¬†¬†¬†¬† v16.16b,v16.16b,v17.16b
str¬†¬†¬†¬†¬†¬†¬†¬† q16,[x10,x0]
blt¬†¬†¬†¬†¬†¬†¬†¬† |$LL27@test|
and¬†¬†¬†¬†¬†¬†¬†¬† w9,w3,#0x3F
cmp¬†¬†¬†¬†¬†¬†¬†¬† w9,#8
blo¬†¬†¬†¬†¬†¬†¬†¬† |$LN30@test|
|$LN11@test|
and¬†¬†¬†¬†¬†¬†¬†¬† w9,w3,#0xFFFFFFF8
|$LL29@test|¬† <strong>; 2<sup>nd</sup> vector loop (8 element iters)</strong>
ldr¬†¬†¬†¬†¬†¬†¬†¬† d17,[x2,w8 sxtw #0]
ldr¬†¬†¬†¬†¬†¬†¬†¬† d16,[x1,w8 sxtw #0]
bic¬†¬†¬†¬†¬†¬†¬†¬† v16.8b,v16.8b,v17.8b
str¬†¬†¬†¬†¬†¬†¬†¬† d16,[x0,w8 sxtw #0]
add¬†¬†¬†¬†¬†¬†¬† ¬†w8,w8,#8
cmp¬†¬†¬†¬†¬†¬†¬†¬† w8,w9
blt¬†¬†¬†¬†¬†¬†¬†¬† |$LL29@test|
|$LN30@test|
cmp¬†¬†¬†¬†¬†¬†¬†¬† w8,w3
bge¬†¬†¬†¬†¬†¬†¬†¬† |$LN32@test|
|$LN21@test|
add¬†¬†¬†¬†¬†¬†¬†¬† x9,x1,w8,sxtw #0
sub¬†¬†¬†¬†¬†¬†¬†¬† x13,x2,x1
sub¬†¬†¬†¬†¬†¬†¬†¬† w8,w3,w8
sub¬†¬†¬†¬†¬†¬†¬†¬† x10,x0,x1
|$LL31@test|¬† <strong>; Scalar loop (1 element iters)</strong>
ldrsb¬†¬†¬†¬†¬†¬† w12,[x13,x9]
sub¬†¬†¬†¬†¬†¬†¬†¬† w8,w8,#1
ldrsb¬†¬†¬†¬†¬†¬† w11,[x9]
bic¬†¬†¬†¬†¬†¬†¬†¬† w11,w11,w12
strb¬†¬†¬†¬†¬†¬†¬† w11,[x10,x9]
add¬†¬†¬†¬†¬†¬†¬†¬† x9,x9,#1
cbnz¬†¬†¬†¬†¬†¬†¬† w8,|$LL31@test|
|$LN32@test|
ret</pre>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 id="conditional-moves-selects">Conditional Moves/Selects</h2>
<p>MSVC now considers more opportunities to use conditional move instructions to eliminate branches. Once such an opportunity is recognized, whether to use a conditional move or leave the branch intact is subject to legality checks and tuning heuristics. Eliminating a branch is often beneficial because it removes the possibility of the branch being mispredicted and may enable other optimizations that previously would have stopped at the block boundary formed by the branch. Nevertheless, it does convert a control dependence that could be correctly predicted into a data dependence that cannot be removed.</p>
<p>This optimization applies only when the compiler can prove that it is safe to unconditionally perform a store because the instruction will always store one of two possible values instead of only performing a store when the condition is true. There are numerous reasons why an unconditional store may be unsafe. For example, if the memory location is shared, then another thread may observe a store when previously there was no store to observe. As another example, the condition may have protected a store through a potentially null pointer.</p>
<p>The optimization is enabled for X64 as well as ARM64. (<a href="https://devblogs.microsoft.com/oldnewthing/20220817-00/?p=106998">ARM64 conditional execution</a> was discussed in a previous blog post.)</p>
<p><strong>Example C++ source code: </strong></p>
<pre>int test(int a, int i) {
    int mem[4]{0};
    if (mem[i] &lt; a) {
        mem[i] = a;
    }
    return mem[0];
}</pre>
<p><strong>Required compiler flags: </strong>/O2 (for the sake of simplifying the example output, /GS- was also passed)</p>
<p><strong>X64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 22.8897%;">17.4</td>
<td style="width: 77.1103%;">17.7</td>
</tr>
<tr>
<td style="width: 22.8897%; vertical-align: top;">
<pre>$LN6:
sub¬†¬†¬†¬† rsp, 24
movsxd¬† rax, edx
xorps¬†¬† xmm0, xmm0
movups¬† XMMWORD PTR mem$[rsp], xmm0
cmp¬†¬†¬†¬† DWORD PTR mem$[rsp+rax*4], ecx
jge¬†¬†¬†¬† SHORT $LN4@test
mov¬†¬†¬†¬† DWORD PTR mem$[rsp+rax*4], ecx
$LN4@test:
mov¬†¬†¬†¬† eax, DWORD PTR mem$[rsp]
add¬†¬†¬†¬† rsp, 24
ret¬†¬†¬†¬† 0</pre>
</td>
<td style="width: 77.1103%;">
<pre>$LN5:
sub¬†¬†¬†¬†¬†¬†rsp, 24
movsxd¬†¬† rax, edx
xorps¬†¬†¬†¬†xmm0, xmm0
movups¬†¬† XMMWORD PTR mem$[rsp], xmm0
lea¬†¬†¬†¬†¬†¬†rdx, QWORD PTR mem$[rsp]
cmp¬†¬†¬†¬†¬†¬†DWORD PTR [rdx+rax*4], ecx
lea¬†¬†¬†¬†¬†¬†rdx, QWORD PTR [rdx+rax*4]
<strong>cmovge</strong>¬†¬† <strong>ecx, DWORD PTR [rdx] ; cond</strong>
mov¬†¬†¬†¬†¬†¬†DWORD PTR [rdx], ecx
mov¬†¬†¬†¬†¬†¬†eax, DWORD PTR mem$[rsp]
add¬†¬†¬†¬†¬†¬†rsp, 24
ret¬†¬†¬†¬†¬†¬†0</pre>
</td>
</tr>
</tbody>
</table>
<p><strong>ARM64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 23.0683%;">17.4</td>
<td style="width: 76.9317%;">17.7</td>
</tr>
<tr>
<td style="width: 23.0683%; vertical-align: top;">
<pre>|$LN5|
sub¬†¬†¬†¬†¬†¬†¬†¬† sp,sp,#0x10
movi¬†¬†¬†¬†¬†¬†¬† v16.16b,#0
mov¬†¬†¬†¬†¬†¬†¬†¬† x9,sp
str¬†¬†¬†¬†¬†¬†¬†¬† q16,[sp]
ldr¬†¬†¬†¬†¬†¬†¬†¬† w8,[x9,w1 sxtw #2]
cmp¬†¬†¬†¬†¬†¬†¬†¬† w8,w0
bge¬†¬†¬†¬†¬†¬†¬†¬† |$LN2@test|
str¬†¬†¬†¬†¬†¬†¬†¬† w0,[x9,w1 sxtw #2]
|$LN2@test|
ldr¬†¬†¬†¬†¬†¬†¬†¬† w0,[sp]
add¬†¬†¬†¬†¬†¬†¬†¬† sp,sp,#0x10
ret</pre>
</td>
<td style="width: 76.9317%; vertical-align: top;">
<pre>|$LN9|
sub¬†¬†¬†¬†¬†¬†¬†¬† sp,sp,#0x10
movi¬†¬†¬†¬†¬†¬†¬† v16.16b,#0
mov¬†¬†¬†¬†¬†¬†¬†¬† x9,sp
str¬†¬†¬†¬†¬†¬†¬†¬† q16,[sp]
ldr¬†¬†¬†¬†¬†¬†¬†¬† w8,[x9,w1 sxtw #2]
cmp¬†¬†¬†¬†¬†¬†¬†¬† w8,w0
<strong>cselge¬†¬†¬†¬†¬† w8,w8,w0</strong>
str¬†¬†¬†¬†¬†¬†¬†¬† w8,[x9,w1 sxtw #2]
ldr¬†¬†¬†¬†¬†¬†¬†¬† w0,[sp]
add¬†¬†¬†¬†¬†¬†¬†¬† sp,sp,#0x10
ret</pre>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 id="loop-optimizations-for-array-assignments-and-copies">Loop Optimizations for Array Assignments and Copies</h2>
<p>The optimizer now recognizes more cases where an assignment/copy to contiguous memory can be raised to memset/memcopy intrinsics and lowered to more efficient instruction sequences. For example, consider the following array-assignment in a count-down loop.</p>
<p><strong>Example C++ Source Code:</strong></p>
<pre>    char c[1024];

    for (int n = 1023; n; n--)
        c[n] = 1;</pre>
<p>Previously, the code generated was a loop with individual byte-assignments. Now, more efficient wider assignments are performed via block-copy libraries or vector instructions.</p>
<p><strong>X64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 30.3037%;">17.4</td>
<td style="width: 69.6963%;">17.7</td>
</tr>
<tr>
<td style="width: 30.3037%; vertical-align: top;">
<pre>mov¬†¬†¬†¬†¬†¬†¬†¬† QWORD PTR __$ArrayPad$[rsp], rax
mov¬†¬†¬†¬†¬†¬†¬†¬† eax, 1023
npad¬†¬†¬†¬†¬†¬†¬† 2
$LL4@copy_while:
mov¬†¬†¬†¬†¬†¬†¬†¬† BYTE PTR c$[rsp+rax], 1
sub¬†¬†¬†¬†¬†¬†¬†¬†¬†rax, 1
jne¬†¬†¬†¬†¬†¬†¬†¬†¬†SHORT $LL4@copy_while</pre>
</td>
<td style="width: 69.6963%;">
<pre>vmovaps¬† zmm0, ZMMWORD PTR __zmm@01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101
vmovq¬†¬†¬†¬†rdx, xmm0
lea¬†¬†¬†¬†¬†¬†rax, QWORD PTR c$[rsp+1]
mov¬†¬†¬†¬†¬†¬†ecx, 7
npad¬†¬†¬†¬†¬†14
$LL11@copy_while:
vmovups¬† ZMMWORD PTR [rax], zmm0
vmovups¬† YMMWORD PTR [rax+64], ymm0
vmovups¬† XMMWORD PTR [rax+96], xmm0
lea¬†¬†¬†¬†¬†¬†rax, QWORD PTR [rax+128]
vmovups¬† XMMWORD PTR [rax-16], xmm0
sub¬†¬†¬†¬†¬†¬†rcx, 1
jne¬†¬†¬†¬†¬†¬†SHORT $LL11@copy_whilevmovups¬† ZMMWORD PTR [rax], zmm0
vmovups¬† YMMWORD PTR [rax+64], ymm0
vmovups¬† XMMWORD PTR [rax+96], xmm0
mov¬†¬†¬†¬†¬†¬†QWORD PTR [rax+112], rdx
mov¬†¬†¬†¬†¬†¬†DWORD PTR [rax+120], edx
mov¬†¬†¬†¬†¬†¬†WORD PTR [rax+124], dx
mov¬†¬†¬†¬†¬†¬†BYTE PTR [rax+126], dl</pre>
</td>
</tr>
</tbody>
</table>
<p><strong>ARM64 ASM:</strong></p>
<table style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 30.5717%;">17.4</td>
<td style="width: 69.4283%;">17.7</td>
</tr>
<tr>
<td style="width: 30.5717%; vertical-align: top;">
<pre>mov¬†¬†¬†¬†¬†¬†¬†¬† x8,#0x3FF
mov¬†¬†¬†¬†¬†¬†¬†¬† x9,sp
mov¬†¬†¬†¬†¬†¬†¬†¬† w10,#1|$LL4@copy_while|
strb¬†¬†¬†¬†¬†¬†¬† w10,[x8,x9]
sub¬†¬†¬†¬†¬†¬†¬†¬† x8,x8,#1
cbnz¬†¬†¬†¬†¬†¬†¬† x8,|$LL4@copy_while|</pre>
</td>
<td style="width: 69.4283%; vertical-align: top;">
<pre>add¬†¬†¬†¬†¬†¬†¬†¬† x0,sp,#1
mov¬†¬†¬†¬†¬†¬†¬†¬† x2,#0x3FF
mov¬†¬†¬†¬†¬†¬†¬†¬† w1,#1
bl¬†¬†¬†¬†¬†¬†¬†¬†¬† memset</pre>
</td>
</tr>
</tbody>
</table>
<h2 id="summary">Summary</h2>
<p>We would like to thank everyone for giving us feedback and we are looking forward to hearing more from you.¬† Please share your thoughts and comments with us through <a href="https://developercommunity.visualstudio.com/home">Developer Community</a>. You can also reach us on Twitter (<a href="https://twitter.com/visualc" target="_blank" rel="noopener">@VisualC</a>), or via email at¬†<a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/msvc-machine-independent-optimizations-in-visual-studio-2022-17-7/">MSVC Machine-Independent Optimizations in Visual Studio 2022 17.7</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/msvc-machine-independent-optimizations-in-visual-studio-2022-17-7/feed/</wfw:commentRss>
			<slash:comments>10</slash:comments>
		
		
			</item>
		<item>
		<title>Enhancing the CMake Targets View in Visual Studio</title>
		<link>https://devblogs.microsoft.com/cppblog/enhancing-the-cmake-targets-view-in-visual-studio/</link>
					<comments>https://devblogs.microsoft.com/cppblog/enhancing-the-cmake-targets-view-in-visual-studio/#comments</comments>
		
		<dc:creator><![CDATA[Sinem Akinci]]></dc:creator>
		<pubDate>Wed, 20 Sep 2023 17:28:56 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[CMake]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32833</guid>

					<description><![CDATA[<p>The CMake Targets View in Visual Studio is a view that allows you to visualize your CMake project structure by the CMake targets and build specified target libraries and executables. To make this view more usable, we have implemented a few new improvements to make it easier than ever to navigate your CMake targets.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/enhancing-the-cmake-targets-view-in-visual-studio/">Enhancing the CMake Targets View in Visual Studio</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>The CMake Targets View in Visual Studio is a view that allows you to visualize your CMake project structure by the CMake targets and build specified target libraries and executables. To make this view more usable, we have implemented a few new improvements to make it easier than ever to navigate your CMake targets. This includes improved navigation to the CMake Targets View, a new, more simplified CMake Targets View, and the ability to exclude specified CMake items from the Targets View. Additionally, we have future planned work in the near-term to allow users to customize this view to their desired configuration. <a href="https://visualstudio.microsoft.com/vs/preview/" target="_blank" rel="noopener">Download the latest preview version of Visual Studio</a> to try out the new updates for the CMake Targets View.</p>
<h3 id="get-to-your-cmake-targets-view-quicker-than-ever">Get to your CMake Targets View Quicker Than Ever</h3>
<p>Customers have reported that it can be cumbersome to switch between CMake Targets View and the Solution Explorer. To address this, we have implemented new entry points to open the CMake Targets View much more quickly.</p>
<h5 id="switch-to-your-cmake-targets-view-from-solution-explorer"><em>Switch to your CMake Targets View from Solution Explorer</em></h5>
<p>Now, you can right-click anywhere in your Solution Explorer and simply navigate to the CMake Targets View from the context menu.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Switch-to-CMake-Targets-View.png"><img decoding="async" class="size-full wp-image-32834 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Switch-to-CMake-Targets-View.png" alt="Right-Click Context Menu to Switch To CMake Targets View" width="1008" height="900" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Switch-to-CMake-Targets-View.png 1008w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Switch-to-CMake-Targets-View-300x268.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Switch-to-CMake-Targets-View-768x686.png 768w" sizes="(max-width: 1008px) 100vw, 1008px" /></a></p>
<h5 id="open-the-cmake-targets-view-from-the-view-dropdown-menu"><em>Open the CMake Targets View from the &#8216;View&#8217; Dropdown Menu</em></h5>
<p>You can also access the CMake Targets View globally at any point in your CMake projects by selecting from the View dropdown.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/cmake-targets-dropdown.png"><img decoding="async" class="size-large wp-image-32836 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/cmake-targets-dropdown-361x1024.png" alt="The CMake Targets View option in the View dropdown in Visual Studio" width="361" height="1024" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/cmake-targets-dropdown-361x1024.png 361w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/cmake-targets-dropdown-106x300.png 106w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/cmake-targets-dropdown.png 390w" sizes="(max-width: 361px) 100vw, 361px" /></a></p>
<h3 id="simplify-your-source-navigation">Simplify your Source Navigation</h3>
<p>The CMake Targets View has been further simplified so that users don&#8217;t have to click through folders without buildable executables to get to their desired target.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Simplified-CMake-Targets-View-1.png"><img decoding="async" class="alignnone size-full wp-image-32838" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Simplified-CMake-Targets-View-1.png" alt="Simplified CMake Targets View navigation" width="858" height="991" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Simplified-CMake-Targets-View-1.png 858w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Simplified-CMake-Targets-View-1-260x300.png 260w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/09/Simplified-CMake-Targets-View-1-768x887.png 768w" sizes="(max-width: 858px) 100vw, 858px" /></a></p>
<p>&nbsp;</p>
<h3 id="define-items-to-exclude-from-view">Define Items to Exclude from View</h3>
<p>You can now define in your VSWorkspaceSettings.json items to exclude from the CMake Targets View using the new <code>CMakeTargetsViewExcludedItems</code> field. The¬†<code>CMakeTargetsViewExcludedItems</code> field is an array of strings. The field supports the following syntax and identifiers:</p>
<p><span style="text-decoration: underline;">Supported &#8220;identifiers&#8221;</span><strong>:</strong><code> CMakeProject</code>,¬†<code>CMakeTarget</code>,¬†<code>CMakeReference</code>,<code>¬†CMakeFolder</code>,¬†<code>CMakeFile</code>.</p>
<p><span style="text-decoration: underline;">Syntax for the <code>CMakeTargetsViewExcludedItems</code>¬†is the following</span>: <code>&lt;identifier&gt;:&lt;name&gt;</code></p>
<p><code></code><code></code><code></code><code></code>This will specify any identifier with the specified name.</p>
<ul>
<li>For example,¬†<code>CMakeTarget:app</code>. Any CMake targets with the name &#8220;app&#8221; anywhere in the CMake Targets View will be excluded.</li>
</ul>
<p>Additionally, if you want to specify specific items to be excluded, you can use a<code> |¬†</code>to chain declarations together:<code>&lt;identifier&gt;:&lt;name&gt;|&lt;identifier&gt;:&lt;name&gt;...</code></p>
<ul>
<li>For example,¬†<code>CMakeProject:thirdPartyDependency|CMakeTarget:irrelevantThirdParty</code>.</li>
</ul>
<p>Example usage in a VSWorkspaceSettings.json:</p>
<pre><code><span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun ContextualSpellingAndGrammarErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="pun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;be55c42b-bb3f-490a-a548-6141e9a8ee43|72&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;pun&quot;,201340122,&quot;1&quot;,469778129,&quot;pun&quot;,335572020,&quot;1&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">{</span></span> <span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun ContextualSpellingAndGrammarErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="pln">‚ÄØ</span> </span><span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;be55c42b-bb3f-490a-a548-6141e9a8ee43|75&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;str&quot;,201340122,&quot;1&quot;,469778129,&quot;str&quot;,335572020,&quot;1&quot;,134234073,&quot;true&quot;,134234074,&quot;true&quot;,134233614,&quot;true&quot;,469778324,&quot;Default Paragraph Font&quot;]}">"</span><span class="NormalTextRun SpellingErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="str">CMakeTargetsViewExcludedItems</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">"</span></span><span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="pun">:</span></span> <span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="pun">[</span></span> <span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="pln">‚ÄØ‚ÄØ‚ÄØ </span></span><span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">"</span><span class="NormalTextRun SpellingErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="str">CMakeTarget</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">:&lt;name&gt;</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">|</span><span class="NormalTextRun SpellingErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="str">CMakeFile</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">:*"</span></span><span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="pun">,</span></span> <span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">"</span><span class="NormalTextRun SpellingErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="str">CMakeTarget</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">&lt;name&gt;</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">|</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">*</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">|</span><span class="NormalTextRun SpellingErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="str">CMakeFile</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">:*"</span></span><span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="pun">,</span></span> <span class="TextRun SCXW140431815 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">"</span><span class="NormalTextRun SpellingErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="str">CMakeTarget</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">:&lt;name&gt;</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">|</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">*</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">|</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">*</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">|</span><span class="NormalTextRun SpellingErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="str">CMakeFile</span><span class="NormalTextRun SCXW140431815 BCX8" data-ccp-charstyle="str">:*</span><span class="NormalTextRun ContextualSpellingAndGrammarErrorV2Themed SCXW140431815 BCX8" data-ccp-charstyle="str">"</span></span>¬†}</code></pre>
<h3 id="whats-coming-next">What‚Äôs Coming Next?</h3>
<p>We are continuing to develop the CMake Targets View to allow for further customization of this view based on customer feedback. Stay tuned for the latest updates as these ship in the future!</p>
<ol>
<li>We are planning to give users the ability to filter their CMake Targets view by type of target, project, etc.</li>
<li>Users will be able to dynamically pin and unpin their most used targets to the top of the CMake Targets View.</li>
</ol>
<p>We are using this suggestion ticket to track any other requests you may have for improvements to the CMake Targets View to meet your CMake needs: <a href="https://developercommunity.visualstudio.com/t/CMake-Targets-View-Suggestions/10471305">CMake Targets View Suggestions &#8211; Developer Community (visualstudio.com)</a></p>
<h3 id="anything-else">Anything else?</h3>
<p>You can also find us on Twitter (<a href="https://twitter.com/visualc" target="_blank" rel="noopener">@VisualC</a>) or via email at¬†<a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>. To open a bug, please see¬†<a href="https://developercommunity.visualstudio.com/report?space=8&amp;entry=problem" target="_blank" rel="noopener">Visual Studio Feedback</a>.</p>
<p>The post <a href="https://devblogs.microsoft.com/cppblog/enhancing-the-cmake-targets-view-in-visual-studio/">Enhancing the CMake Targets View in Visual Studio</a> appeared first on <a href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/enhancing-the-cmake-targets-view-in-visual-studio/feed/</wfw:commentRss>
			<slash:comments>5</slash:comments>
		
		
			</item>
	</channel>
</rss>
