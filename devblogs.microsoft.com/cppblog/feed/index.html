<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>C++ Team Blog</title>
	<atom:link href="https://devblogs.microsoft.com/cppblog/feed/" rel="self" type="application/rss+xml" />
	<link>https://devblogs.microsoft.com/cppblog/</link>
	<description>The latest in C++, Visual Studio, VS Code, and vcpkg from the MSFT C++ team</description>
	<lastBuildDate>Tue, 11 Jul 2023 17:33:25 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	

<image>
	<url>https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2018/10/Microsoft-Favicon.png</url>
	<title>C++ Team Blog</title>
	<link>https://devblogs.microsoft.com/cppblog/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>#include cleanup in Visual Studio</title>
		<link>https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/</link>
					<comments>https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/#respond</comments>
		
		<dc:creator><![CDATA[Mryam Girmay]]></dc:creator>
		<pubDate>Tue, 11 Jul 2023 17:00:13 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32556</guid>

					<description><![CDATA[<p>Visual Studio 17.7 Preview 3 introduces a new feature aimed at enhancing your productivity. We are thrilled to announce the release of #include cleanup, a tool that helps you maintain clean code. To start using this feature, make sure to update to the latest version of Visual Studio Preview. </p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/">#include cleanup in Visual Studio</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><span class="TextRun SCXW163033654 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun CommentStart CommentHighlightPipeRest CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Visual Studio 17.7 Preview 3 introduces </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">a </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">new </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">feature</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> aimed at enhancing your productivity. We are thrilled to announce the release of </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">#</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">include</span> <span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">c</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">leanup</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">, a </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">tool that helps you </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">maintain</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> clean code</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">.</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> To start using </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">this</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> feature</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">, make sure to update to the latest version of Visual Studio Preview.</span></span><span class="TextRun SCXW163033654 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> </span></span></p>
<p><div style="text-align:center"><a class="cta_button_link" href="https://visualstudio.microsoft.com/vs/preview/" style="text-transform: titlecase; display: inline-block; background-color: #5C2D91; color: white; padding: 10px; margin:10px 0; text-decoration: none;" target="_blank">Download Visual Studio Preview  </a></div></p>
<h3 id="include-cleanup"><span class="TextRun SCXW84681502 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW84681502 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">#include cleanup</span></span><span class="TextRun SCXW84681502 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW84681502 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|13&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW84681502 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></h3>
<p>Visual Studio now offers #include cleanup, a feature that improves the quality of your code by generating suggestions to remove unused headers and add direct headers. Our suggested workflow is to first go through the direct include suggestions to add direct headers where indirect headers are used, followed by removing the unused includes.</p>
<h4 id="remove-unused-include-statements"><span class="TrackChangeTextInsertion TrackedChange TrackChangeHoverSelectColorRed SCXW140775236 BCX8"><span class="TrackedChange SCXW140775236 BCX8"><span class="TextRun SCXW140775236 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun TrackChangeHoverSelectHighlightRed SCXW140775236 BCX8" data-ccp-parastyle="heading 2">Remove unused </span></span></span></span><span class="TrackChangeTextInsertion TrackedChange TrackChangeHoverSelectColorRed SCXW140775236 BCX8"><span class="TrackedChange SCXW140775236 BCX8"><span class="TextRun SCXW140775236 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun TrackChangeHoverSelectHighlightRed SCXW140775236 BCX8" data-ccp-parastyle="heading 2">#include statements</span></span></span></span><span class="EOP SCXW140775236 BCX8" data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h4>
<p>This feature provides suggestions to remove unused headers from your files, enhancing code cleanliness. When an unused include is detected, it is visually dimmed by default. By hovering over the dimmed include, a quick action (indicated by three dots in the default view) prompt will appear, notifying you about the unused include in the file. You can click on the light bulb to remove the unused include or all unused includes. This makes it easier to clean up your code and ensures that you keep only the necessary includes to keep your code well-organized.</p>
<p><figure id="attachment_32557" aria-describedby="caption-attachment-32557" style="width: 1266px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/remove_unused_includes.gif"><img decoding="async" class="size-full wp-image-32557" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/remove_unused_includes.gif" alt="Gif showing remove unused includes." width="1266" height="633" /></a><figcaption id="caption-attachment-32557" class="wp-caption-text">Gif showing remove unused includes.</figcaption></figure></p>
<h4 id="add-transitively-used-include-statements"><span class="TrackChangeTextInsertion TrackedChange SCXW151690853 BCX8"><span class="TrackedChange SCXW151690853 BCX8"><span class="TextRun SCXW151690853 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW151690853 BCX8" data-ccp-parastyle="heading 2">Add </span></span></span></span><span class="TrackChangeTextInsertion TrackedChange SCXW151690853 BCX8"><span class="TrackedChange SCXW151690853 BCX8"><span class="TextRun SCXW151690853 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW151690853 BCX8" data-ccp-parastyle="heading 2">transitively used #include statements</span></span></span></span><span class="EOP TrackedChange SCXW151690853 BCX8" data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h4>
<p>In Visual Studio, there is an existing feature that alerts users when an include is used but not added to the file. This is indicated by a squiggle and suggests adding the required include. Currently, we have added a new feature that provides suggestions for adding direct includes when your file has indirect dependencies. Including indirect dependencies can result in longer compilation times. However, with the help of direct include suggestions, you can optimize compilation time by including only the essential direct dependencies.</p>
<p><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">In instances where the direct include for certain content is missing, a quick action (</span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">indicated</span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun"> by three dots in the default view)</span> will appear. Hovering over it will inform you that content from that transitive include is being used. <span class="TextRun SCXW128197081 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">Then, you have the </span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">option</span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun"> to either </span><span class="NormalTextRun CommentStart CommentHighlightPipeRest CommentHighlightRest SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">add the direct include individually</span><span class="NormalTextRun CommentHighlightPipeRest SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun"> or </span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">add</span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun"> all transitively used </span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">includes</span></span><span class="TrackChangeTextInsertion TrackedChange TrackChangeHoverSelectColorRed SCXW128197081 BCX8"><span class="TextRun SCXW128197081 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun TrackChangeHoverSelectHighlightRed SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">. By choosing to include all transitively used includes, all the </span></span></span><span class="TrackChangeTextInsertion TrackedChange TrackChangeHoverSelectColorRed SCXW128197081 BCX8"><span class="TextRun SCXW128197081 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun TrackChangeHoverSelectHighlightRed SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">direct headers will be automatically added wherever indirect headers are used in the file.</span></span></span> After including the direct dependencies, it is crucial to remove any unused includes, retaining only those that are necessary.</p>
<p><figure id="attachment_32560" aria-describedby="caption-attachment-32560" style="width: 2060px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/transitively_used_includes.gif"><img decoding="async" class="size-full wp-image-32560" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/transitively_used_includes.gif" alt="Gif showing add direct include suggestion." width="2060" height="487" /></a><figcaption id="caption-attachment-32560" class="wp-caption-text">Gif showing add direct include suggestion.</figcaption></figure></p>
<p>To quickly perform code cleanup, you can configure code cleanup by adding “Add transitively used and remove unused #include statements (C++)”. Once this setup is complete, you&#8217;ll have the convenience of adding all transitively used includes and removing all unused includes with just a single click on the broom icon. This streamlines the process and ensures that your code remains clean.</p>
<p><figure id="attachment_32561" aria-describedby="caption-attachment-32561" style="width: 2233px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/code_cleanup_entry.gif"><img decoding="async" class="wp-image-32561 size-full" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/code_cleanup_entry.gif" alt="Gif displaying Configure Code Cleanup " width="2233" height="1578" /></a><figcaption id="caption-attachment-32561" class="wp-caption-text">Gif displaying Configure Code Cleanup.</figcaption></figure></p>
<p>By default, #include cleanup is disabled, but you can enable it by navigating to Tools &gt; Options &gt; Text Editor &gt; C/C++ &gt; IntelliSense and selecting &#8220;Enable #include cleanup.&#8221; Once enabled, you have the flexibility to adjust the settings and configure different levels to meet your specific needs and preferences.</p>
<p><figure id="attachment_32562" aria-describedby="caption-attachment-32562" style="width: 2915px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable.png"><img decoding="async" class="wp-image-32562 size-full" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable.png" alt="Image displaying Code cleanup setting. " width="2915" height="2112" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable.png 2915w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-300x217.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-1024x742.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-768x556.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-1536x1113.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-2048x1484.png 2048w" sizes="(max-width: 2915px) 100vw, 2915px" /></a><figcaption id="caption-attachment-32562" class="wp-caption-text">Image displaying code cleanup setting.</figcaption></figure></p>
<h3 id="customization-options">Customization Options</h3>
<p>You have the flexibility to customize how the #include cleanup generates suggestions, allowing it to seamlessly adapt and integrate with intricate and extensive codebases. By making these changes or adjustments, you can ensure that the process better aligns with the specific needs and complexities of your project, resulting in a more efficient and effective code cleanup. In the EditorConfig (<a class="Hyperlink SCXW70620419 BCX8" href="https://learn.microsoft.com/en-us/visualstudio/ide/create-portable-custom-editor-options?view=vs-2022" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW70620419 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW70620419 BCX8" data-ccp-charstyle="Hyperlink">EditorConfig settings</span></span></a>), you can add a single header, and if you want to include multiple headers, you should separate them using commas.</p>
<h5 id="exclude-files"><span class="TextRun SCXW29901305 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun CommentStart SCXW29901305 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Exclude Files</span></span><span class="EOP SCXW29901305 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></h5>
<p>To exclude specific includes from #include cleanup suggestions, you can utilize EditorConfig. This allows you to categorize and define which files should not be considered for suggestions, providing greater control over the suggestions generated by #include cleanup.
Examples of excluding single and multiple files (exclude <code class="language-cpp">vcruntime.h</code> and <code class="language-cpp">vcruntime_string.h</code> from cleanup suggestions):</p>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_excluded_files = vcruntime.h</code></pre>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_excluded_files = vcruntime.h,vcruntime_string.h</code></pre>
<h5 id="required-files">Required Files</h5>
<p>In cases where headers require other headers, and you don&#8217;t want suggestions generated, you can specify the dependencies in the EditorConfig. This ensures that required files won&#8217;t be marked as unused.
Examples of single and multiple required files (<code class="language-cpp">atlwin.h</code> requires <code class="language-cpp">altbase.h</code> and <code class="language-cpp">atlcom.h</code> requires <code class="language-cpp">altbase.h</code>):</p>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_required_files = atlwin.h:altbase.h</code></pre>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_required_files = atlwin.h:altbase.h,atlcom.h:altbase.h</code></pre>
<h5 id="files-replacement"><span class="TextRun SCXW100896032 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW100896032 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Files Replacement</span></span></h5>
<p>This feature also supports the remapping of facade headers. If a file is intended to represent a different file, you can redirect the usage of the first file to the usage of the second file in EditorConfig.
Examples of single and multiple replaced files (replace <code class="language-cpp">stdio.h</code> by <code class="language-cpp">cstdio</code>, and replace <code class="language-cpp">stdint.h</code> by <code class="language-cpp">cstdint</code>):</p>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_replacement_files = stdio.h:cstdio</code></pre>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_replacement_files = stdio.h:cstdio,stdint.h:cstdint</code></pre>
<h5 id="alternate-files"><span class="TextRun SCXW264697628 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW264697628 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Alternate Files</span></span><span class="TextRun SCXW264697628 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW264697628 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|13&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW264697628 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></h5>
<p>In certain situations, you may have alternative options for including a file, such as facade files. When the usage of one file can be considered as an alternative to the usage of another file, you can specify this relationship in EditorConfig. By doing so, you can prevent #include cleanup from generating suggestions for alternate matches.
Examples of single and multiple alternate files (<code class="language-cpp">windows.h</code> is an alternate for <code class="language-cpp">minwindef.h</code> and <code class="language-cpp">windows.h</code> is an alternate for <code class="language-cpp">winerror.h</code>):</p>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_alternate_files = windows.h:minwindef.h</code></pre>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_alternate_files = windows.h:minwindef.h,windows.h:winerror.h</code></pre>
<h3 id="send-us-your-feedback"><span class="TextRun SCXW201451968 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW201451968 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Send us your feedback!</span></span><span class="TextRun SCXW201451968 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW201451968 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|13&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW201451968 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></h3>
<p><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Explore </span><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">#</span><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">Include Cleanup by downloading the </span></span><a class="Hyperlink SCXW255712242 BCX8" href="https://visualstudio.microsoft.com/vs/preview/" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">latest version of Visual Studio Preview</span></span></a><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">.</span><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun"> We genuinely value your feedback as it plays a crucial role in shaping our development process. </span><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">Please share your thoughts in the comments below, on </span></span><a class="Hyperlink SCXW255712242 BCX8" href="https://developercommunity.visualstudio.com/cpp" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">Developer Community</span></span></a><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">, or reach out to us on Twitter (</span></span><a class="Hyperlink SCXW255712242 BCX8" href="https://twitter.com/visualc" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">@VisualC</span></span></a><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">) or via email at </span></span><a class="Hyperlink SCXW255712242 BCX8" href="mailto:visualcpp@microsoft.com" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">visualcpp@microsoft.com</span></span></a><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">. Your input is highly appreciated!</span></span><span class="TextRun SCXW255712242 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|13&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW255712242 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/">#include cleanup in Visual Studio</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>AddressSanitizer continue_on_error</title>
		<link>https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/</link>
					<comments>https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/#comments</comments>
		
		<dc:creator><![CDATA[Jim Radigan]]></dc:creator>
		<pubDate>Thu, 29 Jun 2023 15:06:12 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[New User]]></category>
		<category><![CDATA[Pure Virtual C++]]></category>
		<category><![CDATA[Writing Code]]></category>
		<category><![CDATA[address sanitizer]]></category>
		<category><![CDATA[ASan]]></category>
		<category><![CDATA[C++ CI/CD]]></category>
		<category><![CDATA[C++ memory safety]]></category>
		<category><![CDATA[checked]]></category>
		<category><![CDATA[checked builds]]></category>
		<category><![CDATA[continue]]></category>
		<category><![CDATA[continue on error]]></category>
		<category><![CDATA[continue_on_error]]></category>
		<category><![CDATA[memory safety]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32499</guid>

					<description><![CDATA[<p>Visual Studio 17.6 comes with new functionality in the Address Sanitizer runtime which provides a new “checked build” for C and C++. This new runtime mode diagnoses and reports hidden memory safety errors, with zero false positives, as your app runs.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/">AddressSanitizer continue_on_error</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Visual Studio 17.6 comes with new functionality in the Address Sanitizer runtime which provides a new “checked build” for C and C++. This new runtime mode diagnoses and reports hidden memory safety errors, with zero false positives, as your app runs.</p>
<h1 id="introduction"><span style="font-size: 18pt;">Introduction</span></h1>
<p>C++ <a href="https://learn.microsoft.com/en-us/cpp/sanitizers/asan?view=msvc-170#error-types">memory safety errors</a> are a <a href="#post-32499-_Top_Concern_–">top concern</a> for the industry. In Visual Studio 17.6, we deliver a new experimental Address Sanitizer feature: continue_on_error (COE). We’ll remove the experimental label in 17.8. You compile as before, by simply adding the compiler flag <code>-fsanitize=address</code>. With 17.6 you can enable the COE functionality by setting environment variables from the command line.</p>
<p>To stream unique memory safety errors to stdout(1) or stderr(2):</p>
<ul>
<li>set ASAN_OPTIONS=continue_on_error=1</li>
<li>set ASAN_OPTIONS=continue_on_error=2</li>
</ul>
<p>To stream to a log file of your choice:</p>
<ul>
<li>set COE_LOG_FILE=your.file.log</li>
</ul>
<p>When you opt into the new continue on error (COE) feature, your application automatically diagnoses and reports unique memory safety errors as it runs. At program exit, the runtime produces a <a href="#post-32499-_Example">final summary</a> that follows the unique detailed reports normally produced by the Address Sanitizer.</p>
<p>The compiler instruments your binaries to work with the address sanitizer runtime to diagnose hidden memory safety errors. You can add the <code>-fsanitize=address -Zi</code> compiler flags and set the <code>ASAN_OPTIONS</code> or <code>COE_LOG_FILE</code> environment variable with values shown previously. You can then build and run your existing tests to exercise your code to find hidden memory-safety errors.</p>
<p>This new COE functionality provides a “checked build” for C and C++ that finds hidden memory safety errors with zero false positives.</p>
<p><span style="font-size: 18pt;">Hidden memory safety errors</span></p>
<p>The source code in Figure 1 which follows creates a buffer overflow due to the off-by-one error in the loop exit test. The code should check for <code>ii &lt; sz</code>, but instead checks for <code>ii &lt;= sz</code>. When the example runs, it is <strong>secure by coincidence</strong>. That’s because of the over-allocation and alignment done by most C++ runtime implementations. When<code> sz % 16 == 0</code>, the final write to <code>local</code> corrupts data. In other cases only read/write to the “malloc slop” which is due to the C Runtime (CRT), padding allocations out to a <code>0 mod 16</code> aggregate boundary.</p>
<p>Errors will only be observable if the following page is unmapped, or upon some subsequent use of corrupted data. All other cases are silent in the Figure 1 example that follows.</p>
<pre class="prettyprint language-default"><code class="language-default">#include &lt;stdlib.h&gt; 
char* func(char* buf, size_t sz) { 
    char* local = (char*)malloc(sz); 
    for (auto ii = 0; ii &lt;= sz; ii++) { // bad loop exit test 
        local[ii] = ~buf[ii]; // Two memory safety errors 
    } 
    return local; 
} 

char original[10] = { 0,1,2,3,4,5,6,7,8,9 }; 

void main() {   
    char* inverted_buf= func(original,10); 
}</code></pre>
<p style="padding-left: 400px; text-align: left;"><span style="font-size: 10pt;"><strong>Figure 1</strong></span></p>
<p>In this example, where the parameter <code>sz</code> is 10 and the original buffer is 10-bytes, there are two memory safety errors: one is an out-of-bounds load from <code>buf</code> and the other is an out-of-bounds store to <code>local</code>. With <code>continue_on_error</code>, you will see both errors in the summary, and the program will run to completion. Here’s the summary:</p>
<p><img decoding="async" class="alignnone wp-image-32503" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4.png" alt="Terminal showing two memory safety issues being found" width="1430" height="397" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4.png 1430w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4-300x83.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4-1024x284.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4-768x213.png 768w" sizes="(max-width: 1430px) 100vw, 1430px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 2</strong></span></p>
<p>Note that <code>continue_on_error</code> reports two distinct errors that occur on the same source line. The first error reads memory at a global address in the <code>.data</code> section, and the other writes to memory allocated from the heap.</p>
<p><span style="font-size: 18pt;">Description</span></p>
<p>The default Address Sanitizer runtime behavior terminates your application after reporting the first error encountered while running your program. It does not allow the “bad” machine instruction to execute. COE is a customer-requested change significantly different compared to the “one-n-done” behavior of the existing Address Sanitizer runtime. The new Address Sanitizer runtime diagnoses and reports errors, but then executes subsequent instructions.</p>
<p>The new COE functionality allows an application to <strong>continue running while reporting</strong> unique memory safety errors to a log file or to the command line. When enabled, COE tries to automatically return control back to the application after reporting each memory safety error, except for an access violation (AV) or failed memory allocation. With COE, you can compile and deploy an existing application into limited production to find memory safety issues while running for days (albeit slower).</p>
<p>By adding compiler flags and setting an environment variable, you can immediately improve correctness and security. Your existing tests will still pass but will <strong><em>also</em></strong> uncover hidden memory safety errors. The compiler option (<code>-fsanitizer=address</code>) and runtime environment flag can be used to introduce a new “shipping gate.” Subsequently COE can then be used with all your existing tests. The developer gets a simple, well-defined, pass/fail for shipping any C or C++ app on Windows.</p>
<p>Internally we have found that using this technology significantly reduces memory safety errors. If all your existing tests pass, <strong><em>but</em></strong> this new feature reports a memory safety error or a leak, don’t ship your new code or integrate it into a parent branch.</p>
<p><span style="font-size: 18pt;"><strong>Example</strong></span></p>
<pre style="padding-left: 160px;">#include &lt;cstdio&gt;
#include &lt;string&gt;

struct Base {
    //virtual ~Base() = default;
};

struct Derived : public Base {
    std::wstring Value = L"Leaked if Base destructor is not virtual!";
};

constexpr size_t PointDims = 3;
double pointsInGlobalData[PointDims] = { 1.0, 2.0, 3.0 };

int main() {

  pointsInGlobalData[3] = 3.0;

  for (int i = 0; i &lt; 2; i++) {
    double pointOnStack[PointDims] = { 1.0, 2.0, 3.0 };
    pointOnStack[-1] = 3.0;
    pointOnStack[PointDims] = 0.0;

    double* pointOnHeap = new double[PointDims + 100000];
    pointOnHeap[-1] = 4.0;
    delete[] pointOnHeap;

    double* pointDouble = new double[PointDims] { 1.0, 2.0, 3.0 };
    pointDouble[PointDims] = 4.0; // overflow
    delete[] pointDouble;         // we continue
    Base* base = new Derived();
    delete base; // missing virtual destructor

    constexpr size_t buff_size = 128;
    char* buffer = new char[buff_size];
    std::memset(buffer, '\0', buff_size);
    std::memset(&amp;buffer[buff_size - 28], '=', 30);
  }
  wprintf_s(L"Loop completed! \r\n");
}</pre>
<p style="padding-left: 440px;"><span style="font-size: 10pt;"><strong>Figure 3</strong></span></p>
<p>With <code>continue_on_error</code>, the program in Figure 3 above, produces the summary in Figure 4. That summary is printed<strong><em> after</em></strong> streaming all unique detailed error reports which are produced using the existing default mode of the Address Sanitizer. The existing default mode is “one-n-done”. The previous Address Sanitizer only prints one detailed error report, and then exits your process. With <code>continue_on_error</code>, we continue to execute after various memory safety errors. This summary illustrates continuing after many memory safety errors:</p>
<p><img decoding="async" class="alignnone wp-image-32504" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica.png" alt="Console showing 7 unique memory safety issues being found" width="1685" height="1072" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica.png 1685w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica-300x191.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica-1024x651.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica-768x489.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica-1536x977.png 1536w" sizes="(max-width: 1685px) 100vw, 1685px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 4</strong></span></p>
<p>Beneath the first red box at the top of Figure 4, there are three files sorted by error. This is followed by the file, function, and line displayed beneath the second box. The third box calls out eight unique errors, where &#8220;unique&#8221; is defined in terms of a hash function which uses call stacks and error descriptions. Use of the term <a href="#post-32499-_Unique">unique</a> is discussed in the next section.</p>
<p>The detailed error reports (omitted in the screen capture in Figure 4) are printed before this summary and contain shadow bytes with all the details for each error in the summary.</p>
<p><span style="font-size: 18pt;">Unique</span></p>
<p>The uniqueness of an error (to limit streaming duplicates) is determined by an internal <strong>hash function</strong> that uses the type of error and the call stack(s) at the time of error. A detailed individual error report includes stack trace(s). Here are the two detailed errors in the “secure by coincidence” example in Figure 1. The call stacks and types of errors are used to internally create an internal C++ error object, which is then hashed to a unique integer. The global-buffer-overflow in Figure 5 only has one call stack and is a different type of error object from the heap-buffer-overflow in Figure 6, which has two call stacks.</p>
<p><img decoding="async" width="2415" height="500" class="wp-image-32505" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3.png 2415w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-300x62.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-1024x212.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-768x159.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-1536x318.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-2048x424.png 2048w" sizes="(max-width: 2415px) 100vw, 2415px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 5</strong></span></p>
<p><img decoding="async" width="2450" height="770" class="wp-image-32506" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4.png 2450w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-300x94.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-1024x322.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-768x241.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-1536x483.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-2048x644.png 2048w" sizes="(max-width: 2450px) 100vw, 2450px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 6</strong></span></p>
<p>The runtime will hash each occurrence of an error at runtime in order to prevent duplication. Consider a <a href="https://learn.microsoft.com/en-us/cpp/sanitizers/asan?view=msvc-170#error-types">memory-safety</a> error that’s executed 10000 times in a loop. The detailed error will be reported once, but its “hit count” of 1000 will be reported in the summary.</p>
<p><span style="font-size: 18pt;">Not continuing.</span></p>
<p>Two examples where the continue on error feature <strong><em>cannot continue</em></strong> are:</p>
<ul>
<li>Malloc is given an undefined argument, such as a negative number.</li>
<li>There’s an access violation while trying to read or write to memory that hasn’t been allocated, or to which it doesn’t have access.</li>
</ul>
<p>Consider the following program which has an access violation because it tries to <strong>read from location <code>0x13</code></strong>:</p>
<pre style="padding-left: 160px;">#include &lt;stdio.h&gt;

void main()
{
    unsigned int* local_ptr = (unsigned int*) 0x13;
    printf("use of undefined address %p [%x]\n", local_ptr, *local_ptr);
}</pre>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 7</strong></span></p>
<p>On Windows 11, when the example in Figure 7 above, is compiled with <code>-fsanitize=address -Zi</code>, you’ll see the following error message in Figure 8, below.</p>
<p><img decoding="async" class="alignnone wp-image-32507" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5.png" alt="CONTINUE CANCELLED - Deadly Signal. Shutting down." width="1531" height="451" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5.png 1531w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5-300x88.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5-1024x302.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5-768x226.png 768w" sizes="(max-width: 1531px) 100vw, 1531px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 8</strong></span></p>
<p>We choose to “gracefully cancel” the attempt to continue from access violations that are <strong>not</strong> caught with a user’s structured exception handling.</p>
<h1 id="matching-undefined-behavior"><span style="font-size: 18pt;">Matching undefined behavior</span></h1>
<p>We haven’t been able to do a complete audit that would allow us to “match” undefined behaviors for C and C++. The following example in Figure 9, makes this tangible. At the commented line in the following code example, code generation from the compiler and the runtime implementation are both different for <code>_alloca </code>when compiling with <code>-fsanitize=address -Zi</code>:</p>
<pre style="padding-left: 280px;">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;malloc.h&gt;
#include &lt;excpt.h&gt;
#include &lt;windows.h&gt;

#define RET_FINISH 0
#define RET_STACK_EXCEPTION 1
#define RET_OTHER_EXCEPTION 2

int foo_redundant(unsigned long arg_var) {

  char *a;
  int ret = -1;

  __try
  {
    if ((arg_var+3) &gt; arg_var) {
<strong>      // Call to alloca using parameter from main</strong>
<strong>      a = (char *) _alloca(arg_var); </strong>
      memset(a, 0, 10);
    }
    ret = RET_FINISH;
  }
  __except(1)
  {
    ret = RET_OTHER_EXCEPTION;
    int i = GetExceptionCode();
    if (i == EXCEPTION_STACK_OVERFLOW) {
      ret = RET_STACK_EXCEPTION;
  }  
  return ret;
}

void main(){ 
  int cnt = 0;
  if (foo_redundant(0xfffffff0) == RET_STACK_EXCEPTION)
<b>    cnt++; //increment count of </b><span style="font-size: 14.4px;"><b>exceptions</b></span><b> handled.</b>

  if (cnt == 1)
    printf("pass\n");
  else
    printf("fail\n");
}</pre>
<p style="padding-left: 400px;"><span style="font-size: 10pt;"><strong>Figure 9</strong></span></p>
<p>The previous example, in Figure 9, prints <strong>pass</strong> without <code>-fsanitize=address</code>. That’s because<code> cnt==1 </code>due to an exception. It will fail when compiled with that flag and run with the Address Sanitizer runtime. In <code>main()</code> we pass a large number to <code>foo_redundant</code>, which is passed to <code>_alloca()</code>.</p>
<p>With the Address Sanitizer in <code>continue_on_error</code> (COE) mode, this program runs to completion, but prints <strong>fail</strong>. The code generation from the compiler must match the ABI for the Address Sanitizer runtime. For the Address Sanitizer runtime, the compiler grows the allocation size and aligns it 0 mod 32 (a cache line). That math will cause an integer overflow (i.e., wrap around) creating a reasonable, small positive number as the parameter to <code>_alloca</code>.</p>
<p><strong>There will be no stack overflow exception to process the <code>__except</code> handler.` </strong></p>
<p>We have not had time to document or clearly define the subtle differences when a program has undefined behavior. This was a reason for releasing <code>continue_on_error</code> as experimental at first.</p>
<p><strong>NOTE: The frequency with which this concern has become visible, has been rare with our testing infrastructure.</strong></p>
<h1><a id="post-32499-_Top_Concern_–"></a><span style="font-size: 18pt;">Top Concern – don’t ship without it.</span></h1>
<p>There were six categories of C++ <a href="https://learn.microsoft.com/en-us/cpp/sanitizers/asan?view=msvc-170#error-types">memory safety</a> errors in the 2021 Common Weakness Enumeration (CWE) <a href="https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fcwe.mitre.org%2Ftop25%2Farchive%2F2021%2F2021_cwe_top25.html&amp;data=05%7C01%7Cjradigan%40microsoft.com%7C9962b611c58546f2df3308db4add742b%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638186087241566753%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=ZWphesh6v9f2PKasnd2qxKrq26EebWpv8Tb6JK1RFXg%3D&amp;reserved=0">Top 25 Most Dangerous Software Weaknesses</a>. The best <a href="https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fpwnies.com%2Fwinners%2F&amp;data=05%7C01%7Cjradigan%40microsoft.com%7C9962b611c58546f2df3308db4add742b%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638186087241566753%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=%2BbYI%2FqxTAHAPZzkmdmnFgpaQ%2Bb4%2B1a953XrBDUVZ9OI%3D&amp;reserved=0">Remote Code Execution Bug</a> was a 20 year old heap-buffer-overflow. This award in 2022 went to BugHunter010 at Cyber KunLun Lab. This engineer discovered a heap-buffer-overflow vulnerability in the RPC protocol with CVSS score 9.8. This bug has existed in the Windows system for more than 20 years. There are new C++ memory safety bugs introduced daily because traditional testing can’t expose these types of bugs without compiler and runtime support.</p>
<p>This new feature is designed to enable developers to implement a simple new gate for shipping C++ on Windows. Using this technology will significantly reduce memory safety errors. If your tests pass but continue_on_error reports any hidden memory safety errors, you should not ship or integrate new code into the development branch.<a id="post-32499-_Hidden_memory_safety"></a></p>
<p><strong>We intend that continue_on_error be used as pass/fail gate, for all CI/CD pipelines using C and C++.</strong></p>
<h1 id="call-to-action"><span style="font-size: 18pt;">Call To Action</span></h1>
<p>We invite you to install the 17.6 version of <a href="https://visualstudio.microsoft.com/downloads/">Visual Studio</a> or later, try out the continue on error feature, and give us <a href="https://developercommunity.visualstudio.com/home">feedback</a><a id="post-32499-_Dynamic_vs._Static"></a>.</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/">AddressSanitizer continue_on_error</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
			</item>
		<item>
		<title>C++ Extension in VS Code 1.16 Release: Call Hierarchy &#038; more</title>
		<link>https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/</link>
					<comments>https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/#respond</comments>
		
		<dc:creator><![CDATA[Alexandra Kemper]]></dc:creator>
		<pubDate>Wed, 28 Jun 2023 16:40:16 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32445</guid>

					<description><![CDATA[<p>The 1.16 version of the C++ Extension in VS Code has now been shipped. With this version of the extension, we are releasing one of our most upvoted GitHub feature requests – Call Hierarchy. We also added new functionality when creating declarations and definitions that allows you to copy the declaration/definition and specify its placement in code,</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/">C++ Extension in VS Code 1.16 Release: Call Hierarchy &#038; more</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><span data-contrast="auto">The </span><a href="https://github.com/microsoft/vscode-cpptools/releases/tag/1.16.0"><span data-contrast="auto">1.16 version</span></a><span data-contrast="auto"> of the C++ Extension in VS Code has now been shipped. With this version of the extension, </span><span data-contrast="auto">we are releasing one of our </span><a href="https://github.com/microsoft/vscode-cpptools/issues/16"><span data-contrast="none">most upvoted GitHub feature requests</span></a><span data-contrast="auto"> – Call Hierarchy. </span><span data-contrast="auto">We also added new functionality when creating declarations and definitions that allows you to copy the declaration/definition and specify its placement in code, as well as adding other code enhancements. For the full list of changes, please reference the </span><a href="https://github.com/microsoft/vscode-cpptools/releases/tag/1.16.0"><span data-contrast="none">1.16 release notes.</span></a><span data-contrast="auto"> </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:300,&quot;335559739&quot;:300,&quot;335559740&quot;:259}"> </span></p>
<h3 aria-level="2" aria-level="2" id="call-hierarchy"><b><span data-contrast="none">Call Hierarchy </span></b><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h3>
<p aria-level="2"><span data-contrast="auto">With call hierarchy, you can now easily navigate your codebase, especially when trying to understand the complex calling relationships between functions. This might be a familiar experience if you have used call hierarchy in Visual Studio. Here you can see it in action: </span><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></p>
<p aria-level="2"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Call_Hierarchy.gif"><img decoding="async" class="aligncenter wp-image-32446" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Call_Hierarchy.gif" alt="The gif shows a user navigating to their call hierarchy by right clicking a function with a Quick Fix available, then selecting &quot;Show Call Hierarchy&quot;. This opens a side bar with all the calls. The user then clicks on the phone icon in the menu of the side bar to toggle between calls from and calls to for that function." width="634" height="497" /></a></p>
<h4 aria-level="2" aria-level="2" id="how-can-you-view-the-call-hierarchy"><span data-contrast="none">How can you view the call hierarchy? </span><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h4>
<p><span data-contrast="auto">To view the call hierarchy, right-click a function to display the context menu and select <strong>Show Call Hierarchy</strong>. This will populate the call tree in the side bar with all of the functions called by your selected function. Toggle the phone icon in the side bar menu to switch to incoming calls. Incoming calls will show whenever your function is referenced by another function.</span></p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425.jpg"><img decoding="async" class="aligncenter wp-image-32448 " src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425.jpg" alt="Image showing that the command in the context menu to look for is called &quot;show call hierarchy&quot;" width="405" height="196" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425.jpg 770w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425-300x145.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425-768x371.jpg 768w" sizes="(max-width: 405px) 100vw, 405px" /></a></p>
<p><span data-contrast="auto">You can also invoke the command palette (Ctrl + Shift + P) and run the command <strong>Calls: Show Call Hierarchy</strong> to display the call hierarchy side bar. </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:300,&quot;335559739&quot;:240,&quot;335559740&quot;:240}"> </span></p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette.jpg"><img decoding="async" class="aligncenter wp-image-32447" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette-1024x115.jpg" alt="Image that shows that the command for call hierarchy in the command palette is called &quot;show call hierarchy&quot;." width="604" height="68" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette-1024x115.jpg 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette-300x34.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette-768x86.jpg 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette.jpg 1428w" sizes="(max-width: 604px) 100vw, 604px" /></a></p>
<p><span data-contrast="auto">Additionally, you can explore nested calls by selecting a function already shown in the call tree and right-clicking on that function to view the available commands. </span></p>
<p><a style="color: #006f94; text-decoration-line: underline; outline-width: 0px;" href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy.jpg"><img decoding="async" class="aligncenter wp-image-32450" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy.jpg" alt="Image shows that if you right click on a function displayed in the call hierarchy call tree, you will be able access another menu which gives you the option to find incoming/outgoing calls for that sub function" width="405" height="196" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy.jpg 814w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy-300x145.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy-768x372.jpg 768w" sizes="(max-width: 405px) 100vw, 405px" /></a></p>
<p>&nbsp;</p>
<h3 aria-level="2" aria-level="2" id="copy-declaration-definition"><b><span data-contrast="none">Copy Declaration/Definition</span></b><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h3>
<p><span data-contrast="auto">After releasing the Create Declaration/Definition feature in </span><a href="https://github.com/microsoft/vscode-cpptools/releases/tag/v1.13.6"><span data-contrast="none">version 1.13.6,</span></a><span data-contrast="auto"> you can now also copy that declaration or definition. Rather than using “Create Declaration/Definition” to automatically add a generated declaration or definition to a location chosen by the extension, “Copy Declaration/Definition” will copy the declaration or definition to your clipboard instead. This gives you the option to decide where exactly in your code you would like to paste the copied declaration or definition.  </span><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"> </span></p>
<p><span data-contrast="auto">To copy a definition or declaration, select a function that has a Quick Fix available (three dots under the function name), then select the Code Action (lightbulb icon) on the left. This will open the Code Action options, where you can select “Copy definition of ‘YourFunctionName’” or “Copy declaration of ‘YourFunctionName’” depending on which is being created. </span><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"> </span></p>
<p><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335551550&quot;:2,&quot;335551620&quot;:2,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Copy_DeclDef_Feature.gif"><img decoding="async" class="aligncenter wp-image-32449 " src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Copy_DeclDef_Feature.gif" alt="Gif showing that when you are creating a declaration/definition, when you click on the function, rather than selecting &quot;create declaration&quot; you will select &quot;copy declaration&quot; and vice versa for declarations." width="747" height="521" /></a></span></p>
<p><span data-contrast="auto">If the Declaration/Definition is not formatted for you when you paste, you can turn on auto formatting by navigating to the settings editor (Ctrl + ,) and searching for </span><b><span data-contrast="auto">Format On Paste</span></b><span data-contrast="auto">. Enabling this will automatically formal all items you paste into the editor. </span><span data-contrast="none"> </span> <span data-contrast="auto"> </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:300,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></p>
<h3 id="what-do-you-think"><b><span data-contrast="auto">What do you think?</span></b><span data-contrast="auto"> </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559738&quot;:0,&quot;335559739&quot;:240,&quot;335559740&quot;:259}"> </span></h3>
<p><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools"><span data-contrast="auto">Download the C/C++ extension for Visual Studio Code </span></a><span data-contrast="auto"> today, give it a try, and let us know what you think. </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559738&quot;:0,&quot;335559739&quot;:240,&quot;335559740&quot;:259}"> </span></p>
<p><span data-contrast="auto">If you have any questions around this release, feel free to start a discussion in </span><a href="https://github.com/microsoft/vscode-cpptools/discussions"><span data-contrast="auto">our GitHub repository.</span></a><span data-contrast="auto"> Otherwise, if you run into any issues, please report them in the  </span><a href="https://github.com/Microsoft/vscode-cpptools/issues"><span data-contrast="auto">issues section</span></a><span data-contrast="auto">. We can be reached via the comments below, per email at  </span><a href="mailto:visualcpp@microsoft.com"><span data-contrast="auto">visualcpp@microsoft.com,</span></a><span data-contrast="auto"> or through our team on Twitter at  </span><a href="https://twitter.com/visualc"><span data-contrast="auto">@</span></a><a href="https://twitter.com/visualc"><span data-contrast="auto">VisualC.</span></a> <span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559738&quot;:0,&quot;335559739&quot;:240,&quot;335559740&quot;:259}"> </span></p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/">C++ Extension in VS Code 1.16 Release: Call Hierarchy &#038; more</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>vcpkg integration with the GitHub dependency graph</title>
		<link>https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/</link>
					<comments>https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/#comments</comments>
		
		<dc:creator><![CDATA[Michael Price]]></dc:creator>
		<pubDate>Tue, 27 Jun 2023 19:07:11 +0000</pubDate>
				<category><![CDATA[GitHub]]></category>
		<category><![CDATA[New Feature]]></category>
		<category><![CDATA[Vcpkg]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32491</guid>

					<description><![CDATA[<p>Introducing vcpkg's integration with the GitHub dependency graph</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/">vcpkg integration with the GitHub dependency graph</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>We are excited to share that starting with the <code>2023-06-22</code> release of vcpkg-tool (vcpkg <a href="https://github.com/microsoft/vcpkg/commit/8f3e8d6e95c7f91edea60c47a7d1414ab5ca9492">commit SHA 8f3e8d6</a>), vcpkg has an experimental feature to provide data to the GitHub dependency graph. We are actively developing this feature and would like to hear your feedback. Let us know if you have any thoughts about the current functionality or would like to see further improvements. If you have feedback on any of the GitHub features that a vcpkg-powered dependency graph enables, let us know that too and we&#8217;ll make sure that it reaches the right folks at GitHub.</p>
<h2 id="about-the-github-dependency-graph">About the GitHub dependency graph</h2>
<p>The GitHub <a href="https://docs.github.com/code-security/supply-chain-security/understanding-your-software-supply-chain/about-the-dependency-graph">dependency graph</a> stores the set of dependencies for a repository. Beyond just being able to visualize what a repository&#8217;s dependencies are, GitHub builds several useful features on top of this data, including <a href="https://docs.github.com/code-security/supply-chain-security/understanding-your-software-supply-chain/about-dependency-review">dependency review</a> and <a href="https://docs.github.com/code-security/dependabot/dependabot-alerts/about-dependabot-alerts">Dependabot alerts</a>.</p>
<h3 id="enabling-the-github-dependency-graph">Enabling the GitHub dependency graph</h3>
<p>Enabling the dependency graph for your repository is a requirement for vcpkg to be able to populate the dependencies for your repository. The dependency graph is enabled by default for public repositories on GitHub. If you want the dependency graph enabled for a private repository, you should follow the <a href="https://docs.github.com/code-security/supply-chain-security/understanding-your-software-supply-chain/configuring-the-dependency-graph#enabling-and-disabling-the-dependency-graph-for-a-private-repository">GitHub documentation to enable the dependency graph</a>.</p>
<p><img decoding="async" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/github-enable-dependencygraph.png" alt="Screenshot showing the button to enable the dependency graph" /></p>
<p>If you are already using reusable actions in your GitHub Actions workflows and the dependency graph is enabled, there&#8217;s a good chance your repository&#8217;s dependency graph already has some dependencies listed. Check it out by selecting <strong>Insights</strong> for your repository and then selecting <strong>Dependency graph</strong>.</p>
<p><img decoding="async" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/github-insights-dependencygraph.png" alt="Screenshot of a sample repository's dependency graph" /></p>
<h3 id="techniques-for-populating-the-dependency-graph">Techniques for populating the dependency graph</h3>
<p>There are two ways that the dependency graph may get populated. For some package management systems that have a static list of dependencies that can be fully described in a manifest file, GitHub will automatically scan those manifests once they are pushed into your repository and will begin showing up in the dependency graph.</p>
<p>For package management systems that are more dynamic, the tools used to process the list of dependencies must be involved in determining the complete set of dependencies. The complete set of dependencies for C and C++ are usually highly dependent upon build configuration and target platform. For these ecosystems, GitHub has a <a href="https://docs.github.com/rest/dependency-graph/dependency-submission">dependency submission API</a> that tools can use to provide the dependency information, usually as a part of a GitHub Actions workflow job.</p>
<h2 id="reporting-dependencies-with-vcpkg">Reporting dependencies with vcpkg</h2>
<p>vcpkg integration with the GitHub dependency graph can be enabled by adding the value <code>dependencygraph</code> to the <code>VCPKG_FEATURE_FLAGS</code> environment variable within your GitHub Actions workflow file that runs vcpkg (either directly or indirectly via CMake). You must also modify your workflow file to set the <code>GITHUB_TOKEN</code> environment variable with the value <code>${{ secrets.GITHUB_TOKEN }}</code> and request permission for the workflow job to write the dependency information into your repository&#8217;s metadata by including the following YAML snippet near the top of your workflow file.</p>
<pre><code class="language-YAML">permissions:
  contents: write</code></pre>
<p>Once those changes have been made, and your workflow runs again, you should begin to see the dependencies in your vcpkg.json manifest listed in the <strong>Dependency graph</strong> section on GitHub.</p>
<p>See our documentation at <a href="https://aka.ms/vcpkg-dependency-graph">GitHub integration &#8211; The GitHub dependency graph</a> for more information.</p>
<h3 id="examples">Examples</h3>
<p>A <a href="https://aka.ms/vcpkg-dependency-graph-example">live example template repository</a> is on GitHub if you want to try it out in a clean project. If you want to try it out on an existing project, see the workflow files defined below that shows the changes you need to make to enable the feature.</p>
<p>Both workflow examples below work with the <code>vcpkg.json</code> and <code>main.cpp</code> files listed here.</p>
<p><strong>vcpkg.json</strong></p>
<pre><code class="language-json">{
  "name": "your-project",
  "version-string": "0.0.1",
  "dependencies": [
    "fmt"
  ]
}</code></pre>
<p><strong>main.cpp</strong></p>
<pre><code class="language-cpp">#define FMT_HEADER_ONLY
#include "fmt/color.h"

int main(int argc, char** argv)
{
    fmt::print(
        fg(fmt::color::light_salmon),
        "¡Hola, Mundo!\n"
    );
}</code></pre>
<p><br/></p>
<h4 id="indirectly-through-cmake-integration">Indirectly through CMake integration</h4>
<p>Add the following files to test the vcpkg dependency graph integration when using CMake.</p>
<p><strong>CMakeLists.txt</strong></p>
<pre><code class="language-cmake">cmake_minimum_required(VERSION 3.15)

project(your-project CXX)
find_package(fmt REQUIRED)
set(CMAKE_CXX_STANDARD 20)

add_executable(hola main.cpp)

target_link_libraries(hola
  PRIVATE
    fmt::fmt)</code></pre>
<p><strong>.github/workflows/cmake.yml</strong></p>
<pre><code class="language-yaml">name: Example that uses CMake integration

on:
  workflow_dispatch:

###############################################################################
# Add this section to your workflow file does not already have it to enable
# the job to write the dependency metadata.
###############################################################################
permissions:
  contents: write

###############################################################################
# Add these environment variables to your workflow to enable the vcpkg
# dependency graph integration.
###############################################################################
env:
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  VCPKG_FEATURE_FLAGS: dependencygraph

jobs:
  cmake:
    runs-on: ubuntu-latest

    # These steps assume an appropriate version of vcpkg is listed as a
    # submodule in your git repo. If it is not, you must update this workflow
    # to obtain it.

    steps:
      - uses: actions/checkout@v3
        with:
          submodules: 'recursive'  

      - name: Bootstrap vcpkg
        run: ${{ github.workspace }}/vcpkg/bootstrap-vcpkg.sh

      - name: Configure with CMake
        run: |
          cmake -B build -S ${{ github.workspace }} \
          -DCMAKE_TOOLCHAIN_FILE=${{ github.workspace }}/vcpkg/scripts/buildsystems/vcpkg.cmake

      - name: Build with CMake
        run: cmake --build build

      - name: Hola, amigos
        run: ${{ github.workspace }}/build/hola</code></pre>
<p><br/></p>
<h4 id="directly-calling-vcpkg-install">Directly calling <code>vcpkg install</code></h4>
<p>Add the following file to test the vcpkg dependency graph integration with workflows that call <code>vcpkg install</code> directly.</p>
<p><strong>.github/workflows/build.yml</strong></p>
<pre><code class="language-yaml">name: Example that directly invokes `vcpkg install`

on:
  push:
    branches: [ main ]
  workflow_dispatch:

###############################################################################
# Add this section to your workflow file does not already have it to enable
# the job to write the dependency metadata.
###############################################################################
permissions:
  contents: write

###############################################################################
# Add these environment variables to your workflow to enable the vcpkg
# dependency graph integration.
###############################################################################
env:
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  VCPKG_FEATURE_FLAGS: dependencygraph

jobs:
  build:
    runs-on: ubuntu-latest

    # These steps assume an appropriate version of vcpkg is listed as a
    # submodule in your git repo. If it is not, you must update this workflow
    # to obtain it.

    steps:
      - uses: actions/checkout@v3
        with:
          submodules: 'recursive'  

      - name: Bootstrap vcpkg
        run: ${{ github.workspace }}/vcpkg/bootstrap-vcpkg.sh

      - name: Directly invoke `vcpkg install`
        run: ${{ github.workspace }}/vcpkg/vcpkg install

      - name: Build with G++
        run: g++ -I${{ github.workspace }}/vcpkg_installed/x64-linux/include -o hola main.cpp

      - name: Hola, amigos
        run: ${{ github.workspace }}/hola</code></pre>
<h2 id="call-to-action">Call to action</h2>
<p>We are gathering feedback from users to determine the improvements we need to make to consider this integration fully supported. This is the foundation for opening up really powerful, Enterprise-grade dependency management for our users, and we are excited to have you all try it out.</p>
<p>As usual, if you have feedback, leave us a comment below or contact us on Twitter (<a href="https://twitter.com/visualc">@VisualC</a>) or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/">vcpkg integration with the GitHub dependency graph</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Using Key Events with warning C26800</title>
		<link>https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/</link>
					<comments>https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/#respond</comments>
		
		<dc:creator><![CDATA[Dmitry Kobets]]></dc:creator>
		<pubDate>Mon, 26 Jun 2023 16:19:51 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Documentation]]></category>
		<category><![CDATA[Experimental]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32325</guid>

					<description><![CDATA[<p>Here's how you can use Key Events to fix warning C26800</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/">Using Key Events with warning C26800</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><a href="https://devblogs.microsoft.com/cppblog/microsoft-cpp-code-analysis-warnings-with-key-events/">MSVC&#8217;s Code Analysis Key Events</a> are a useful tool for quickly getting to the root-cause of your static analysis warnings. This blog post highlights how Key Events may be used with warning <a href="https://learn.microsoft.com/cpp/code-quality/c26800?view=msvc-170"><code>C26800</code></a> <code>Use of a moved from object</code> to quickly narrow down the problematic code.</p>
<h2 id="c26800-warning-recap">C26800 warning recap</h2>
<p>Warning C26800 catches code that attempts to use an object that is in a moved-from state:</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
int main()
{
    std::string string_owner = "this string will be moved!";
    std::string new_string_owner = std::move(string_owner);
    std::cout &lt;&lt; string_owner &lt;&lt; std::endl; // Warning C26800 Use of a moved from object: ''string_owner'' (lifetime.1).
}</code></pre>
<p>Instead of <code>this string will be moved!</code>, the print statement in the above example will produce an empty output line when run.</p>
<p>The move from <code>string_owner</code> into <code>new_string_owner</code> happens on the line <em>immediately</em> preceding its use in the print statement, so it&#8217;s instantly clear why the output is incorrect. But this is a trivial example. Real world code is rarely this straightforward.</p>
<h2 id="a-more-complex-example-sans-key-events">A more complex example, sans Key Events</h2>
<p>Consider a more convoluted example. The following code defines a function that is not only significantly longer than in the first code snippet, but is also littered with all sorts of intervening business logic (represented by <code>// ...</code>).</p>
<pre><code class="language-cpp">#include &lt;string&gt;
void take_ownership(std::string&amp;&amp;) { /* ... */ }
void use_string(std::string) { /* ... */ }
void my_buggy_function(bool some_condition, bool some_other_condition)
{
    std::string my_string{ "this is a string!" };
    bool my_flag{ false };

    // ...

    if (some_condition)
    {
        take_ownership(std::move(my_string)); // (a)
    }

    // ...

    if (some_other_condition) // (b)
    {
        my_flag = true;

        // ...

        my_string = "the string is reset"; // (c)

        // ...
    }

    // ...

    if (my_flag &amp;&amp; !some_other_condition) // (d)
    {
        take_ownership(std::move(my_string)); // (e)
    }

    // ...

    use_string(my_string); // Use of a moved from object: ''my_string'' (lifetime.1). (f)
}</code></pre>
<p>As in the simple example, a developer tasked with solving this bug will be looking to answer the question: where is <code>my_string</code> moved? A natural approach would likely be to start on line <code>(f)</code>, and to scan backwards through the code. This process would look something like:</p>
<ul>
<li>Starting at the warning location and looking a few lines up, the <code>take_ownership(std::move(my_string));</code> on line <code>(e)</code> immediately offers itself up as the culprit. To realize that this is a red-herring requires evaluating the condition on line <code>(d)</code>, which requires tracing even higher up into the function&#8217;s depths, delving further into the confusing business logic.</li>
<li>Eventually, once satisfied that the move on line <code>(e)</code> is actually unreachable (oops!), the developer recommences the upwards traversal, eventually landing on the <code>move</code> on line <code>(a)</code>. But not before noticing the write to <code>my_string</code> on line <code>(c)</code>.</li>
<li>The developer must now solve the puzzle of why this re-assignment (on line <code>(c)</code>) is not preventing the warning all the way down on line <code>(f)</code>.</li>
<li>After spending far too long running back and forth through the code, the developer finally convinces themselves that it might be possible for the condition on line <code>(b)</code> to be false, thus skipping the reset on line <code>(c)</code>. The mystery is finally solved.</li>
</ul>
<p>There must be an easier way. Enter Key Events.</p>
<h2 id="solution-made-simple-with-key-events">Solution made simple with Key Events</h2>
<p>As of Visual Studio 17.5 Preview 1, Key Events have been enabled for the warning C26800. Using the <a href="https://devblogs.microsoft.com/cppblog/microsoft-cpp-code-analysis-warnings-with-key-events/#presentation-of-key-events-through-sarif-viewer-extension">Microsoft SARIF Viewer extension</a>, this check can now precisely explain its assumptions and reasoning to the curious developer, all via inline annotations in the buggy code!</p>
<p><img decoding="async" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/sarif_extension.png" alt="Key Events with warning C26800" /></p>
<p>These Key Events offer precisely the troublesome code path that the developer was searching for and (eventually) arrived at via manual inspection of the function&#8217;s code. Notably, we see that the check:</p>
<ul>
<li>is concerned with the move on line <code>(a)</code>, helpfully noting that its guarding condition <code>some_condition</code> could be <code>true</code></li>
<li>points out that there is nothing stopping the conditions on line <code>(b)</code> and <code>(d)</code> from being <code>false</code></li>
</ul>
<p>The buggy control flow leading to the usage of the moved-from <code>my_string</code> variable is therefore immediately made clear to the satisfied developer, and the investigation time is greatly reduced.</p>
<h2 id="summary">Summary</h2>
<p>Prior to the addition of Key Events to MSVC&#8217;s warning C26800, complex code made it hard to debug and get to the root-cause of the warning. Now, with Key Events enabled by default for warning C26800, developers can much more easily identify and resolve instances of use-after-free warnings in their code. This feature was enabled in Visual Studio 17.5 Preview 1, so please <a href="https://visualstudio.microsoft.com/vs/features/cplusplus/">download a recent version</a> and try it out. You can share your thoughts and comments with us through <a href="https://developercommunity.visualstudio.com/cpp">Developer Community</a>, Twitter (<a href="https://twitter.com/visualc">@VisualC</a>), or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/">Using Key Events with warning C26800</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Build Insights Now Available in Visual Studio 2022</title>
		<link>https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/</link>
					<comments>https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/#respond</comments>
		
		<dc:creator><![CDATA[Nelson Daniel Troncoso]]></dc:creator>
		<pubDate>Thu, 15 Jun 2023 16:00:03 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Game Development]]></category>
		<category><![CDATA[New Feature]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32372</guid>

					<description><![CDATA[<p>Introduction<br />
We&#8217;re excited to announce that Build Insights is now integrated with Visual Studio 2022! Available in Visual Studio 2022 17.7 Preview 2, Build Insights provides critical information of your development environment. Using the analysis created by Build Insights, you will now have the power to effectively optimize your build times,</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/">Build Insights Now Available in Visual Studio 2022</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p>We&#8217;re excited to announce that <a href="https://devblogs.microsoft.com/cppblog/introducing-c-build-insights/">Build Insights</a> is now integrated with Visual Studio 2022! Available in Visual Studio 2022 17.7 Preview 2, Build Insights provides critical information of your development environment. Using the analysis created by Build Insights, you will now have the power to effectively optimize your build times, especially large projects like AAA games. With Build Insights now integrated with Visual Studio, you will be able to capture your ETL trace and see your build analytics from within Visual Studio with only a few clicks. As a first step, you will be able to use the <strong>Include File</strong> and <strong>Include Tree</strong> views to analyze and optimize your #include usage. Additionally, you no longer need to install external components or run vcperf from the command line. Build Insights integration will work for both MSBuild and CMake projects.</p>
<p><div style="text-align:center"><a class="cta_button_link" href="https://visualstudio.microsoft.com/vs/preview" style="text-transform: titlecase; display: inline-block; background-color: #5C2D91; color: white; padding: 10px; margin:10px 0; text-decoration: none;" target="_blank">Download Visual Studio 2022 17.7 Preview 2</a></div></p>
<p>We are deeply grateful to everyone, especially our game developer partners, who shared their feedback on <a href="https://developercommunity.visualstudio.com/t/Have-full-integration-of-Build-Insights/810960">Developer Community</a> and during development of Build Insights. Your invaluable feedback has made all this possible.</p>
<h3 id="getting-started">Getting Started</h3>
<p>Build Insights integration is enabled by default in the Visual Studio Installer. You can find C++ Build Insights in the &#8220;Desktop development with C++&#8221; and &#8220;Game development with C++&#8221; workloads.</p>
<p><figure id="attachment_32382" aria-describedby="caption-attachment-32382" style="width: 300px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2.png"><img decoding="async" class="wp-image-32382 size-medium" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-300x194.png" alt="Find Build Insights in the Desktop Development with C++ Installation Workload" width="300" height="194" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-300x194.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-1024x661.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-768x496.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-1536x991.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-2048x1322.png 2048w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-32382" class="wp-caption-text">Desktop Development with C++ Installation Workload</figcaption></figure></p>
<p><figure id="attachment_32376" aria-describedby="caption-attachment-32376" style="width: 300px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer.png"><img decoding="async" class="wp-image-32376 size-medium" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-300x178.png" alt="Find Build Insights in the Game Development with C++ Installation Workload" width="300" height="178" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-300x178.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-1024x606.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-768x454.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-1536x909.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-2048x1212.png 2048w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-32376" class="wp-caption-text">Game Development with C++ Installation Workload</figcaption></figure></p>
<h3 id="capturing-build-insights-trace">Capturing Build Insights Trace</h3>
<p>To start using Build Insights, first capture a trace by selecting Build from the top menu, followed by either Run Build Insights on Solution, Run Build Insights on [Project_Name], or Run Build Insights on Selection.</p>
<p><figure id="attachment_32399" aria-describedby="caption-attachment-32399" style="width: 300px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790603218.png"><img decoding="async" class="wp-image-32399 size-medium" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200-300x208.png" alt="A picture of the how to start Build Insights. The menu option is located in the Build Menu." width="300" height="208" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200-300x208.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200-1024x711.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200-768x533.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200.png 1043w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-32399" class="wp-caption-text">Build menu for MSBuild projects.</figcaption></figure></p>
<p><figure id="attachment_32397" aria-describedby="caption-attachment-32397" style="width: 300px" class="wp-caption aligncenter"><img decoding="async" class="wp-image-32397 size-medium" style="color: #006f94;" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Screenshot-2023-06-09-104829-300x208.png" alt="A picture of the how to start Build Insights. The menu option is located in the Build Menu. This is different for CMake projects." width="300" height="208" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Screenshot-2023-06-09-104829-300x208.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Screenshot-2023-06-09-104829.png 696w" sizes="(max-width: 300px) 100vw, 300px" /><figcaption id="caption-attachment-32397" class="wp-caption-text">Build menu for CMake projects.</figcaption></figure></p>
<p>&nbsp;</p>
<p>When your build is complete, a trace file will automatically pop up in an Editor Window, providing a visual analysis of your build.</p>
<p>&nbsp;</p>
<p><figure id="attachment_32377" aria-describedby="caption-attachment-32377" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles.png"><img decoding="async" class="wp-image-32377 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1024x399.png" alt="The Included Files view of the Build Insights analysis window" width="640" height="249" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1024x399.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-300x117.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-768x299.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1536x599.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719.png 1850w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32377" class="wp-caption-text">Build Insights analysis window. In this example, it shows the build profile on an open-source project <a href="https://github.com/zaki/irrlicht">Irrlicht</a></figcaption></figure></p>
<p>&nbsp;</p>
<p>To save this trace for future reference, go to &#8216;File&#8217; &gt; &#8216;Save [Trace].etl As&#8230;&#8217;.</p>
<p><figure id="attachment_32387" aria-describedby="caption-attachment-32387" style="width: 262px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/FileMenu-e1686788963245.png"><img decoding="async" class="wp-image-32387 size-medium" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/FileMenu-e1686788963245-262x300.png" alt="You can save the trace in the Visual Studio File Menu" width="262" height="300" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/FileMenu-e1686788963245-262x300.png 262w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/FileMenu-e1686788963245.png 538w" sizes="(max-width: 262px) 100vw, 262px" /></a><figcaption id="caption-attachment-32387" class="wp-caption-text">Visual Studio File Menu</figcaption></figure></p>
<h3 id="parsing-insights-with-included-files-view">Parsing Insights with Included Files View</h3>
<p>In the Included Files View, you&#8217;ll see how each file contributes to the overall build time, determined by the number of times it is parsed. Files that take up 10% or more of the build time will be marked with a flame symbol that indicates priority files for troubleshooting. You can optimize these files using methods like implementing precompiled headers or minimizing unnecessary inclusions. You can refer to this blogpost for a <a href="https://devblogs.microsoft.com/cppblog/faster-builds-with-pch-suggestions-from-c-build-insights/">precompiled header optimization</a>.</p>
<p><figure id="attachment_32377" aria-describedby="caption-attachment-32377" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles.png"><img decoding="async" class="wp-image-32377 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1024x399.png" alt="Image Included Files View" width="640" height="249" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1024x399.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-300x117.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-768x299.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1536x599.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719.png 1850w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32377" class="wp-caption-text">Include Files View: The flame icon indicates that the file might be a bottleneck.</figcaption></figure></p>
<h3 id="diving-deeper-with-include-tree-view">Diving Deeper with Include Tree View</h3>
<p>Include Tree View offers a more granular perspective of your project. It presents the #included hierarchy of all the files in the trace, providing a crystal-clear view of your project&#8217;s structure and highlighting potential areas for improvement. From any view, you can access the selected file by double clicking, pressing enter, or from the context menu of the selected table entry.</p>
<p><figure id="attachment_32391" aria-describedby="caption-attachment-32391" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789145438.png"><img decoding="async" class="wp-image-32391 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414-1024x576.png" alt="A view of the Include Tree in Build Insights Analysis" width="640" height="360" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414-1024x576.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414-300x169.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414-768x432.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414.png 1282w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32391" class="wp-caption-text">Include Tree View: File entries can be expanded to show #included files within that entry.</figcaption></figure></p>
<h3 id="navigation-simplified">Navigation Simplified</h3>
<p>You can navigate to source files by using the context menu, double-clicking, or pressing Enter in any table entry. Also, for those moments when you want to switch your perspective, we added the &#8220;Show in [View]&#8221; option. This functionality enables you to seamlessly transition between the Included Files View and Include Tree View.</p>
<p><figure id="attachment_32394" aria-describedby="caption-attachment-32394" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation.png"><img decoding="async" class="wp-image-32394 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation-1024x528.png" alt="You can right click on a file in the Included Tree view to navigate to source file" width="640" height="330" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation-1024x528.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation-300x155.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation-768x396.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation.png 1123w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32394" class="wp-caption-text">Context Menu: You can navigate to source or go to the associated entry in another view.</figcaption></figure></p>
<h3 id="designed-for-everyone">Designed for Everyone</h3>
<p>One of the main principles guiding the design of Build Insights is the aim to simplify the process of capturing and visualizing information within the same platform. Nevertheless, based on feedback, we know some users still would like to use WPA to go deeper in their investigation. We simplified that workflow by bundling WPA with the C++ workloads and added a button to open the trace directly within Visual Studio.</p>
<p><figure id="attachment_32395" aria-describedby="caption-attachment-32395" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button.png"><img decoding="async" class="wp-image-32395 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button-1024x766.png" alt="Open in WPA button is located on the bottom right corner of the Build Insights Analysis window" width="640" height="479" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button-1024x766.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button-300x224.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button-768x574.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button.png 1264w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32395" class="wp-caption-text">You can open WPA from within the Build Insights analysis window.</figcaption></figure></p>
<h3 id="known-issues">Known Issues</h3>
<p>We are aware of a couple of current issues and are actively working to resolve them in the next Visual Studio previews:</p>
<ol>
<li data-leveltext="%1." data-font="Calibri,Arial,游明朝" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:0,&quot;335559684&quot;:-1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769242&quot;:[65533,0],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;%1.&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="1" data-aria-level="1">Incorrect Flame Icons: For certain projects, especially those with a significant number of parallel tasks, flame icons may erroneously appear for files that don&#8217;t meet the criteria (files taking up 10% or more of the build time).</li>
<li data-leveltext="%1." data-font="Calibri,Arial,游明朝" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:0,&quot;335559684&quot;:-1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769242&quot;:[65533,0],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;%1.&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="1" data-aria-level="1">Empty Project Column: We acknowledge that this is not the intended behavior. We are currently working on a fix.</li>
</ol>
<h3 id="additional-references">Additional References</h3>
<p>To see Build Insights integration in action, please see the following session I recorded for <a href="https://learn.microsoft.com/en-us/events/pure-virtual-cpp-2023/">Pure Virtual C++ Conference 2023</a>.</p>
<p><iframe title="Build Insights in Visual Studio" width="640" height="360" src="https://www.youtube.com/embed/P63jEa85pFg?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></p>
<h3 id="send-us-your-feedback">Send us your feedback!</h3>
<p>We hope Build Insights helps you by providing the critical information needed to optimize your build times and speed up your build iteration time. <a href="https://visualstudio.microsoft.com/vs/preview/">Download the latest preview version of Visual Studio</a> and give it a try.</p>
<p>Please let us know your thoughts and what additional capabilities you’d like to see from this feature next! We are actively developing this feature set and would love to hear what would improve your workflow even more. The comments below are open for us to track any requests. You can also find us on Twitter (<a href="https://twitter.com/visualc">@VisualC</a>) or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>. To open a bug, please see <a href="https://developercommunity.visualstudio.com/report?space=8&amp;entry=problem">Visual Studio Feedback</a>.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/">Build Insights Now Available in Visual Studio 2022</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Pure Virtual C++ Videos Available</title>
		<link>https://devblogs.microsoft.com/cppblog/pure-virtual-cpp-videos-available/</link>
					<comments>https://devblogs.microsoft.com/cppblog/pure-virtual-cpp-videos-available/#respond</comments>
		
		<dc:creator><![CDATA[Sy Brand]]></dc:creator>
		<pubDate>Wed, 14 Jun 2023 15:50:57 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32351</guid>

					<description><![CDATA[<p>All of the videos from our Pure Virtual C++ conference are now available!<br />
You can find them all on YouTube.<br />
Overall we had 18 videos on a wide variety of C++ topics, from Rust/C++ interoperability, to value semantics, to improving compiler errors.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/pure-virtual-cpp-videos-available/">Pure Virtual C++ Videos Available</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>All of the videos from our <a href="https://learn.microsoft.com/en-us/events/learn-events/pure-virtual-c-plus-plus/">Pure Virtual C++ conference</a> are now available!</p>
<p>You can <a href="https://www.youtube.com/playlist?list=PLReL099Y5nRc8Cbb_fodHFQeZ5I4N7KYo">find them all on YouTube</a>.</p>
<p>Overall we had 18 videos on a wide variety of C++ topics, from Rust/C++ interoperability, to value semantics, to improving compiler errors.</p>
<p>Here are the videos for our five live sessions which ran on the day of the conference:</p>
<p><iframe title="YouTube video player" src="https://www.youtube.com/embed/Bi-J1amqFTA" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p><iframe title="YouTube video player" src="https://www.youtube.com/embed/i8_RfDAEjMs" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p><iframe title="YouTube video player" src="https://www.youtube.com/embed/AWZRa3BXEnM" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p><iframe title="YouTube video player" src="https://www.youtube.com/embed/GzBzDW86cwk" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p><iframe title="YouTube video player" src="https://www.youtube.com/embed/fXh2hVsFDso" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/pure-virtual-cpp-videos-available/">Pure Virtual C++ Videos Available</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/pure-virtual-cpp-videos-available/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Automatically Install Windows Subsystem for Linux from Visual Studio using New Seamless Integration</title>
		<link>https://devblogs.microsoft.com/cppblog/automatically-install-windows-subsystem-for-linux-from-visual-studio-using-new-seamless-integration/</link>
					<comments>https://devblogs.microsoft.com/cppblog/automatically-install-windows-subsystem-for-linux-from-visual-studio-using-new-seamless-integration/#comments</comments>
		
		<dc:creator><![CDATA[Sinem Akinci]]></dc:creator>
		<pubDate>Wed, 14 Jun 2023 15:17:31 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[CMake]]></category>
		<category><![CDATA[Linux]]></category>
		<category><![CDATA[New Feature]]></category>
		<category><![CDATA[New User]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32326</guid>

					<description><![CDATA[<p>Have you ever wanted to try using Windows Subsystem for Linux (WSL) to target Linux from your C++ project, but haven’t gone through the documentation or CLI installation process? Now, from Visual Studio with the Linux and Embedded Workload, Visual Studio makes it easier than ever to get to that one-click install of WSL.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/automatically-install-windows-subsystem-for-linux-from-visual-studio-using-new-seamless-integration/">Automatically Install Windows Subsystem for Linux from Visual Studio using New Seamless Integration</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><span class="TextRun SCXW6937026 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun SCXW6937026 BCX8">Have you ever wanted to try using Windows Subsystem for Linux (WSL) to target Linux from your C++ project, but </span><span class="NormalTextRun SCXW6937026 BCX8">haven’t</span><span class="NormalTextRun SCXW6937026 BCX8"> gone through the documentation or </span><span class="NormalTextRun SCXW6937026 BCX8">CLI </span><span class="NormalTextRun SCXW6937026 BCX8">installation process? Now, from Visual Studio with the Linux and Embedded Workload, Visual Studio makes it easier than ever to get to that one-click </span><span class="NormalTextRun SCXW6937026 BCX8">install</span><span class="NormalTextRun SCXW6937026 BCX8"> of WSL. <a href="https://visualstudio.microsoft.com/vs/preview/">Download the latest preview version of Visual Studio</a> and select the Linux and Embedded workload to give it a try!</span></span></p>
<h3 id="how-do-i-start">How do I start?</h3>
<p><span class="TextRun SCXW6937026 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun CommentStart CommentHighlightPipeRest CommentHighlightRest SCXW6937026 BCX8">When you open a </span><span class="NormalTextRun SpellingErrorV2Themed CommentHighlightRest SCXW6937026 BCX8">CMake</span><span class="NormalTextRun CommentHighlightRest SCXW6937026 BCX8"> project that can target Linux</span><span class="NormalTextRun CommentHighlightPipeRest SCXW6937026 BCX8">, a</span><span class="NormalTextRun SCXW6937026 BCX8">n </span><span class="NormalTextRun SpellingErrorV2Themed SCXW6937026 BCX8">info </span><span class="NormalTextRun CommentStart SpellingErrorV2Themed SCXW6937026 BCX8">bar</span><span class="NormalTextRun SCXW6937026 BCX8"> will open for users to click and open a WSL installation process. By default, </span><span class="NormalTextRun CommentStart CommentHighlightPipeRest CommentHighlightRest SCXW6937026 BCX8">it will install a</span><span class="NormalTextRun CommentHighlightRest SCXW6937026 BCX8"> WSL2 Linux VM with the</span><span class="NormalTextRun CommentHighlightRest SCXW6937026 BCX8"> Ubuntu </span><span class="NormalTextRun CommentHighlightRest SCXW6937026 BCX8">distribution</span><span class="NormalTextRun CommentHighlightPipeRest SCXW6937026 BCX8">.</span></span><span class="EOP SCXW6937026 BCX8" data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:278}"> </span><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WSL-gold-bar.png"><img decoding="async" class="size-full wp-image-32327 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WSL-gold-bar.png" alt="Info Bar of prompt for WSL to download in a CMake project" width="750" height="280" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WSL-gold-bar.png 750w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WSL-gold-bar-300x112.png 300w" sizes="(max-width: 750px) 100vw, 750px" /></a></p>
<p>Additionally, you can open the dialog by navigation at any time to Project &gt; Install WSL for me.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installwsl.png"><img decoding="async" class="size-full wp-image-32328 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installwsl.png" alt="Install WSL for me dialog from the Project dropdown." width="750" height="211" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installwsl.png 750w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installwsl-300x84.png 300w" sizes="(max-width: 750px) 100vw, 750px" /></a></p>
<p>If you don&#8217;t have a WSL machine already installed on your machine, an additional option will be available in your Target Machine dropdown to &#8220;Create Linux Environment.&#8221;</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/MicrosoftTeams-image-18.png"><img decoding="async" class="size-full wp-image-32329 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/MicrosoftTeams-image-18.png" alt="Create Linux Environment entry point from the target machine dropdown." width="301" height="185" /></a></p>
<h3 id="what-happens-next">What happens next?</h3>
<p>Once you click one of these options, an installation dialog will pop up. In the installation dialog, it will automatically check the status of pre-requisites on your machine for the installation and populate additional information if anything needs pre-configuring. You can hover over the question mark icon to learn more information about each pre-requisite check. If any pre-requisite fails, you can follow the error information to fix the errors, and then select &#8220;Refresh System Check Values&#8221; to re-run the pre-requisite checks.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/InstallationGuide.png"><img decoding="async" class="size-full wp-image-32330 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/InstallationGuide.png" alt="WSL automatic acquisition installation guide" width="750" height="550" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/InstallationGuide.png 750w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/InstallationGuide-300x220.png 300w" sizes="(max-width: 750px) 100vw, 750px" /></a></p>
<p>After the pre-requisites are run and all pass, the installation process will kick off.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/InstallationGuidev2.png"><img decoding="async" class="size-full wp-image-32331 aligncenter" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/InstallationGuidev2.png" alt="Completed WSL Installation Guide" width="750" height="550" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/InstallationGuidev2.png 750w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/InstallationGuidev2-300x220.png 300w" sizes="(max-width: 750px) 100vw, 750px" /></a></p>
<p>At the end, you can select &#8220;Finish&#8221; and the new WSL machine with build tools downloaded will be selected as the target machine for your existing CMake project.</p>
<h3 id="coming-soon">Coming Soon</h3>
<p>We will be planning on adding additional tutorial content to open the installer, additional information messaging and customization, and the installer will automatically re-open after reboot of machine. Let us know if there’s anything else you’d like to see!</p>
<h3 id="what-do-you-think">What do you think?</h3>
<p>We hope this new WSL acquisition experience will help you install and re-target your applications to WSL. <a href="https://visualstudio.microsoft.com/vs/preview/">Download the latest preview version of Visual Studio</a> and give it a try.</p>
<p>Please let us know your thoughts and if you hit any issues! We are actively developing this feature set and would love to hear what would improve your workflow even more. This feature is still fairly new, so please let us know in the comments below or on <a href="https://developercommunity.visualstudio.com/report?space=8&amp;entry=problem">Visual Studio Feedback</a> if you hit any issues as well. You can also find us on Twitter (<a href="https://twitter.com/visualc">@VisualC</a>) or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/automatically-install-windows-subsystem-for-linux-from-visual-studio-using-new-seamless-integration/">Automatically Install Windows Subsystem for Linux from Visual Studio using New Seamless Integration</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/automatically-install-windows-subsystem-for-linux-from-visual-studio-using-new-seamless-integration/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
			</item>
		<item>
		<title>Improved Doxygen Overload Resolution</title>
		<link>https://devblogs.microsoft.com/cppblog/improved-doxygen-overload-resolution/</link>
					<comments>https://devblogs.microsoft.com/cppblog/improved-doxygen-overload-resolution/#comments</comments>
		
		<dc:creator><![CDATA[Mryam Girmay]]></dc:creator>
		<pubDate>Tue, 13 Jun 2023 21:52:38 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32338</guid>

					<description><![CDATA[<p>We are excited to announce an enhanced Doxygen Comment Support for C++ in Visual Studio 17.7 Preview 2. To start using this feature, ensure to update to the latest version of Visual Studio Preview.  <br />
Improved Doxygen overload resolution <br />
Doxygen comment support has been enhanced to improve the visibility and consistency of shared Doxygen comments across all overloads of a function.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/improved-doxygen-overload-resolution/">Improved Doxygen Overload Resolution</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><span data-contrast="none">We are excited to announce an enhanced Doxygen Comment Support for C++ in <a href="https://visualstudio.microsoft.com/vs/preview/" target="_blank" rel="noopener">Visual Studio 17.7 Preview 2</a>. T</span><span style="font-size: 1rem; text-align: var(--bs-body-text-align);" data-contrast="none">o start using this feature, ensure to update to the latest version of Visual Studio Preview. </span><span style="font-size: 1rem; text-align: var(--bs-body-text-align);" data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"> </span></p>
<p><div style="text-align:center"><a class="cta_button_link" href="https://visualstudio.microsoft.com/vs/preview/" style="text-transform: titlecase; display: inline-block; background-color: #5C2D91; color: white; padding: 10px; margin:10px 0; text-decoration: none;" target="_blank">Download Visual Studio 2022 Preview</a></div></p>
<h3 id="improved-doxygen-overload-resolution"><span class="TextRun SCXW241283891 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW241283891 BCX8" data-ccp-parastyle="heading 1">Improved </span><span class="NormalTextRun SpellingErrorV2Themed SCXW241283891 BCX8" data-ccp-parastyle="heading 1">Doxygen</span><span class="NormalTextRun SCXW241283891 BCX8" data-ccp-parastyle="heading 1"> overload resolution</span></span><span class="EOP SCXW241283891 BCX8" data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:240,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h3>
<p><span class="TextRun SCXW110465108 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SpellingErrorV2Themed SCXW110465108 BCX8">Doxygen</span><span class="NormalTextRun SCXW110465108 BCX8"> comment support has been enhanced to improve the visibility and consistency of shared </span><span class="NormalTextRun SpellingErrorV2Themed SCXW110465108 BCX8">Doxygen</span><span class="NormalTextRun SCXW110465108 BCX8"> comments across all overloads of a function. Previously, these comments were only displayed in Quick Info for the first overload</span><span class="NormalTextRun SCXW110465108 BCX8">,</span><span class="NormalTextRun SCXW110465108 BCX8"> as </span><span class="NormalTextRun SCXW110465108 BCX8">shown </span><span class="NormalTextRun SCXW110465108 BCX8">below</span><span class="NormalTextRun SCXW110465108 BCX8">.</span></span><span class="EOP SCXW110465108 BCX8" data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"> </span></p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Doxygen_Before_Improvement.gif"><img decoding="async" class="aligncenter wp-image-32339" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Doxygen_Before_Improvement.gif" alt="Doxygen Comment Before Improvement" width="412" height="503" /></a><span class="TextRun SCXW169773779 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW169773779 BCX8">W</span><span class="NormalTextRun SCXW169773779 BCX8">ith th</span><span class="NormalTextRun SCXW169773779 BCX8">is feature </span><span class="NormalTextRun SCXW169773779 BCX8">improvement, the shared </span><span class="NormalTextRun SpellingErrorV2Themed SCXW169773779 BCX8">Doxygen</span><span class="NormalTextRun SCXW169773779 BCX8"> comment will now appear in Quick Info of all other overloads as well.</span><span class="NormalTextRun SCXW169773779 BCX8"> This enhancement is </span><span class="NormalTextRun SCXW169773779 BCX8">demonstrated</span><span class="NormalTextRun SCXW169773779 BCX8"> below.</span></span><span class="EOP SCXW169773779 BCX8" data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"> </span></p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Doxygen_After_Improvement.gif"><img decoding="async" class="aligncenter wp-image-32343" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Doxygen_After_Improvement.gif" alt="Doxygen Comment After Improvement" width="421" height="486" /></a><span class="TextRun SCXW170559910 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW170559910 BCX8">In cases where the </span><span class="NormalTextRun SpellingErrorV2Themed SCXW170559910 BCX8">Doxygen</span><span class="NormalTextRun SCXW170559910 BCX8"> comment is not directly positioned above an overload but </span><span class="NormalTextRun SCXW170559910 BCX8">is applicable</span><span class="NormalTextRun SCXW170559910 BCX8"> to that overload, the Quick Info explicitly </span><span class="NormalTextRun SCXW170559910 BCX8">indicates</span><span class="NormalTextRun SCXW170559910 BCX8"> this by including the text &#8220;Documentation from another overload.&#8221; This ensures that you are aware that the information comes from a different overload </span><span class="NormalTextRun SCXW170559910 BCX8">of </span><span class="NormalTextRun SCXW170559910 BCX8">the function.</span></span><span class="EOP SCXW170559910 BCX8" data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"> </span></p>
<p><span class="TextRun SCXW2752033 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW2752033 BCX8">Additionally, the </span><span class="NormalTextRun SpellingErrorV2Themed SCXW2752033 BCX8">Doxygen</span><span class="NormalTextRun SCXW2752033 BCX8"> comment support now </span><span class="NormalTextRun SCXW2752033 BCX8">provides</span><span class="NormalTextRun SCXW2752033 BCX8"> improved visibility for unused parameters. The Quick Info categorizes these unused parameters under the &#8220;Unused Parameters&#8221; section, allowing developers to easily </span><span class="NormalTextRun SCXW2752033 BCX8">identify</span><span class="NormalTextRun SCXW2752033 BCX8"> which parameters are mentioned in the </span><span class="NormalTextRun SpellingErrorV2Themed SCXW2752033 BCX8">Doxygen</span><span class="NormalTextRun SCXW2752033 BCX8"> comment but are not </span><span class="NormalTextRun SCXW2752033 BCX8">utilized</span><span class="NormalTextRun SCXW2752033 BCX8"> in the associated overload. </span></span><span class="EOP SCXW2752033 BCX8" data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"> </span></p>
<h3 id="send-us-your-feedback"><span class="TextRun SCXW244717510 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW244717510 BCX8" data-ccp-parastyle="heading 1">Send us your feedback!</span></span><span class="EOP SCXW244717510 BCX8" data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:240,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h3>
<p><span class="TextRun SCXW212408048 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW212408048 BCX8">Try out </span><span class="NormalTextRun SCXW212408048 BCX8">Improved </span><span class="NormalTextRun SpellingErrorV2Themed SCXW212408048 BCX8">Doxygen</span><span class="NormalTextRun SCXW212408048 BCX8"> Overload Resolution by downloading the <a href="https://visualstudio.microsoft.com/vs/preview/" target="_blank" rel="noopener">latest version of Visual Studio Preview</a>. </span></span><span class="TextRun SCXW212408048 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW212408048 BCX8">We value your feedback, as it </span><span class="NormalTextRun SCXW212408048 BCX8">greatly influences</span><span class="NormalTextRun SCXW212408048 BCX8"> our development. Please share your thoughts in the comments below, on <a href="https://developercommunity.visualstudio.com/cpp" target="_blank" rel="noopener">Developer Community</a></span></span><span class="TextRun SCXW212408048 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW212408048 BCX8">, or reach out to us on Twitter (</span></span><a class="Hyperlink SCXW212408048 BCX8" href="https://twitter.com/visualc" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW212408048 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW212408048 BCX8" data-ccp-charstyle="Hyperlink">@VisualC</span></span></a><span class="TextRun SCXW212408048 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW212408048 BCX8">) or via email at </span></span><a class="Hyperlink SCXW212408048 BCX8" href="mailto:visualcpp@microsoft.com" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW212408048 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW212408048 BCX8" data-ccp-charstyle="Hyperlink">visualcpp@microsoft.com</span></span></a><span class="TextRun SCXW212408048 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW212408048 BCX8">. We highly appreciate your inputs!</span></span></p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/improved-doxygen-overload-resolution/">Improved Doxygen Overload Resolution</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/improved-doxygen-overload-resolution/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
			</item>
		<item>
		<title>MSVC C++23 Update and Pure Virtual C++ Tomorrow!</title>
		<link>https://devblogs.microsoft.com/cppblog/msvc-c23-update-and-pure-virtual-c-tomorrow/</link>
					<comments>https://devblogs.microsoft.com/cppblog/msvc-c23-update-and-pure-virtual-c-tomorrow/#respond</comments>
		
		<dc:creator><![CDATA[Sy Brand]]></dc:creator>
		<pubDate>Mon, 05 Jun 2023 18:10:29 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32295</guid>

					<description><![CDATA[<p>In preparation for Pure Virtual C++ tomorrow Stephan T. Lavavej has made a video update of all we&#8217;ve been working on for conformance in MSVC for C++20 and C++23.<br />
You can sign up for Pure Virtual C++ for free here.<br />
Stephan&#8217;s video is here:</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/msvc-c23-update-and-pure-virtual-c-tomorrow/">MSVC C++23 Update and Pure Virtual C++ Tomorrow!</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>In preparation for Pure Virtual C++ tomorrow Stephan T. Lavavej has made a video update of all we&#8217;ve been working on for conformance in MSVC for C++20 and C++23.</p>
<p>You can <a href="https://learn.microsoft.com/en-us/events/learn-events/Pure-Virtual-C-Plus-Plus/">sign up for Pure Virtual C++ for free here</a>.</p>
<p>Stephan&#8217;s video is here:</p>
<p><iframe title="YouTube video player" src="https://www.youtube.com/embed/Dk_C_E8AtRs" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/msvc-c23-update-and-pure-virtual-c-tomorrow/">MSVC C++23 Update and Pure Virtual C++ Tomorrow!</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/msvc-c23-update-and-pure-virtual-c-tomorrow/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
