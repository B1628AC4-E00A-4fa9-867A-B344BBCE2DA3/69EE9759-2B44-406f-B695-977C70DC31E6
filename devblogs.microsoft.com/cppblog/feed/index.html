<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>C++ Team Blog</title>
	<atom:link href="https://devblogs.microsoft.com/cppblog/feed/" rel="self" type="application/rss+xml" />
	<link>https://devblogs.microsoft.com/cppblog/</link>
	<description>The latest in C++, Visual Studio, VS Code, and vcpkg from the MSFT C++ team</description>
	<lastBuildDate>Tue, 08 Aug 2023 18:09:50 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	

<image>
	<url>https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2018/10/Microsoft-Favicon.png</url>
	<title>C++ Team Blog</title>
	<link>https://devblogs.microsoft.com/cppblog/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>What&#8217;s New for C++ Developers in Visual Studio 2022 17.7</title>
		<link>https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-7/</link>
					<comments>https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-7/#comments</comments>
		
		<dc:creator><![CDATA[Sy Brand]]></dc:creator>
		<pubDate>Tue, 08 Aug 2023 18:09:50 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32686</guid>

					<description><![CDATA[<p>We are happy to announce that Visual Studio 2022 version 17.7 is now generally available! This post summarizes the new features you can find in this release for C++. You can download Visual Studio 2022 from the Visual Studio downloads page or upgrade your existing installation by following the Update Visual Studio Learn page.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-7/">What&#8217;s New for C++ Developers in Visual Studio 2022 17.7</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>We are happy to announce that Visual Studio 2022 version 17.7 is now generally available! This post summarizes the new features you can find in this release for C++. You can download Visual Studio 2022 from the <a href="https://visualstudio.microsoft.com/downloads/" target="_blank" rel="noopener">Visual Studio downloads page </a>or upgrade your existing installation by following the <a href="https://learn.microsoft.com/en-us/visualstudio/install/update-visual-studio?view=vs-2022" target="_blank" rel="noopener">Update Visual Studio Learn page</a>.</p>
<h1 id="core-editor">Core Editor</h1>
<h2 id="comparing-files">Comparing Files</h2>
<p>You no longer need to leave Visual Studio and rely on other tools to compare files. Now you can easily compare any file in Solution Explorer with other files by either:</p>
<ul>
<li>Right-clicking on a single file, selecting “Compare With…” from the context menu which will bring up File Explorer. Navigating to any file on disk and selecting it for comparison.</li>
<li>Multi-selecting two files by holding down <strong>Ctrl</strong> then right-clicking and selecting “Compare Selected” from the context menu.</li>
</ul>
<p><img decoding="async" width="889" height="450" class="wp-image-32687" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-program-description-au.png" alt="A screenshot of a computer program Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-program-description-au.png 889w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-program-description-au-300x152.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-program-description-au-768x389.png 768w" sizes="(max-width: 889px) 100vw, 889px" /></p>
<p>Please share your feedback <a href="https://www.research.net/r/comparefilesga">here</a>.  We’d love to hear your thoughts on this new experience.</p>
<h2 id="copy-and-trim-indentation">Copy and Trim Indentation</h2>
<p>If you have ever copied code from Visual Studio to another application (Outlook, Teams, Slack, etc.) and found that your code indentation has not been copied correctly, you will find that this new capability fixes that for you. Visual Studio now automatically fixes indentation for you when you copy code from Visual Studio and paste it in another application.</p>
<p><img decoding="async" width="815" height="450" class="wp-image-32688" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-screen-description-aut.png" alt="A screenshot of a computer screen Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-screen-description-aut.png 815w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-screen-description-aut-300x166.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-screen-description-aut-768x424.png 768w" sizes="(max-width: 815px) 100vw, 815px" /></p>
<h2 id="parallel-stack-filtering">Parallel Stack Filtering</h2>
<p>You can use the updated Parallel Stack filtering options that let you selectively display or hide specific threads or frames. This means you can easily concentrate on the threads and frames that are important to you, giving you a clearer picture. Additionally, you can now Drag Select frames from the parallel stack window, allowing you to perform operations like copy/paste, flag/unflag, or freeze/thaw for all the selected frames at once.</p>
<p><img decoding="async" width="1770" height="911" class="wp-image-32689" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica.gif" alt="A screenshot of a computer Description automatically generated" /></p>
<h2 id="f5-speed">F5 Speed</h2>
<p>We have optimized Program Database (PDB) files, resulting in improving debugging sessions and decreasing the project selection screen loading time for Unreal projects for example by 21% (~4 sec gain). Additionally, the F5 path is optimized, leading to a 5-10% improvement in the debugger&#8217;s startup time and process launch.</p>
<p><img decoding="async" width="846" height="309" class="wp-image-32690" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-enhanced-f5-speed.png" alt="Image Enhanced F5 Speed" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-enhanced-f5-speed.png 846w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-enhanced-f5-speed-300x110.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-enhanced-f5-speed-768x281.png 768w" sizes="(max-width: 846px) 100vw, 846px" /></p>
<h2 id="all-in-one-search-responsiveness">All-in-One Search Responsiveness</h2>
<p>Several accuracy and performance enhancements are coming to All-in-One Search. For example, exact matches now show higher in the results list and results update more accurately in real time as you type your query.</p>
<p><img decoding="async" width="852" height="504" class="wp-image-32691" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-1.gif" alt="A screenshot of a computer Description automatically generated" /></p>
<p>Try out the All-In-One Search experience by making sure it is enabled in <em>Tools &gt; Manage Preview Features &gt; “New Visual Studio Search experience (restart required)”</em> and using the <strong>Ctrl + T </strong>or the<strong> Ctrl + Q</strong> keyboard shortcut to launch it. If you have feedback to share with us about this feature, let us know <a href="https://www.research.net/r/NHXMMQY">here</a>.</p>
<h2 id="find-in-files-search-time">Find in Files Search Time</h2>
<p>Find in Files search time has been significantly improved with various optimizations, resulting in a 2x speedup.</p>
<p><img decoding="async" width="1600" height="1066" class="wp-image-32692" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-program-description-au.gif" alt="A screenshot of a computer program Description automatically generated" /></p>
<h1 id="game-development">Game Development</h1>
<h2 id="c-build-insights">C++ Build Insights</h2>
<p>Thanks to your <a href="https://developercommunity.visualstudio.com/t/Have-full-integration-of-Build-Insights/810960">feedback</a>, we are happy to announce that <a href="https://devblogs.microsoft.com/cppblog/introducing-c-build-insights/">Build Insights</a> is now integrated with Visual Studio 2022! Build Insights provides you with valuable information needed when optimizing your C++ build times. Start your Build Insights .etl trace capture with a click of a button for your solution or projects. In Visual Studio 17.7, you can now see Included Files and Include Tree view. For advanced profiling, click the “Open in WPA” button to see the trace in Windows Performance Analyzer.</p>
<p><img decoding="async" width="1019" height="481" class="wp-image-32695" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-1.png" alt="A screenshot of a computer Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-1.png 1019w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-1-300x142.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-1-768x363.png 768w" sizes="(max-width: 1019px) 100vw, 1019px" /></p>
<p>After compilation, Build Insights will create a diagnostic report that allows you to see expensive includes and navigate directly to header files. We are committed to continually improving Build Insights. Which additional workflows would you like to see in Build Insights? Let us know in this <a href="https://developercommunity.visualstudio.com/t/Have-full-integration-of-Build-Insights/810960">Developer Community Ticket</a>. See <a href="https://aka.ms/BuildInsightsVS">Build Insights Now Available</a> for more information.</p>
<h2 id="c-unreal-engine-time-to-intellisense">C++ Unreal Engine Time to IntelliSense</h2>
<p>In Unreal Engine projects, the time for IntelliSense and colorization to become ready in newly opened C++ files is significantly reduced. The generation of IntelliSense cache (IPCH) is now 30% faster in Unreal Engine 5.1 and 5.2 projects and 15% faster in Unreal Engine 4.27 projects.</p>
<p><img decoding="async" width="868" height="209" class="wp-image-32693" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica.png" alt="A screenshot of a computer Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica.png 868w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-300x72.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-768x185.png 768w" sizes="(max-width: 868px) 100vw, 868px" /></p>
<h2 id="unreal-engine-macros-formatting-for-c">Unreal Engine Macros Formatting for C++</h2>
<p>We have added an option to use special indentation rules for Unreal Engine macros. Visual Studio will detect and use indentation and formatting rules for your Unreal Engine reflection macros.</p>
<p><img decoding="async" width="660" height="371" class="wp-image-32694" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-unreal-engine-macros-formatting-for-c.png" alt="Image Unreal Engine Macros Formatting for C" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-unreal-engine-macros-formatting-for-c.png 660w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-unreal-engine-macros-formatting-for-c-300x169.png 300w" sizes="(max-width: 660px) 100vw, 660px" /></p>
<p>To turn on Unreal Engine specific formatting, search “Unreal Engine” in Options or go to Tools &gt; Options &gt; Text Editor &gt; C/C++ &gt; Code Style &gt; Formatting &gt; Unreal Engine and check “Apply special formatting for Slate declarative syntax and Unreal Engine reflection macros.”</p>
<h2 id="unreal-engine-naming-convention-checker-for-c">Unreal Engine Naming Convention Checker for C++</h2>
<p>Visual Studio will now give you hints when your symbols are not conformant to the Unreal Engine coding style. After adding <a href="https://aka.ms/uenamingconvention" target="_blank" rel="noopener">an .editorconfig file </a> to your Unreal Engine project, Visual Studio will display naming convention warnings in the Error List and provide a Quick Fix option upon right-clicking.</p>
<p><img decoding="async" width="869" height="490" class="wp-image-32696" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-unreal-engine-naming-convention-checker-for.png" alt="Image Unreal Engine Naming Convention Checker for C" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-unreal-engine-naming-convention-checker-for.png 869w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-unreal-engine-naming-convention-checker-for-300x169.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-unreal-engine-naming-convention-checker-for-768x433.png 768w" sizes="(max-width: 869px) 100vw, 869px" /></p>
<p>To change whether Visual Studio should treat the checks as Warnings or Suggestions, go to Tools &gt; Options &gt; Text Editor &gt; C/C++ &gt; Code Style &gt; Linter and change “Naming Convention (experimental)”.</p>
<h2 id="unreal-engine-blueprint-find-all-references">Unreal Engine Blueprint Find All References</h2>
<p>In this release, you will be able to search for references of <code>UFUNCTION</code>s in Blueprints with the new Blueprint Find All References. The latest version of our Unreal Engine plugin <a href="http://aka.ms/vsuemarketplace">“Visual Studio Integration Tool”</a> is required.</p>
<p><em><img decoding="async" width="1202" height="367" class="wp-image-32699" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-2.png" alt="A screenshot of a computer Description automatically generated" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-2.png 1202w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-2-300x92.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-2-1024x313.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-description-automatica-2-768x234.png 768w" sizes="(max-width: 1202px) 100vw, 1202px" /></em></p>
<h2 id="improved-doxygen-overload-resolution">Improved Doxygen overload resolution</h2>
<p>Support for Doxygen comments has been enhanced, allowing the display of shared Doxygen comments in overloads that are not directly positioned beneath the comments. Furthermore, to enhance clarity and organization, any parameters that are unused will be conveniently grouped under the heading “Unused Parameter.” See <a href="https://devblogs.microsoft.com/cppblog/improved-doxygen-overload-resolution/">Improved Doxygen Overload Resolution</a> to learn more about this feature.</p>
<p><img decoding="async" width="864" height="419" class="wp-image-32697" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-improved-doxygen-overload-resolution.png" alt="Image Improved Doxygen overload resolution" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-improved-doxygen-overload-resolution.png 864w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-improved-doxygen-overload-resolution-300x145.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-improved-doxygen-overload-resolution-768x372.png 768w" sizes="(max-width: 864px) 100vw, 864px" /></p>
<h2 id="visualize-macro-expansion-for-c">Visualize Macro Expansion for C++</h2>
<p>Visual Studio now enables you to observe the step-by-step expansion of macros. When hovering over a macro, a tooltip with a new &#8220;Visualize Macro&#8221; option shows up. Clicking on &#8220;Visualize Macro&#8221; opens a new window displaying the initial expansion of the macro. With the help of arrows, you can navigate through each expansion step. Clicking the window tool button will display the steps of the expansion in a different window. See <a href="https://devblogs.microsoft.com/cppblog/visualize-macro-expansion-for-c/">Visualize Macro Expansion for C++</a> to learn more about this feature.</p>
<p><img decoding="async" width="911" height="468" class="wp-image-32698" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/a-screenshot-of-a-computer-program-description-au-1.gif" alt="A screenshot of a computer program Description automatically generated" /></p>
<h1 id="linux-and-embedded-development">Linux and Embedded Development</h1>
<h2 id="wsl-automatic-acquisition">WSL Automatic Acquisition</h2>
<p>With the Linux and Embedded Workload, Visual Studio now makes it easier than ever to get to that one-click download of WSL. When you open a CMake project that can target Linux, a gold bar will open for users to click and open a WSL installation process. By default, it will install an Ubuntu machine. Additionally, you can open the dialog by navigation to <strong>Project &gt; Install WSL For Me</strong>.</p>
<p><img decoding="async" width="1100" height="410" class="wp-image-32700" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-wsl-automatic-acquisition.png" alt="Image WSL Automatic Acquisition" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-wsl-automatic-acquisition.png 1100w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-wsl-automatic-acquisition-300x112.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-wsl-automatic-acquisition-1024x382.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/08/image-wsl-automatic-acquisition-768x286.png 768w" sizes="(max-width: 1100px) 100vw, 1100px" /></p>
<h2 id="remote-file-explorer-updates">Remote File Explorer Updates</h2>
<p>We have added search capability to the Remote File Explorer. You are now able to search for files based on where you are in your remote machine along the top bar, and then right-click to go to any found file’s location. To open the Remote File Explorer, navigate to <strong>View &gt; Remote File Explorer</strong> after downloading it with the Linux and Embedded Workflow in Visual Studio.</p>
<h1 id="enterprise-management-and-acquisition">Enterprise Management and Acquisition</h1>
<h2 id="ability-for-standard-users-to-update-and-modify-visual-studio">Ability for standard users to update and modify Visual Studio</h2>
<p>Many enterprises spend a great deal of time and effort keeping their organization secure. They follow best practices by configuring users and machines to have a minimum level of access permissions, and they invest a lot of energy in keeping their organization’s software updated.</p>
<p>When organizations do restrict user permissions, it compromises their ability to keep Visual Studio updated and secure. The Visual Studio installer requires administrator permissions to use, but when users don’t have this level of access, they are prevented from updating Visual Studio and acquiring the latest security fixes and features. This problem was one of our <a href="https://developercommunity.visualstudio.com/t/Allow-Visual-Studio-to-install-without-a/640424">top developer community reported issues</a>.</p>
<p>We’re happy to announce that starting with the 17.7 installer, standard users with minimized permissions can now update and modify Visual Studio! The initial bootstrapping and policy configuration to enable this must still be done by an administrator, but after that, any installer functionality can be initiated and executed by a non-administrator user.</p>
<p>This feature will offer organizations more flexibility and make it easier for you to configure and maintain a secure and productive environment.</p>
<h2 id="rollback-now-preserves-all-user-settings">Rollback now preserves all user settings</h2>
<p>We continue to make improvements to our recently shipped feature that gives you the option to &#8220;rollback an update&#8221;. If you now roll back to a version 17.7 or higher, all your local customizations such as user settings will be preserved. For more information, please visit the <a href="https://aka.ms/vs/rollback">Rollback blogpost.</a></p>
<h1 id="send-us-your-feedback">Send us your feedback</h1>
<p>We are very much interested in your feedback to continue to improve this experience. The comments below are open. Feedback can also be shared through the <a href="https://developercommunity.visualstudio.com/cpp" target="_blank" rel="noopener">Developer Community</a>. You can also reach us on Twitter (<a href="https://twitter.com/visualc" target="_blank" rel="noopener">@VisualC</a>), or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-7/">What&#8217;s New for C++ Developers in Visual Studio 2022 17.7</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/whats-new-for-c-developers-in-visual-studio-2022-17-7/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>vcpkg 2023.06.20 and 2023.07.21 Releases: GitHub Dependency Graph Support, Android Tested Triplets, Xbox Triplet Improvements, and More…</title>
		<link>https://devblogs.microsoft.com/cppblog/vcpkg-2023-06-20-and-2023-07-21-releases-github-dependency-graph-support-android-tested-triplets-xbox-triplet-improvements-and-more/</link>
					<comments>https://devblogs.microsoft.com/cppblog/vcpkg-2023-06-20-and-2023-07-21-releases-github-dependency-graph-support-android-tested-triplets-xbox-triplet-improvements-and-more/#comments</comments>
		
		<dc:creator><![CDATA[Augustin Popa]]></dc:creator>
		<pubDate>Mon, 31 Jul 2023 21:27:12 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32654</guid>

					<description><![CDATA[<p>The 2023.07.21 release of the vcpkg package manager is available. This blog post summarizes changes from April 16th, 2023 to July 21th, 2023 for the Microsoft/vcpkg, Microsoft/vcpkg-tool, and Microsoft/vcpkg-docs GitHub repos.<br />
Some stats for this period:</p>
<p>59 new ports were added to the open-source registry.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/vcpkg-2023-06-20-and-2023-07-21-releases-github-dependency-graph-support-android-tested-triplets-xbox-triplet-improvements-and-more/">vcpkg 2023.06.20 and 2023.07.21 Releases: GitHub Dependency Graph Support, Android Tested Triplets, Xbox Triplet Improvements, and More…</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>The <a href="https://github.com/microsoft/vcpkg/releases/tag/2023.07.21">2023.07.21 release of the vcpkg package manager is available</a>. This blog post summarizes changes from April 16<sup>th</sup>, 2023 to July 21<sup>th</sup>, 2023 for the <a href="https://github.com/microsoft/vcpkg">Microsoft/vcpkg</a>, <a href="https://github.com/microsoft/vcpkg-tool/">Microsoft/vcpkg-tool</a>, and <a href="https://github.com/microsoft/vcpkg-docs">Microsoft/vcpkg-docs</a> GitHub repos.</p>
<p>Some stats for this period:</p>
<ul>
<li><strong>59 new ports</strong> were added to the open-source registry. If you are unfamiliar with the term ‘port’, they are packages that are built from source and are typically C/C++ libraries.</li>
<li><strong>976 updates</strong> were made to existing ports. As always, we validate each change to a port by building all other ports that depend on or are depended by the library that is being updated for our nine main triplets.</li>
<li>There are now <strong>2,249 total libraries</strong> available in the vcpkg public registry.</li>
<li><strong>87 contributors</strong> submitted PRs, issues, or participated in discussions in the repo.</li>
<li>The main vcpkg repo has over <strong>5,500 forks</strong> and <strong>19,300 stars</strong> on GitHub.</li>
</ul>
<p>&nbsp;</p>
<h3 id="notable-changes">Notable Changes</h3>
<p>Notable changes for this release are summarized below:</p>
<p>&nbsp;</p>
<h4 id="github-dependency-graph-api">GitHub Dependency Graph API</h4>
<p>In June, we announced <a href="https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/">vcpkg integration with the GitHub dependency graph</a>. This is available for all vcpkg users on the 2023.07.21 release. If you are a GitHub user, we highly recommend checking it out to visualize your repo’s dependencies. We will continue building on this integration in the future and are looking for feedback!</p>
<p>PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/989">Microsoft/vcpkg-tool/#989</a></p>
<p>&nbsp;</p>
<h4 id="android-tested-triplets">Android Tested Triplets</h4>
<p>We have promoted several Android community triplets to tested triplets. This means they are now tested and validated on all port changes (as of the 2023.06.20 release) and will be listed in the tested triplets table in each release.</p>
<p>The new Android tested triplets are:</p>
<ul>
<li>arm-neon-android</li>
<li>x64-android</li>
<li>arm64-android</li>
</ul>
<p>PR: <a href="https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fvcpkg%2Fpull%2F29406&amp;data=05%7C01%7Caupopa%40microsoft.com%7C11f49afebf17421bd3af08db916b7f41%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638263663133670734%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=okWoWuhFKIDx8NwP9MAxHJLIwykfb%2BbtrAjCwh4BmSs%3D&amp;reserved=0">Microsoft/vcpkg/#29406</a></p>
<p>&nbsp;</p>
<h4 id="xbox-triplet-improvements">Xbox Triplet Improvements</h4>
<p>In a previous release, community triplets were released for vcpkg users wishing to target Xbox. In this release, several improvements were made to this experience:</p>
<ul>
<li>Added a post build check that libraries don’t link with kernel32, as Xbox does not have kernel32.</li>
<li><code>GameDKLatest</code>is now included in binary cache keys. Xbox triplets require the user of the GameDK, GRDK, and GXDK headers which are supplied through external environment variables. With this change, binary caching will track the version of these dependencies for the purpose of determining when a binary can be restored without re-building.</li>
<li>Improvements to triplet selection and turning on the <em>xbox</em> identifier.</li>
</ul>
<p>PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1059">Microsoft/vcpkg-tool#1059</a></p>
<p>&nbsp;</p>
<h4 id="updates-to-depend-info-command">Updates to depend-info Command</h4>
<p><code>vcpkg depend-info</code>displays all transitive dependencies for a package in several formats, including plain text, DGML, DOT, etc. This feature can be useful to gain a better understanding of a package’s dependency graph. A user contribution recently added the Mermaid format as an additional option. Furthermore, we made some changes to the way depend-info is used by moving the display options under a common <code>--format</code> subcommand. We believe this layout will make it easier to scale this feature in the future if we add further formatting styles. For more details on how to use depend-info after these changes, see our <a href="https://learn.microsoft.com/en-us/vcpkg/commands/depend-info">vcpkg depend-info documentation</a>.</p>
<p>PRs: <a href="https://github.com/microsoft/vcpkg-tool/pull/1080">Microsoft/vcpkg-tool/#1080</a>, <a href="https://github.com/microsoft/vcpkg-tool/pull/935">Microsoft/vcpkg-tool/#935</a> (thanks @WimLefrere!)</p>
<p>&nbsp;</p>
<h4 id="allow-vcpkg-remove-export-and-x-package-info-without-overlay-triplets">Allow vcpkg remove, export, and x-package-info without overlay triplets</h4>
<p>In cases where a vcpkg user creates and manages <a href="https://learn.microsoft.com/en-us/vcpkg/users/triplets#adding-or-replacing-triplets">overlay triplets</a>, the commands vcpkg remove, export, and x-package-info can now be run without having to specify those overlay triplets every time. This was extra information that the commands don’t need in order to run successfully.</p>
<p>&nbsp;</p>
<p><strong>Previous behavior (example): </strong></p>
<pre class="prettyprint language-default"><code class="language-default">vcpkg install --overlay-triplets a-directory-containing-triplets zlib:my-custom-triplet</code></pre>
<p>Runs without issues.</p>
<pre class="prettyprint language-default"><code class="language-default">vcpkg remove zlib:my-custom-triplet</code></pre>
<p>Throws an error, vcpkg doesn’t know what my-custom-triplet is.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Picture1.png"><img decoding="async" class="alignnone size-full wp-image-32655" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Picture1.png" alt="vcpkg.exe remove zlib:my-custom-triplet example" width="720" height="270" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Picture1.png 720w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Picture1-300x113.png 300w" sizes="(max-width: 720px) 100vw, 720px" /></a></p>
<p>Instead, you previously had to say:</p>
<pre class="prettyprint language-default"><code class="language-default">vcpkg remove --overlay-triplets a-directory-containing-triplets zlib:my-custom-triplet</code></pre>
<p>&nbsp;</p>
<p><strong>New behavior (example): </strong></p>
<pre class="prettyprint language-default"><code class="language-default">vcpkg install --overlay-triplets a-directory-containing-triplets zlib:my-custom-triplet

vcpkg remove zlib:my-custom-triplet</code></pre>
<p>Both commands should run successfully.
<a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Picture2.png"><img decoding="async" class="alignnone size-full wp-image-32656" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Picture2.png" alt="vcpkg remove zlib:my-custom-triplet example" width="720" height="271" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Picture2.png 720w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Picture2-300x113.png 300w" sizes="(max-width: 720px) 100vw, 720px" /></a></p>
<p>PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1110">Microsoft/vcpkg-tool/#1110</a></p>
<p>&nbsp;</p>
<h4 id="overrides-can-select-ports-that-are-no-longer-in-the-baseline">Overrides Can Select Ports That Are No Longer in the Baseline</h4>
<p>It is now possible to <a href="https://learn.microsoft.com/en-us/vcpkg/users/versioning#overrides">override</a> ports that aren’t available in the <a href="https://learn.microsoft.com/en-us/vcpkg/users/versioning#baselines">baseline</a> in a vcpkg.json file. While very rare with ports in the vcpkg open-source registry, it is possible for a port to be removed from a more recent baseline if it stops being compatible with the rest of the catalog and is no longer being maintained to stop breaking other ports. Previously, it was impossible to reference one of these archived ports in a more recent vcpkg installation using port versioning features. Now, you can use overrides to bring in the port and version that you want even if it isn’t in the current baseline.</p>
<p>PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1109">Microsoft/vcpkg-tool/#1109</a></p>
<p>&nbsp;</p>
<h3 id="documentation-changes">Documentation Changes</h3>
<ul>
<li>Documentation for binary caching using GitHub Actions cache (<a href="https://github.com/microsoft/vcpkg-docs/pull/45">PR: Microsoft/vcpkg-docs#45</a>, thanks quyykk!)</li>
<li>Improvements to Android targeting documentation (<a href="https://github.com/microsoft/vcpkg-docs/pull/62">PR: Microsoft/vcpkg-docs#62</a>)</li>
<li>Rewrote manifest mode CMake example to not use classic mode (<a href="https://github.com/microsoft/vcpkg-docs/pull/66">PR: Microsoft/vcpkg-docs#66</a>)</li>
<li>Added CMake Presets to the CMake integration docs (<a href="https://github.com/microsoft/vcpkg-docs/pull/71">PR: Microsoft/vcpkg-docs#71</a>)</li>
<li>Rewrote asset caching x-script example (<a href="https://github.com/microsoft/vcpkg-docs/pull/78">PR: Microsoft/vcpkg-docs#78</a>)</li>
<li>Initial documentation for GitHub dependency graph integration (<a href="https://github.com/microsoft/vcpkg-docs/pull/86">PR: Microsoft/vcpkg-docs#86</a>)</li>
<li>Updated depend-info for &#8211;format (<a href="https://github.com/microsoft/vcpkg-docs/pull/89">PR: Microsoft/vcpkg-docs#89</a>)</li>
<li>Updated depend-info documentation with mermaid support and format changes (<a href="https://github.com/microsoft/vcpkg-docs/pull/91">PR: Microsoft/vcpkg-docs#91</a>, thanks @WimLefrere!)</li>
<li>Several other minor documentation fixes.</li>
</ul>
<p>&nbsp;</p>
<h3 id="bug-fixes-performance-improvements">Bug Fixes / Performance Improvements</h3>
<ul>
<li>Cleaned up error message when attempting vcpkg upgrade in manifest mode (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1066">Microsoft/vcpkg-tool#1066</a>, thanks @autoantwort!).</li>
<li>When vcpkg install runs, elapsed time will now be shown even if there was a build failure (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1098">Microsoft/vcpkg-tool#1098</a>, thanks @autoantwort!).</li>
<li>Fixed a regression with binary caching where it wouldn’t restore packages correctly if vcpkg upgrade was run in the past (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1083">Microsoft/vcpkg-tool/#1083</a>).</li>
<li>When a port gets installed, hard links are now created to the relevant files in the Packages directory where possible to save disk space and disk R/W operations. Previously, a copy of the files was made every time, now it’s a fallback mechanism (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1076">Microsoft/vcpkg-tool/#1076</a>, thanks @autoantwort!).</li>
<li>Fixed a regression causing the integrate install command to have to be run twice in certain situations to get past an error message (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1033">Microsoft/vcpkg-tool/#1033</a>, thanks @dubejf!).</li>
<li>Android hosts now use the android triplet by default (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1114">Microsoft/vcpkg-tool#1114</a>, thanks funsafe-ptr!).</li>
<li>Fixed some issues with integrate install for some users targeting Visual Studio 2017 or later (PR: <a href="https://github.com/microsoft/vcpkg-tool/pull/1034">Microsoft/vcpkg-tool/#1034</a>, thanks dubejf!).</li>
<li>Other minor bug and crash fixes.</li>
</ul>
<p>&nbsp;</p>
<h3 id="total-ports-available-for-tested-triplets">Total Ports Available for Tested Triplets</h3>
<table style="width: 14.889%;" width="258">
<tbody>
<tr>
<td style="width: 62.8788%;" width="163"><strong>triplet</strong></td>
<td style="width: 48.5505%;" width="95"><strong>ports available</strong></td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">x64-windows</td>
<td style="width: 48.5505%;" width="95">2,100</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">x86-windows</td>
<td style="width: 48.5505%;" width="95">2,028</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">x64-windows-static</td>
<td style="width: 48.5505%;" width="95">1,996</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">x64-windows-static-md</td>
<td style="width: 48.5505%;" width="95">2,010</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">arm64-windows</td>
<td style="width: 48.5505%;" width="95">1,682</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">x64-uwp</td>
<td style="width: 48.5505%;" width="95">1,151</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">arm-uwp</td>
<td style="width: 48.5505%;" width="95">1,100</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">x64-linux</td>
<td style="width: 48.5505%;" width="95">2,050</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">x64-osx</td>
<td style="width: 48.5505%;" width="95">1,965</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">arm-neon-android</td>
<td style="width: 48.5505%;" width="95">1,399</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">x64-android</td>
<td style="width: 48.5505%;" width="95">1,466</td>
</tr>
<tr>
<td style="width: 62.8788%;" width="163">arm64-android</td>
<td style="width: 48.5505%;" width="95">1,419</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>While vcpkg supports a much larger variety of target platforms and architectures, the list above is validated exhaustively to ensure updated ports don’t break other ports in the catalog.</p>
<p>&nbsp;</p>
<h3 id="thank-you-to-our-contributors">Thank You to Our Contributors</h3>
<p>vcpkg couldn’t be where it is today without contributions from our open-source community. Thank you for your continued support! The following people contributed to the vcpkg, vcpkg-tool, or vcpkg-docs repos in this release:</p>
<ul>
<li>dg0yt (70 commits)</li>
<li>autoantwort (66 commits)</li>
<li>RT2Code (13 commits)</li>
<li>jiayuehua (13 commits)</li>
<li>SchaichAlonso (12 commits)</li>
<li>Neumann-A (12 commits)</li>
<li>AenBleidd (11 commits)</li>
<li>myd7349 (10 commits)</li>
<li>Osyotr (9 commits)</li>
<li>FtZPetruska (9 commits)</li>
<li>Pospelove (8 commits)</li>
<li>xiaozhuai (8 commits)</li>
<li>chausner (5 commits)</li>
<li>coryan (5 commits)</li>
<li>JackBoosY (5 commits)</li>
<li>jacobkahn (4 commits)</li>
<li>BurningEnlightenment (4 commits)</li>
<li>WimLefrere (4 commits)</li>
<li>talregev (3 commits)</li>
<li>eao197 (3 commits)</li>
<li>traversaro (3 commits)</li>
<li>funsafeptr (3 commits)</li>
<li>dubejf (3 commits)</li>
<li>Thomas1664 (3 commits)</li>
<li>horenmar (2 commits)</li>
<li>ZeeWanderer (2 commits)</li>
<li>ex-purple (2 commits)</li>
<li>yurybura (2 commits)</li>
<li>danielaparker (2 commits)</li>
<li>m-kuhn (2 commits)</li>
<li>jwillemsen (1 commit)</li>
<li>Ryan-rsm-McKenzie (1 commit)</li>
<li>mathisloge (1 commit)</li>
<li>daschuer (1 commit)</li>
<li>wravery (1 commit)</li>
<li>bold84 (1 commit)</li>
<li>quyykk (1 commit)</li>
<li>davisp (1 commit)</li>
</ul>
<p>&nbsp;</p>
<h3 id="is-your-company-looking-for-a-better-c-c-dependency-management-experience">Is your company looking for a better C/C++ dependency management experience?</h3>
<p>We are partnering with companies to help them get started with vcpkg and overcome any initial hurdles. We have also been making product and documentation changes based on feedback we receive from these partnerships. If you are interested in trying out vcpkg or just have some thoughts to share with us, feel free to reach out at <a href="mailto:vcpkg@microsoft.com">vcpkg@microsoft.com</a>.</p>
<p>&nbsp;</p>
<h3 id="learn-more">Learn More</h3>
<p>You can find the <a href="https://github.com/microsoft/vcpkg/releases/tag/2023.07.21">full 2023.07.21 release notes on GitHub</a> for the main repo. Recent updates to the vcpkg tool can be viewed on the <a href="https://github.com/microsoft/vcpkg-tool/releases">vcpkg-tool Releases page</a>. To contribute to documentation, visit the <a href="https://github.com/microsoft/vcpkg-docs">vcpkg-docs repo</a>. If you’re new to vcpkg or curious about how a package manager can make your life easier as a C/C++ developer, check out the <a href="https://vcpkg.io/en/index.html">vcpkg website – vcpkg.io</a>.</p>
<p>If you would like to contribute to vcpkg and its library catalog, or want to give us feedback on anything, check out our <a href="https://github.com/microsoft/vcpkg">GitHub repo</a>. Please report bugs or request updates to ports in our <a href="https://github.com/microsoft/vcpkg/issues">issue tracker</a> or join more general discussion in our <a href="https://github.com/microsoft/vcpkg/discussions">discussion forum</a>.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/vcpkg-2023-06-20-and-2023-07-21-releases-github-dependency-graph-support-android-tested-triplets-xbox-triplet-improvements-and-more/">vcpkg 2023.06.20 and 2023.07.21 Releases: GitHub Dependency Graph Support, Android Tested Triplets, Xbox Triplet Improvements, and More…</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/vcpkg-2023-06-20-and-2023-07-21-releases-github-dependency-graph-support-android-tested-triplets-xbox-triplet-improvements-and-more/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Partnering with The Coalition to Bring Unreal Engine Find All Blueprint References to Visual Studio 2022</title>
		<link>https://devblogs.microsoft.com/cppblog/partnering-with-the-coalition/</link>
					<comments>https://devblogs.microsoft.com/cppblog/partnering-with-the-coalition/#respond</comments>
		
		<dc:creator><![CDATA[David Li]]></dc:creator>
		<pubDate>Thu, 20 Jul 2023 16:00:43 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Game Development]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32535</guid>

					<description><![CDATA[<p>Introduction</p>
<p>We are thrilled to bring you the 3rd batch of exciting Unreal Engine integrations in Visual Studio 2022! Since our initial announcements, our team has been hard at work building additional integrations based on your invaluable feedback. Recently, we have been working closely with our partners at The Coalition.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/partnering-with-the-coalition/">Partnering with The Coalition to Bring Unreal Engine Find All Blueprint References to Visual Studio 2022</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ueannouncementp3_s-scaled.jpg"><img decoding="async" class="aligncenter size-full wp-image-32611" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ueannouncementp3_s-scaled.jpg" alt="screenshot of gears 5 with unreal engine and visual studio logos" width="2500" height="1406" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ueannouncementp3_s-scaled.jpg 2500w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ueannouncementp3_s-300x169.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ueannouncementp3_s-1024x576.jpg 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ueannouncementp3_s-768x432.jpg 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ueannouncementp3_s-1536x864.jpg 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ueannouncementp3_s-2048x1152.jpg 2048w" sizes="(max-width: 2500px) 100vw, 2500px" /></a></p>
<p>We are thrilled to bring you the 3rd batch of exciting Unreal Engine integrations in Visual Studio 2022! Since our initial announcements, our team has been hard at work building additional integrations based on your invaluable feedback. Recently, we have been working closely with our partners at <strong>The Coalition</strong>. Their work on the popular <strong>Gears of War</strong> franchise inspired us to ship a new feature that allows you to search for Blueprint UFUNCTION references. Today, we are excited to unveil additional performance improvements and a host of new features that will take your game development productivity to new heights.</p>
<p>In this article, we will explore how you can check whether your code follows UE Naming Convention, apply special indentation rules for UE Macros, and see how Find All Blueprint References works! In addition, we will share a list of valuable productivity features that will benefit all C++ developers. All these powerful features and performance improvements are available in the latest Visual Studio 2022 17.7 Preview 2.</p>
<blockquote><p>“It’s awesome to be able to partner and collaborate with the Visual Studio team on features such as ‘Find All Blueprint References’ as it brings great value not only to our development team but anyone using the Unreal Engine. Additions like this show that the Visual Studio team not only listen to the gaming community but are also actively working to make iteration in engines like Unreal better than ever.”</p>
<p>&#8211; Phil Cousins, Tech Director, The Coalition</p></blockquote>
<p><div style="text-align:center"><a class="cta_button_link" href="https://visualstudio.microsoft.com/vs/preview" style="text-transform: titlecase; display: inline-block; background-color: #5C2D91; color: white; padding: 10px; margin:10px 0; text-decoration: none;" target="_blank">Download Visual Studio 2022 17.7 Preview 2</a></div></p>
<h2 id="using-unreal-engine-integrations">Using Unreal Engine Integrations</h2>
<p>Unreal Engine integrations will only show up when you are working on an Unreal Engine project. To ensure these features are active, double check that “IDE support for Unreal Engine” component is enabled in the “Game development for C++” workload in the VS Installer.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/05/vc5.png"><img decoding="async" class="aligncenter size-full wp-image-32184" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/05/vc5.png" alt="A list of components in the VS installer. Ensure IDE support for Unreal Engine is selected" width="618" height="629" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/05/vc5.png 618w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/05/vc5-295x300.png 295w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/05/vc5-24x24.png 24w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/05/vc5-48x48.png 48w" sizes="(max-width: 618px) 100vw, 618px" /></a></p>
<p>&nbsp;</p>
<h2 id="unreal-engine-blueprint-find-all-references">Unreal Engine Blueprint Find All References</h2>
<p>Get ready to level up your Blueprints workflow! Available now, you can easily search for UFUNCTION references from within Visual Studio. Start by right clicking on the symbol and click “Find All Blueprint References”.</p>
<p>&nbsp;</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-entry-1.png"><img decoding="async" class="aligncenter size-full wp-image-32625" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-entry-1.png" alt="Image uebpfar entry" width="1980" height="663" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-entry-1.png 1980w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-entry-1-300x100.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-entry-1-1024x343.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-entry-1-768x257.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-entry-1-1536x514.png 1536w" sizes="(max-width: 1980px) 100vw, 1980px" /></a></p>
<p>After the search is completed, you will be able to view the references of UFUNCTIONs and perform filtering or grouping actions.</p>
<p>&nbsp;</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-example.png"><img decoding="async" class="aligncenter size-full wp-image-32540" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-example.png" alt="An example output of the UE blueprint find all refereces." width="1176" height="662" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-example.png 1176w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-example-300x169.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-example-1024x576.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebpfar-example-768x432.png 768w" sizes="(max-width: 1176px) 100vw, 1176px" /></a></p>
<p>The <strong>latest</strong> version of our Unreal Engine plugin &#8220;Visual Studio Integration Tool&#8221; from the Unreal Engine <a href="https://aka.ms/vsuemarketplace" target="_blank" rel="noopener noreferrer">Marketplace</a> or <a href="https://aka.ms/vsuegithub" target="_blank" rel="noopener noreferrer">GitHub</a> is required.</p>
<p>&nbsp;</p>
<h2 id="code-analysis-for-unreal-engine-naming-convention-checker">Code Analysis for Unreal Engine: Naming Convention Checker</h2>
<p>Visual Studio will now help you keep your code conformant to the Unreal Engine Naming Convention. By adding a <a href="https://aka.ms/uenamingconvention">.editorconfig file</a> to your project at the solution root level, you will receive real-time hints in the Error List window when your symbols do not match the UE naming convention. In addition, Quick Fixes are available at your fingertips for an easy resolution.</p>
<p>&nbsp;</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-example.png"><img decoding="async" class="aligncenter size-full wp-image-32541" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-example.png" alt="A quick fix showing ue naming convention suggestion" width="1861" height="1047" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-example.png 1861w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-example-300x169.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-example-1024x576.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-example-768x432.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-example-1536x864.png 1536w" sizes="(max-width: 1861px) 100vw, 1861px" /></a></p>
<p>While this results from Unreal Engine developer feedback, the feature is not specific to Unreal Engine. You can <a href="https://learn.microsoft.com/en-us/visualstudio/ide/cpp-editorconfig-properties">customize your own .editorconfig</a> file for Visual Studio for your general C++ project. More information is coming at a later date, please use the UE .editorconfig as a template for now.</p>
<p>This feature is on-by-default. To change whether Visual Studio should treat the checks as Warnings or Suggestions, go to Tools &gt; Options &gt; Text Editor &gt; C/C++ &gt; Code Style &gt; Linter and change &#8220;Naming Convention (experimental)&#8221;.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-settings.png"><img decoding="async" class="aligncenter size-full wp-image-32542" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-settings.png" alt="A Options page allowing to change the severity level of UE naming convention" width="1372" height="909" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-settings.png 1372w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-settings-300x199.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-settings-1024x678.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-naming-settings-768x509.png 768w" sizes="(max-width: 1372px) 100vw, 1372px" /></a></p>
<p>&nbsp;</p>
<h2 id="special-macro-indentation-rules-for-unreal-engine">Special Macro Indentation Rules for Unreal Engine</h2>
<p>We’ve listened to your <a href="https://developercommunity.visualstudio.com/t/Auto-indentation-with-Unreal-Engine---C/10155238">feedback</a> and added special indentation rules for UE Macros and Slate Declarative syntax. Visual Studio will now apply formatting rules in your Unreal Engine Projects.</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-macro-format-example.png"><img decoding="async" class="aligncenter size-full wp-image-32543" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-macro-format-example.png" alt="An example of proper UE style indentation in VS" width="1061" height="596" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-macro-format-example.png 1061w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-macro-format-example-300x169.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-macro-format-example-1024x575.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/ue-macro-format-example-768x431.png 768w" sizes="(max-width: 1061px) 100vw, 1061px" /></a></p>
<p>This feature is on-by-default. To verify Unreal Engine specific formatting is enabled, search &#8220;Unreal Engine&#8221; in Options or go to Tools -&gt; Options -&gt; Text Editor -&gt; C/C++ -&gt; Code Style -&gt; Formatting -&gt; Unreal Engine and check &#8220;Apply special formatting for Slate declarative syntax and Unreal Engine reflection macros.&#8221;</p>
<p>Visual Studio will properly indent code on lines after reflection macros and use special rules for the Slate declarative syntax.</p>
<p>&nbsp;</p>
<h2 id="improved-doxygen-comments-support-for-unreal-engine">Improved Doxygen Comments Support for Unreal Engine</h2>
<p>We have added additional support for Doxygen Comments that exposes descriptions that are shared for all overloads of a function. When hovering over an overloaded function, you will now see Quick Info display descriptions written in the Doxygen Comment. This feature is especially helpful for you in Unreal Engine development where you may encounter many of these overloaded functions. To learn more, please visit this <a href="https://devblogs.microsoft.com/cppblog/improved-doxygen-overload-resolution/">blog</a>.</p>
<p><figure id="attachment_32544" aria-describedby="caption-attachment-32544" style="width: 1579px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygen.png"><img decoding="async" class="size-full wp-image-32544" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygen.png" alt="A snippet of UE code with doxygen comments" width="1579" height="366" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygen.png 1579w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygen-300x70.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygen-1024x237.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygen-768x178.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygen-1536x356.png 1536w" sizes="(max-width: 1579px) 100vw, 1579px" /></a><figcaption id="caption-attachment-32544" class="wp-caption-text">The cope snippet above shows an overloaded function with Doxygen comments.</figcaption></figure></p>
<p>&nbsp;</p>
<p><figure id="attachment_32545" aria-describedby="caption-attachment-32545" style="width: 875px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenbefore.png"><img decoding="async" class="size-full wp-image-32545" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenbefore.png" alt="A quick info tooltip in VS prior to the new feature. It does not show shared descriptions" width="875" height="179" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenbefore.png 875w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenbefore-300x61.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenbefore-768x157.png 768w" sizes="(max-width: 875px) 100vw, 875px" /></a><figcaption id="caption-attachment-32545" class="wp-caption-text"><strong><span style="text-decoration: underline;">[</span>Before<span style="text-decoration: underline;">]</span></strong> Prior to this feature, Visual Studio does not show shared descriptions for overloaded functions.</figcaption></figure>&nbsp;</p>
<p><figure id="attachment_32546" aria-describedby="caption-attachment-32546" style="width: 853px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenafter.png"><img decoding="async" class="size-full wp-image-32546" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenafter.png" alt="A quick info tooltip in VS that shows shared descriptions in overloaded functions" width="853" height="322" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenafter.png 853w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenafter-300x113.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uedoxygenafter-768x290.png 768w" sizes="(max-width: 853px) 100vw, 853px" /></a><figcaption id="caption-attachment-32546" class="wp-caption-text"><strong>[After]</strong> With the new Doxygen improvements, Visual Studio will now show shared descriptions on all overloaded functions.</figcaption></figure>&nbsp;</p>
<h2 id="build-insights-integration">Build Insights Integration</h2>
<p>We are thrilled to announce that Build Insights is now seamlessly integrated. Build Insights provides you with valuable information needed when optimizing your C++ build times. Try it today with your Unreal Engine project!</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights-1.jpg"><img decoding="async" class="aligncenter size-full wp-image-32634" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights-1.jpg" alt="screen shot showing to how run build insights on UE projects" width="1110" height="575" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights-1.jpg 1110w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights-1-300x155.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights-1-1024x530.jpg 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights-1-768x398.jpg 768w" sizes="(max-width: 1110px) 100vw, 1110px" /></a></p>
<p>Start your Build Insights trace capture with the click of a button for your UE project, or selected projects.</p>
<p>&nbsp;</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights.jpg"><img decoding="async" class="aligncenter size-full wp-image-32623" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights.jpg" alt="Screenshot of Build Insights integration window" width="1208" height="508" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights.jpg 1208w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights-300x126.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights-1024x431.jpg 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsights-768x323.jpg 768w" sizes="(max-width: 1208px) 100vw, 1208px" /></a></p>
<p>After compilation, Build Insights will both generate a diagnostic report that enables you to identify costly includes and provide you with an option to navigate directly to header files.</p>
<p>&nbsp;</p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsightswpa.jpg"><img decoding="async" class="aligncenter size-full wp-image-32624" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsightswpa.jpg" alt="Screenshot of the build insights integration window" width="932" height="716" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsightswpa.jpg 932w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsightswpa-300x230.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/uebuildinsightswpa-768x590.jpg 768w" sizes="(max-width: 932px) 100vw, 932px" /></a></p>
<p>For power users, you can open Windows Performance Analyzer (WPA) from within the report.</p>
<p>We are working hard to continually improve Build Insights Integration. What you see today is only the beginning! For more information, please see this <a href="https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/">blog</a>.</p>
<p>&nbsp;</p>
<h2 id="performance-boosts-for-c-game-development">Performance Boosts for C++ Game Development</h2>
<p>Since our <a href="https://devblogs.microsoft.com/cppblog/faster-cpp-source-code-indexing/">blog</a> last year, the team has continued to work on additional performance improvements for large C++ projects. We have significantly sped-up Solution Load and Solution Close scenarios. In addition, the time it takes to parse C++ solutions for the first time is also greatly reduced. Lastly, we made further improvements for the time it takes to get to your code. While these improvements are significant for large projects, you should still notice a speedup if your project is smaller in nature. For more information, please visit this <a href="https://devblogs.microsoft.com/visualstudio/visual-studio-2022-17-6-performance-enhancements/">Visual Studio blog</a>.</p>
<p>&nbsp;</p>
<h3 id="testing-methodology">Testing Methodology</h3>
<p>We used a real-world AAA Unreal Engine 5 game to benchmark the performance improvements in Visual Studio 2022. We measured the scenarios by capturing internal logs. The graphs below illustrate the improvements over the course of one year, from version 17.2 in May 2022 to version 17.6 in May 2023. To replicate real-world game developer workflow, we used a gaming PC with high RAM and core count.</p>
<p>&nbsp;</p>
<h3 id="results">Results</h3>
<p><figure id="attachment_32538" aria-describedby="caption-attachment-32538" style="width: 2585px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnload.png"><img decoding="async" class="size-full wp-image-32538" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnload.png" alt="A bar chart showing VS performing faster in C++ Solution parse, and solution load" width="2585" height="1264" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnload.png 2585w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnload-300x147.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnload-1024x501.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnload-768x376.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnload-1536x751.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnload-2048x1001.png 2048w" sizes="(max-width: 2585px) 100vw, 2585px" /></a><figcaption id="caption-attachment-32538" class="wp-caption-text">When Parsing C++ solutions for the first time, you will see the task complete 3.2x faster. There are also improvements when loading a solution for the first (cold) time, and subsequent times (warm).</figcaption></figure></p>
<p><figure id="attachment_32537" aria-describedby="caption-attachment-32537" style="width: 2595px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnclose.png"><img decoding="async" class="size-full wp-image-32537" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnclose.png" alt="A bar graph showing VS performing faster for solution close, colorization and search" width="2595" height="1213" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnclose.png 2595w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnclose-300x140.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnclose-1024x479.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnclose-768x359.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnclose-1536x718.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/slnclose-2048x957.png 2048w" sizes="(max-width: 2595px) 100vw, 2595px" /></a><figcaption id="caption-attachment-32537" class="wp-caption-text">For both closing the solution for the first (cold) time, and subsequent times (warm), you will see Visual Studio complete the task 1.9X and 2.2X faster, respectively.</figcaption></figure></p>
<p>&nbsp;</p>
<h3 id="impact-analysis">Impact Analysis</h3>
<p>Our biggest performance improvement is a 3.2x speed-up in Visual Studio&#8217;s parsing of C++ projects during the first run. We received valuable feedback from game developers on how to enhance this area, and we&#8217;re eager to hear how much more productive you&#8217;ll be when opening projects for the first time.</p>
<p>Next, thanks to community and game developer feedback, we allocated additional resources to focus on the Solution Load and Close scenarios. We heard that these are important workflow scenarios, especially from those who may open and close solutions multiple times a day. While the numerical reduction is a few seconds, we hope that this improvement will further improve productivity and reduce mental task switching throughout the day.</p>
<p>Lastly, we have made additional performance improvements to colorization and search on top of previous improvements. Please stay tuned as we continue to make investments in the performance of Visual Studio in these areas.</p>
<p>&nbsp;</p>
<h1 id="feedback-wanted">Feedback Wanted!</h1>
<p>With the latest Unreal Engine Integrations in Visual Studio 2022 17.7 Preview 2, we aim to empower game developers and enhance their productivity through innovative and powerful tools. Our dedication to this goal is ongoing and this release is just one step towards our vision of a streamlined game development process. Your feedback has been instrumental in shaping our development path.  Whether or not you use Unreal Engine to develop your games, we encourage you to continue to share your thoughts and ideas with us by reaching out through Developer Community, surveys, Twitter (@VisualC), or email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>. Thank you for your continued support. Together, we can drive game development to new heights with Visual Studio 2022.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/partnering-with-the-coalition/">Partnering with The Coalition to Bring Unreal Engine Find All Blueprint References to Visual Studio 2022</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/partnering-with-the-coalition/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Visualize Macro Expansion for C++</title>
		<link>https://devblogs.microsoft.com/cppblog/visualize-macro-expansion-for-c/</link>
					<comments>https://devblogs.microsoft.com/cppblog/visualize-macro-expansion-for-c/#comments</comments>
		
		<dc:creator><![CDATA[Mryam Girmay]]></dc:creator>
		<pubDate>Thu, 13 Jul 2023 16:41:05 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Game Development]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32586</guid>

					<description><![CDATA[<p>We are excited to announce the availability of Visualize Macro Expansion in Visual Studio 17.7 Preview. This feature lets you visualize the step-by-step expansion of macros. To begin utilizing this feature, ensure that you update to the latest version of Visual Studio Preview.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/visualize-macro-expansion-for-c/">Visualize Macro Expansion for C++</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>We are excited to announce the availability of Visualize Macro Expansion in Visual Studio 17.7 Preview. This feature lets you visualize the step-by-step expansion of macros. To begin utilizing this feature, ensure that you update to the latest version of Visual Studio Preview.</p>
<p><div style="text-align:center"><a class="cta_button_link" href="https://visualstudio.microsoft.com/vs/preview/" style="text-transform: titlecase; display: inline-block; background-color: #5C2D91; color: white; padding: 10px; margin:10px 0; text-decoration: none;" target="_blank">Download Visual Studio Preview  </a></div></p>
<h3 id="visualize-macro-expansion">Visualize Macro Expansion</h3>
<p>Visual Studio has introduced an enhanced Macro Expansion feature. This feature brings significant benefits, enabling you to comprehend and review complex multi-level macro expansions in a step-by-step manner. When you hover over a macro, you can access Quick Info, which now includes the Visualize Expansion link in addition to the Copy and Expand Inline options. The Visual Expansion will enable you to visualize the preprocessor passes of the expansion.</p>
<p><figure id="attachment_32589" aria-describedby="caption-attachment-32589" style="width: 1379px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Visualize_Expansion_Link.png"><img decoding="async" class="size-full wp-image-32589" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Visualize_Expansion_Link.png" alt="Image of Visualize Expansion." width="1379" height="599" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Visualize_Expansion_Link.png 1379w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Visualize_Expansion_Link-300x130.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Visualize_Expansion_Link-1024x445.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Visualize_Expansion_Link-768x334.png 768w" sizes="(max-width: 1379px) 100vw, 1379px" /></a><figcaption id="caption-attachment-32589" class="wp-caption-text">Image of Visualize Expansion.</figcaption></figure></p>
<p>The Visual Expansion link opens a new window that initially displays the first step of macro expansion. By utilizing the arrows next to the expansion step numbers, you can easily navigate through the subsequent steps of the expansion. This feature proves especially valuable in scenarios involving nested macros with lengthy expansions. In cases where nested macros have long expansions, this feature will help to precisely identify the actions taking place at each step, facilitating a deeper understanding of the macro&#8217;s behavior. </span><span class="NormalTextRun SCXW234140103 BCX8" data-ccp-charstyle="normaltextrun">Ultimately, this</span><span class="NormalTextRun SCXW234140103 BCX8" data-ccp-charstyle="normaltextrun"> feature </span><span class="NormalTextRun SCXW234140103 BCX8" data-ccp-charstyle="normaltextrun">greatly enhances</span><span class="NormalTextRun SCXW234140103 BCX8" data-ccp-charstyle="normaltextrun"> the efficiency of your debugging efforts, enabling you to pinpoint and resolve issues more effectively. </span></span><span class="TextRun SCXW234140103 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW234140103 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;2d7dabfc-e829-4638-80ba-daf00f88ebc6|36&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW234140103 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></p>
<p><figure id="attachment_32587" aria-describedby="caption-attachment-32587" style="width: 2208px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/visualize_macro_expansion_V2.gif"><img decoding="async" class="size-full wp-image-32587" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/visualize_macro_expansion_V2.gif" alt=" Gif for visualizing macro expansion process. " width="2208" height="1146" /></a><figcaption id="caption-attachment-32587" class="wp-caption-text">Gif for visualizing macro expansion process.</figcaption></figure></p>
<h3 id="send-us-your-feedback"><span class="TextRun SCXW14679085 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW14679085 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;2d7dabfc-e829-4638-80ba-daf00f88ebc6|35&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Send us your feedback!</span></span></h3>
<p><span class="TextRun SCXW63791614 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;2d7dabfc-e829-4638-80ba-daf00f88ebc6|35&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Download</span><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun"> the </span></span><a class="Hyperlink SCXW63791614 BCX8" href="https://visualstudio.microsoft.com/vs/preview/" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW63791614 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="Hyperlink">latest version of Visual Studio Preview</span><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="Hyperlink">,</span></span></a><span class="TextRun SCXW63791614 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"> <span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun">and </span><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun">try out</span><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun"> Visualize Macro Expansion</span><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun">. </span><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun">We would love to hear your thoughts, so please share your feedback</span><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun"> in the comments below, on </span></span><a class="Hyperlink SCXW63791614 BCX8" href="https://developercommunity.visualstudio.com/cpp" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW63791614 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="Hyperlink">Developer Community</span></span></a><span class="TextRun SCXW63791614 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun">, or reach out to us on Twitter (</span></span><a class="Hyperlink SCXW63791614 BCX8" href="https://twitter.com/visualc" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW63791614 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="Hyperlink">@VisualC</span></span></a><span class="TextRun SCXW63791614 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun">) or via email at </span></span><a class="Hyperlink SCXW63791614 BCX8" href="mailto:visualcpp@microsoft.com" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW63791614 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="Hyperlink">visualcpp@microsoft.com</span></span></a><span class="TextRun SCXW63791614 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="normaltextrun">. Your input is highly appreciated!</span></span><span class="TextRun SCXW63791614 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW63791614 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;2d7dabfc-e829-4638-80ba-daf00f88ebc6|36&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW63791614 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/visualize-macro-expansion-for-c/">Visualize Macro Expansion for C++</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/visualize-macro-expansion-for-c/feed/</wfw:commentRss>
			<slash:comments>8</slash:comments>
		
		
			</item>
		<item>
		<title>#include cleanup in Visual Studio</title>
		<link>https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/</link>
					<comments>https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/#comments</comments>
		
		<dc:creator><![CDATA[Mryam Girmay]]></dc:creator>
		<pubDate>Tue, 11 Jul 2023 17:00:13 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Game Development]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32556</guid>

					<description><![CDATA[<p>Visual Studio 17.7 Preview 3 introduces a new feature aimed at enhancing your productivity. We are thrilled to announce the release of #include cleanup, a tool that helps you maintain clean code. To start using this feature, make sure to update to the latest version of Visual Studio Preview. </p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/">#include cleanup in Visual Studio</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><span class="TextRun SCXW163033654 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun CommentStart CommentHighlightPipeRest CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Visual Studio 17.7 Preview 3 introduces </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">a </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">new </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">feature</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> aimed at enhancing your productivity. We are thrilled to announce the release of </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">#</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">include</span> <span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">c</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">leanup</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">, a </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">tool that helps you </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">maintain</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> clean code</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">.</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> To start using </span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">this</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> feature</span><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun">, make sure to update to the latest version of Visual Studio Preview.</span></span><span class="TextRun SCXW163033654 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun CommentHighlightRest SCXW163033654 BCX8" data-ccp-charstyle="normaltextrun"> </span></span></p>
<p><div style="text-align:center"><a class="cta_button_link" href="https://visualstudio.microsoft.com/vs/preview/" style="text-transform: titlecase; display: inline-block; background-color: #5C2D91; color: white; padding: 10px; margin:10px 0; text-decoration: none;" target="_blank">Download Visual Studio Preview  </a></div></p>
<h3 id="include-cleanup"><span class="TextRun SCXW84681502 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW84681502 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">#include cleanup</span></span><span class="TextRun SCXW84681502 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW84681502 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|13&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW84681502 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></h3>
<p>Visual Studio now offers #include cleanup, a feature that improves the quality of your code by generating suggestions to remove unused headers and add direct headers. Our suggested workflow is to first go through the direct include suggestions to add direct headers where indirect headers are used, followed by removing the unused includes.</p>
<h4 id="remove-unused-include-statements"><span class="TrackChangeTextInsertion TrackedChange TrackChangeHoverSelectColorRed SCXW140775236 BCX8"><span class="TrackedChange SCXW140775236 BCX8"><span class="TextRun SCXW140775236 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun TrackChangeHoverSelectHighlightRed SCXW140775236 BCX8" data-ccp-parastyle="heading 2">Remove unused </span></span></span></span><span class="TrackChangeTextInsertion TrackedChange TrackChangeHoverSelectColorRed SCXW140775236 BCX8"><span class="TrackedChange SCXW140775236 BCX8"><span class="TextRun SCXW140775236 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun TrackChangeHoverSelectHighlightRed SCXW140775236 BCX8" data-ccp-parastyle="heading 2">#include statements</span></span></span></span><span class="EOP SCXW140775236 BCX8" data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h4>
<p>This feature provides suggestions to remove unused headers from your files, enhancing code cleanliness. When an unused include is detected, it is visually dimmed by default. By hovering over the dimmed include, a quick action (indicated by three dots in the default view) prompt will appear, notifying you about the unused include in the file. You can click on the light bulb to remove the unused include or all unused includes. This makes it easier to clean up your code and ensures that you keep only the necessary includes to keep your code well-organized.</p>
<p><figure id="attachment_32557" aria-describedby="caption-attachment-32557" style="width: 1266px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/remove_unused_includes.gif"><img decoding="async" class="size-full wp-image-32557" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/remove_unused_includes.gif" alt="Gif showing remove unused includes." width="1266" height="633" /></a><figcaption id="caption-attachment-32557" class="wp-caption-text">Gif showing remove unused includes.</figcaption></figure></p>
<h4 id="add-transitively-used-include-statements"><span class="TrackChangeTextInsertion TrackedChange SCXW151690853 BCX8"><span class="TrackedChange SCXW151690853 BCX8"><span class="TextRun SCXW151690853 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW151690853 BCX8" data-ccp-parastyle="heading 2">Add </span></span></span></span><span class="TrackChangeTextInsertion TrackedChange SCXW151690853 BCX8"><span class="TrackedChange SCXW151690853 BCX8"><span class="TextRun SCXW151690853 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW151690853 BCX8" data-ccp-parastyle="heading 2">transitively used #include statements</span></span></span></span><span class="EOP TrackedChange SCXW151690853 BCX8" data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h4>
<p>In Visual Studio, there is an existing feature that alerts users when an include is used but not added to the file. This is indicated by a squiggle and suggests adding the required include. Currently, we have added a new feature that provides suggestions for adding direct includes when your file has indirect dependencies. Including indirect dependencies can result in longer compilation times. However, with the help of direct include suggestions, you can optimize compilation time by including only the essential direct dependencies.</p>
<p><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">In instances where the direct include for certain content is missing, a quick action (</span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">indicated</span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun"> by three dots in the default view)</span> will appear. Hovering over it will inform you that content from that transitive include is being used. <span class="TextRun SCXW128197081 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">Then, you have the </span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">option</span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun"> to either </span><span class="NormalTextRun CommentStart CommentHighlightPipeRest CommentHighlightRest SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">add the direct include individually</span><span class="NormalTextRun CommentHighlightPipeRest SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun"> or </span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">add</span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun"> all transitively used </span><span class="NormalTextRun SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">includes</span></span><span class="TrackChangeTextInsertion TrackedChange TrackChangeHoverSelectColorRed SCXW128197081 BCX8"><span class="TextRun SCXW128197081 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun TrackChangeHoverSelectHighlightRed SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">. By choosing to include all transitively used includes, all the </span></span></span><span class="TrackChangeTextInsertion TrackedChange TrackChangeHoverSelectColorRed SCXW128197081 BCX8"><span class="TextRun SCXW128197081 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun TrackChangeHoverSelectHighlightRed SCXW128197081 BCX8" data-ccp-charstyle="normaltextrun">direct headers will be automatically added wherever indirect headers are used in the file.</span></span></span> After including the direct dependencies, it is crucial to remove any unused includes, retaining only those that are necessary.</p>
<p><figure id="attachment_32560" aria-describedby="caption-attachment-32560" style="width: 2060px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/transitively_used_includes.gif"><img decoding="async" class="size-full wp-image-32560" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/transitively_used_includes.gif" alt="Gif showing add direct include suggestion." width="2060" height="487" /></a><figcaption id="caption-attachment-32560" class="wp-caption-text">Gif showing add direct include suggestion.</figcaption></figure></p>
<p>To quickly perform code cleanup, you can configure code cleanup by adding “Add transitively used and remove unused #include statements (C++)”. Once this setup is complete, you&#8217;ll have the convenience of adding all transitively used includes and removing all unused includes with just a single click on the broom icon. This streamlines the process and ensures that your code remains clean.</p>
<p><figure id="attachment_32561" aria-describedby="caption-attachment-32561" style="width: 2233px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/code_cleanup_entry.gif"><img decoding="async" class="wp-image-32561 size-full" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/code_cleanup_entry.gif" alt="Gif displaying Configure Code Cleanup " width="2233" height="1578" /></a><figcaption id="caption-attachment-32561" class="wp-caption-text">Gif displaying Configure Code Cleanup.</figcaption></figure></p>
<p>By default, #include cleanup is disabled, but you can enable it by navigating to Tools &gt; Options &gt; Text Editor &gt; C/C++ &gt; IntelliSense and selecting &#8220;Enable #include cleanup.&#8221; Once enabled, you have the flexibility to adjust the settings and configure different levels to meet your specific needs and preferences.</p>
<p><figure id="attachment_32562" aria-describedby="caption-attachment-32562" style="width: 2915px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable.png"><img decoding="async" class="wp-image-32562 size-full" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable.png" alt="Image displaying Code cleanup setting. " width="2915" height="2112" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable.png 2915w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-300x217.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-1024x742.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-768x556.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-1536x1113.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/07/Code_cleanup_enable-2048x1484.png 2048w" sizes="(max-width: 2915px) 100vw, 2915px" /></a><figcaption id="caption-attachment-32562" class="wp-caption-text">Image displaying code cleanup setting.</figcaption></figure></p>
<h3 id="customization-options">Customization Options</h3>
<p>You have the flexibility to customize how the #include cleanup generates suggestions, allowing it to seamlessly adapt and integrate with intricate and extensive codebases. By making these changes or adjustments, you can ensure that the process better aligns with the specific needs and complexities of your project, resulting in a more efficient and effective code cleanup. In the EditorConfig (<a class="Hyperlink SCXW70620419 BCX8" href="https://learn.microsoft.com/en-us/visualstudio/ide/create-portable-custom-editor-options?view=vs-2022" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW70620419 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW70620419 BCX8" data-ccp-charstyle="Hyperlink">EditorConfig settings</span></span></a>), you can add a single header, and if you want to include multiple headers, you should separate them using commas.</p>
<h5 id="exclude-files"><span class="TextRun SCXW29901305 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun CommentStart SCXW29901305 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Exclude Files</span></span><span class="EOP SCXW29901305 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></h5>
<p>To exclude specific includes from #include cleanup suggestions, you can utilize EditorConfig. This allows you to categorize and define which files should not be considered for suggestions, providing greater control over the suggestions generated by #include cleanup.
Examples of excluding single and multiple files (exclude <code class="language-cpp">vcruntime.h</code> and <code class="language-cpp">vcruntime_string.h</code> from cleanup suggestions):</p>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_excluded_files = vcruntime.h</code></pre>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_excluded_files = vcruntime.h,vcruntime_string.h</code></pre>
<h5 id="required-files">Required Files</h5>
<p>In cases where headers require other headers, and you don&#8217;t want suggestions generated, you can specify the dependencies in the EditorConfig. This ensures that required files won&#8217;t be marked as unused.
Examples of single and multiple required files (<code class="language-cpp">atlwin.h</code> requires <code class="language-cpp">altbase.h</code> and <code class="language-cpp">atlcom.h</code> requires <code class="language-cpp">altbase.h</code>):</p>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_required_files = atlwin.h:altbase.h</code></pre>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_required_files = atlwin.h:altbase.h,atlcom.h:altbase.h</code></pre>
<h5 id="files-replacement"><span class="TextRun SCXW100896032 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW100896032 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Files Replacement</span></span></h5>
<p>This feature also supports the remapping of facade headers. If a file is intended to represent a different file, you can redirect the usage of the first file to the usage of the second file in EditorConfig.
Examples of single and multiple replaced files (replace <code class="language-cpp">stdio.h</code> by <code class="language-cpp">cstdio</code>, and replace <code class="language-cpp">stdint.h</code> by <code class="language-cpp">cstdint</code>):</p>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_replacement_files = stdio.h:cstdio</code></pre>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_replacement_files = stdio.h:cstdio,stdint.h:cstdint</code></pre>
<h5 id="alternate-files"><span class="TextRun SCXW264697628 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW264697628 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Alternate Files</span></span><span class="TextRun SCXW264697628 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW264697628 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|13&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW264697628 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></h5>
<p>In certain situations, you may have alternative options for including a file, such as facade files. When the usage of one file can be considered as an alternative to the usage of another file, you can specify this relationship in EditorConfig. By doing so, you can prevent #include cleanup from generating suggestions for alternate matches.
Examples of single and multiple alternate files (<code class="language-cpp">windows.h</code> is an alternate for <code class="language-cpp">minwindef.h</code> and <code class="language-cpp">windows.h</code> is an alternate for <code class="language-cpp">winerror.h</code>):</p>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_alternate_files = windows.h:minwindef.h</code></pre>
<pre class="prettyprint language-default"><code class="language-default">cpp_include_cleanup_alternate_files = windows.h:minwindef.h,windows.h:winerror.h</code></pre>
<h3 id="send-us-your-feedback"><span class="TextRun SCXW201451968 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW201451968 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Send us your feedback!</span></span><span class="TextRun SCXW201451968 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW201451968 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|13&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW201451968 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></h3>
<p><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|12&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;normaltextrun&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;normaltextrun&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}">Explore </span><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">#</span><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">Include Cleanup by downloading the </span></span><a class="Hyperlink SCXW255712242 BCX8" href="https://visualstudio.microsoft.com/vs/preview/" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">latest version of Visual Studio Preview</span></span></a><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">.</span><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun"> We genuinely value your feedback as it plays a crucial role in shaping our development process. </span><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">Please share your thoughts in the comments below, on </span></span><a class="Hyperlink SCXW255712242 BCX8" href="https://developercommunity.visualstudio.com/cpp" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">Developer Community</span></span></a><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">, or reach out to us on Twitter (</span></span><a class="Hyperlink SCXW255712242 BCX8" href="https://twitter.com/visualc" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">@VisualC</span></span></a><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">) or via email at </span></span><a class="Hyperlink SCXW255712242 BCX8" href="mailto:visualcpp@microsoft.com" target="_blank" rel="noreferrer noopener"><span class="TextRun Underlined SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">visualcpp@microsoft.com</span></span></a><span class="TextRun SCXW255712242 BCX8" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="normaltextrun">. Your input is highly appreciated!</span></span><span class="TextRun SCXW255712242 BCX8" lang="EN-029" xml:lang="EN-029" data-contrast="none"><span class="NormalTextRun SCXW255712242 BCX8" data-ccp-charstyle="eop" data-ccp-charstyle-defn="{&quot;ObjectId&quot;:&quot;66dbb666-5f50-4e5b-9628-36f655bc3212|13&quot;,&quot;ClassId&quot;:1073872969,&quot;Properties&quot;:[469775450,&quot;eop&quot;,201340122,&quot;1&quot;,134233614,&quot;true&quot;,469778129,&quot;eop&quot;,335572020,&quot;1&quot;,469778324,&quot;Default Paragraph Font&quot;]}"> </span></span><span class="EOP SCXW255712242 BCX8" data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:0,&quot;335559739&quot;:0,&quot;335559740&quot;:240}"> </span></p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/">#include cleanup in Visual Studio</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/include-cleanup-in-visual-studio/feed/</wfw:commentRss>
			<slash:comments>22</slash:comments>
		
		
			</item>
		<item>
		<title>AddressSanitizer continue_on_error</title>
		<link>https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/</link>
					<comments>https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/#comments</comments>
		
		<dc:creator><![CDATA[Jim Radigan]]></dc:creator>
		<pubDate>Thu, 29 Jun 2023 15:06:12 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[New User]]></category>
		<category><![CDATA[Pure Virtual C++]]></category>
		<category><![CDATA[Writing Code]]></category>
		<category><![CDATA[address sanitizer]]></category>
		<category><![CDATA[ASan]]></category>
		<category><![CDATA[C++ CI/CD]]></category>
		<category><![CDATA[C++ memory safety]]></category>
		<category><![CDATA[checked]]></category>
		<category><![CDATA[checked builds]]></category>
		<category><![CDATA[continue]]></category>
		<category><![CDATA[continue on error]]></category>
		<category><![CDATA[continue_on_error]]></category>
		<category><![CDATA[memory safety]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32499</guid>

					<description><![CDATA[<p>Visual Studio 17.6 comes with new functionality in the Address Sanitizer runtime which provides a new “checked build” for C and C++. This new runtime mode diagnoses and reports hidden memory safety errors, with zero false positives, as your app runs.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/">AddressSanitizer continue_on_error</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Visual Studio 17.6 comes with new functionality in the Address Sanitizer runtime which provides a new “checked build” for C and C++. This new runtime mode diagnoses and reports hidden memory safety errors, with zero false positives, as your app runs.</p>
<h1 id="introduction"><span style="font-size: 18pt;">Introduction</span></h1>
<p>C++ <a href="https://learn.microsoft.com/en-us/cpp/sanitizers/asan?view=msvc-170#error-types">memory safety errors</a> are a <a href="#post-32499-_Top_Concern_–">top concern</a> for the industry. In Visual Studio 17.6, we deliver a new experimental Address Sanitizer feature: continue_on_error (COE). We’ll remove the experimental label in 17.8. You compile as before, by simply adding the compiler flag <code>-fsanitize=address</code>. With 17.6 you can enable the COE functionality by setting environment variables from the command line.</p>
<p>To stream unique memory safety errors to stdout(1) or stderr(2):</p>
<ul>
<li>set ASAN_OPTIONS=continue_on_error=1</li>
<li>set ASAN_OPTIONS=continue_on_error=2</li>
</ul>
<p>To stream to a log file of your choice:</p>
<ul>
<li>set COE_LOG_FILE=your.file.log</li>
</ul>
<p>When you opt into the new continue on error (COE) feature, your application automatically diagnoses and reports unique memory safety errors as it runs. At program exit, the runtime produces a <a href="#post-32499-_Example">final summary</a> that follows the unique detailed reports normally produced by the Address Sanitizer.</p>
<p>The compiler instruments your binaries to work with the address sanitizer runtime to diagnose hidden memory safety errors. You can add the <code>-fsanitize=address -Zi</code> compiler flags and set the <code>ASAN_OPTIONS</code> or <code>COE_LOG_FILE</code> environment variable with values shown previously. You can then build and run your existing tests to exercise your code to find hidden memory-safety errors.</p>
<p>This new COE functionality provides a “checked build” for C and C++ that finds hidden memory safety errors with zero false positives.</p>
<p><span style="font-size: 18pt;">Hidden memory safety errors</span></p>
<p>The source code in Figure 1 which follows creates a buffer overflow due to the off-by-one error in the loop exit test. The code should check for <code>ii &lt; sz</code>, but instead checks for <code>ii &lt;= sz</code>. When the example runs, it is <strong>secure by coincidence</strong>. That’s because of the over-allocation and alignment done by most C++ runtime implementations. When<code> sz % 16 == 0</code>, the final write to <code>local</code> corrupts data. In other cases only read/write to the “malloc slop” which is due to the C Runtime (CRT), padding allocations out to a <code>0 mod 16</code> aggregate boundary.</p>
<p>Errors will only be observable if the following page is unmapped, or upon some subsequent use of corrupted data. All other cases are silent in the Figure 1 example that follows.</p>
<pre class="prettyprint language-default"><code class="language-default">#include &lt;stdlib.h&gt; 
char* func(char* buf, size_t sz) { 
    char* local = (char*)malloc(sz); 
    for (auto ii = 0; ii &lt;= sz; ii++) { // bad loop exit test 
        local[ii] = ~buf[ii]; // Two memory safety errors 
    } 
    return local; 
} 

char original[10] = { 0,1,2,3,4,5,6,7,8,9 }; 

void main() {   
    char* inverted_buf= func(original,10); 
}</code></pre>
<p style="padding-left: 400px; text-align: left;"><span style="font-size: 10pt;"><strong>Figure 1</strong></span></p>
<p>In this example, where the parameter <code>sz</code> is 10 and the original buffer is 10-bytes, there are two memory safety errors: one is an out-of-bounds load from <code>buf</code> and the other is an out-of-bounds store to <code>local</code>. With <code>continue_on_error</code>, you will see both errors in the summary, and the program will run to completion. Here’s the summary:</p>
<p><img decoding="async" class="alignnone wp-image-32503" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4.png" alt="Terminal showing two memory safety issues being found" width="1430" height="397" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4.png 1430w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4-300x83.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4-1024x284.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-program-description-au-4-768x213.png 768w" sizes="(max-width: 1430px) 100vw, 1430px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 2</strong></span></p>
<p>Note that <code>continue_on_error</code> reports two distinct errors that occur on the same source line. The first error reads memory at a global address in the <code>.data</code> section, and the other writes to memory allocated from the heap.</p>
<p><span style="font-size: 18pt;">Description</span></p>
<p>The default Address Sanitizer runtime behavior terminates your application after reporting the first error encountered while running your program. It does not allow the “bad” machine instruction to execute. COE is a customer-requested change significantly different compared to the “one-n-done” behavior of the existing Address Sanitizer runtime. The new Address Sanitizer runtime diagnoses and reports errors, but then executes subsequent instructions.</p>
<p>The new COE functionality allows an application to <strong>continue running while reporting</strong> unique memory safety errors to a log file or to the command line. When enabled, COE tries to automatically return control back to the application after reporting each memory safety error, except for an access violation (AV) or failed memory allocation. With COE, you can compile and deploy an existing application into limited production to find memory safety issues while running for days (albeit slower).</p>
<p>By adding compiler flags and setting an environment variable, you can immediately improve correctness and security. Your existing tests will still pass but will <strong><em>also</em></strong> uncover hidden memory safety errors. The compiler option (<code>-fsanitizer=address</code>) and runtime environment flag can be used to introduce a new “shipping gate.” Subsequently COE can then be used with all your existing tests. The developer gets a simple, well-defined, pass/fail for shipping any C or C++ app on Windows.</p>
<p>Internally we have found that using this technology significantly reduces memory safety errors. If all your existing tests pass, <strong><em>but</em></strong> this new feature reports a memory safety error or a leak, don’t ship your new code or integrate it into a parent branch.</p>
<p><span style="font-size: 18pt;"><strong>Example</strong></span></p>
<pre style="padding-left: 160px;">#include &lt;cstdio&gt;
#include &lt;string&gt;

struct Base {
    //virtual ~Base() = default;
};

struct Derived : public Base {
    std::wstring Value = L"Leaked if Base destructor is not virtual!";
};

constexpr size_t PointDims = 3;
double pointsInGlobalData[PointDims] = { 1.0, 2.0, 3.0 };

int main() {

  pointsInGlobalData[3] = 3.0;

  for (int i = 0; i &lt; 2; i++) {
    double pointOnStack[PointDims] = { 1.0, 2.0, 3.0 };
    pointOnStack[-1] = 3.0;
    pointOnStack[PointDims] = 0.0;

    double* pointOnHeap = new double[PointDims + 100000];
    pointOnHeap[-1] = 4.0;
    delete[] pointOnHeap;

    double* pointDouble = new double[PointDims] { 1.0, 2.0, 3.0 };
    pointDouble[PointDims] = 4.0; // overflow
    delete[] pointDouble;         // we continue
    Base* base = new Derived();
    delete base; // missing virtual destructor

    constexpr size_t buff_size = 128;
    char* buffer = new char[buff_size];
    std::memset(buffer, '\0', buff_size);
    std::memset(&amp;buffer[buff_size - 28], '=', 30);
  }
  wprintf_s(L"Loop completed! \r\n");
}</pre>
<p style="padding-left: 440px;"><span style="font-size: 10pt;"><strong>Figure 3</strong></span></p>
<p>With <code>continue_on_error</code>, the program in Figure 3 above, produces the summary in Figure 4. That summary is printed<strong><em> after</em></strong> streaming all unique detailed error reports which are produced using the existing default mode of the Address Sanitizer. The existing default mode is “one-n-done”. The previous Address Sanitizer only prints one detailed error report, and then exits your process. With <code>continue_on_error</code>, we continue to execute after various memory safety errors. This summary illustrates continuing after many memory safety errors:</p>
<p><img decoding="async" class="alignnone wp-image-32504" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica.png" alt="Console showing 7 unique memory safety issues being found" width="1685" height="1072" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica.png 1685w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica-300x191.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica-1024x651.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica-768x489.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/a-screenshot-of-a-computer-description-automatica-1536x977.png 1536w" sizes="(max-width: 1685px) 100vw, 1685px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 4</strong></span></p>
<p>Beneath the first red box at the top of Figure 4, there are three files sorted by error. This is followed by the file, function, and line displayed beneath the second box. The third box calls out eight unique errors, where &#8220;unique&#8221; is defined in terms of a hash function which uses call stacks and error descriptions. Use of the term <a href="#post-32499-_Unique">unique</a> is discussed in the next section.</p>
<p>The detailed error reports (omitted in the screen capture in Figure 4) are printed before this summary and contain shadow bytes with all the details for each error in the summary.</p>
<p><span style="font-size: 18pt;">Unique</span></p>
<p>The uniqueness of an error (to limit streaming duplicates) is determined by an internal <strong>hash function</strong> that uses the type of error and the call stack(s) at the time of error. A detailed individual error report includes stack trace(s). Here are the two detailed errors in the “secure by coincidence” example in Figure 1. The call stacks and types of errors are used to internally create an internal C++ error object, which is then hashed to a unique integer. The global-buffer-overflow in Figure 5 only has one call stack and is a different type of error object from the heap-buffer-overflow in Figure 6, which has two call stacks.</p>
<p><img decoding="async" width="2415" height="500" class="wp-image-32505" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3.png 2415w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-300x62.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-1024x212.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-768x159.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-1536x318.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-3-2048x424.png 2048w" sizes="(max-width: 2415px) 100vw, 2415px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 5</strong></span></p>
<p><img decoding="async" width="2450" height="770" class="wp-image-32506" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4.png 2450w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-300x94.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-1024x322.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-768x241.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-1536x483.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-4-2048x644.png 2048w" sizes="(max-width: 2450px) 100vw, 2450px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 6</strong></span></p>
<p>The runtime will hash each occurrence of an error at runtime in order to prevent duplication. Consider a <a href="https://learn.microsoft.com/en-us/cpp/sanitizers/asan?view=msvc-170#error-types">memory-safety</a> error that’s executed 10000 times in a loop. The detailed error will be reported once, but its “hit count” of 1000 will be reported in the summary.</p>
<p><span style="font-size: 18pt;">Not continuing.</span></p>
<p>Two examples where the continue on error feature <strong><em>cannot continue</em></strong> are:</p>
<ul>
<li>Malloc is given an undefined argument, such as a negative number.</li>
<li>There’s an access violation while trying to read or write to memory that hasn’t been allocated, or to which it doesn’t have access.</li>
</ul>
<p>Consider the following program which has an access violation because it tries to <strong>read from location <code>0x13</code></strong>:</p>
<pre style="padding-left: 160px;">#include &lt;stdio.h&gt;

void main()
{
    unsigned int* local_ptr = (unsigned int*) 0x13;
    printf("use of undefined address %p [%x]\n", local_ptr, *local_ptr);
}</pre>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 7</strong></span></p>
<p>On Windows 11, when the example in Figure 7 above, is compiled with <code>-fsanitize=address -Zi</code>, you’ll see the following error message in Figure 8, below.</p>
<p><img decoding="async" class="alignnone wp-image-32507" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5.png" alt="CONTINUE CANCELLED - Deadly Signal. Shutting down." width="1531" height="451" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5.png 1531w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5-300x88.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5-1024x302.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/word-image-32499-5-768x226.png 768w" sizes="(max-width: 1531px) 100vw, 1531px" /></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><strong>Figure 8</strong></span></p>
<p>We choose to “gracefully cancel” the attempt to continue from access violations that are <strong>not</strong> caught with a user’s structured exception handling.</p>
<h1 id="matching-undefined-behavior"><span style="font-size: 18pt;">Matching undefined behavior</span></h1>
<p>We haven’t been able to do a complete audit that would allow us to “match” undefined behaviors for C and C++. The following example in Figure 9, makes this tangible. At the commented line in the following code example, code generation from the compiler and the runtime implementation are both different for <code>_alloca </code>when compiling with <code>-fsanitize=address -Zi</code>:</p>
<pre style="padding-left: 280px;">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;malloc.h&gt;
#include &lt;excpt.h&gt;
#include &lt;windows.h&gt;

#define RET_FINISH 0
#define RET_STACK_EXCEPTION 1
#define RET_OTHER_EXCEPTION 2

int foo_redundant(unsigned long arg_var) {

  char *a;
  int ret = -1;

  __try
  {
    if ((arg_var+3) &gt; arg_var) {
<strong>      // Call to alloca using parameter from main</strong>
<strong>      a = (char *) _alloca(arg_var); </strong>
      memset(a, 0, 10);
    }
    ret = RET_FINISH;
  }
  __except(1)
  {
    ret = RET_OTHER_EXCEPTION;
    int i = GetExceptionCode();
    if (i == EXCEPTION_STACK_OVERFLOW) {
      ret = RET_STACK_EXCEPTION;
    }
  }  
  return ret;
}

void main(){ 
  int cnt = 0;
  if (foo_redundant(0xfffffff0) == RET_STACK_EXCEPTION)
<b>    cnt++; //increment count of </b><span style="font-size: 14.4px;"><b>exceptions</b></span><b> handled.</b>

  if (cnt == 1)
    printf("pass\n");
  else
    printf("fail\n");
}</pre>
<p style="padding-left: 400px;"><span style="font-size: 10pt;"><strong>Figure 9</strong></span></p>
<p>The previous example, in Figure 9, prints <strong>pass</strong> without <code>-fsanitize=address</code>. That’s because<code> cnt==1 </code>due to an exception. It will fail when compiled with that flag and run with the Address Sanitizer runtime. In <code>main()</code> we pass a large number to <code>foo_redundant</code>, which is passed to <code>_alloca()</code>.</p>
<p>With the Address Sanitizer in <code>continue_on_error</code> (COE) mode, this program runs to completion, but prints <strong>fail</strong>. The code generation from the compiler must match the ABI for the Address Sanitizer runtime. For the Address Sanitizer runtime, the compiler grows the allocation size and aligns it 0 mod 32 (a cache line). That math will cause an integer overflow (i.e., wrap around) creating a reasonable, small positive number as the parameter to <code>_alloca</code>.</p>
<p><strong>There will be no stack overflow exception to process the <code>__except</code> handler.` </strong></p>
<p>We have not had time to document or clearly define the subtle differences when a program has undefined behavior. This was a reason for releasing <code>continue_on_error</code> as experimental at first.</p>
<p><strong>NOTE: The frequency with which this concern has become visible, has been rare with our testing infrastructure.</strong></p>
<h1><a id="post-32499-_Top_Concern_–"></a><span style="font-size: 18pt;">Top Concern – don’t ship without it.</span></h1>
<p>There were six categories of C++ <a href="https://learn.microsoft.com/en-us/cpp/sanitizers/asan?view=msvc-170#error-types">memory safety</a> errors in the 2021 Common Weakness Enumeration (CWE) <a href="https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fcwe.mitre.org%2Ftop25%2Farchive%2F2021%2F2021_cwe_top25.html&amp;data=05%7C01%7Cjradigan%40microsoft.com%7C9962b611c58546f2df3308db4add742b%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638186087241566753%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=ZWphesh6v9f2PKasnd2qxKrq26EebWpv8Tb6JK1RFXg%3D&amp;reserved=0">Top 25 Most Dangerous Software Weaknesses</a>. The best <a href="https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fpwnies.com%2Fwinners%2F&amp;data=05%7C01%7Cjradigan%40microsoft.com%7C9962b611c58546f2df3308db4add742b%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638186087241566753%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=%2BbYI%2FqxTAHAPZzkmdmnFgpaQ%2Bb4%2B1a953XrBDUVZ9OI%3D&amp;reserved=0">Remote Code Execution Bug</a> was a 20 year old heap-buffer-overflow. This award in 2022 went to BugHunter010 at Cyber KunLun Lab. This engineer discovered a heap-buffer-overflow vulnerability in the RPC protocol with CVSS score 9.8. This bug has existed in the Windows system for more than 20 years. There are new C++ memory safety bugs introduced daily because traditional testing can’t expose these types of bugs without compiler and runtime support.</p>
<p>This new feature is designed to enable developers to implement a simple new gate for shipping C++ on Windows. Using this technology will significantly reduce memory safety errors. If your tests pass but continue_on_error reports any hidden memory safety errors, you should not ship or integrate new code into the development branch.<a id="post-32499-_Hidden_memory_safety"></a></p>
<p><strong>We intend that continue_on_error be used as pass/fail gate, for all CI/CD pipelines using C and C++.</strong></p>
<h1 id="call-to-action"><span style="font-size: 18pt;">Call To Action</span></h1>
<p>We invite you to install the 17.6 version of <a href="https://visualstudio.microsoft.com/downloads/">Visual Studio</a> or later, try out the continue on error feature, and give us <a href="https://developercommunity.visualstudio.com/home">feedback</a><a id="post-32499-_Dynamic_vs._Static"></a>.</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/">AddressSanitizer continue_on_error</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/addresssanitizer-continue_on_error/feed/</wfw:commentRss>
			<slash:comments>3</slash:comments>
		
		
			</item>
		<item>
		<title>C++ Extension in VS Code 1.16 Release: Call Hierarchy &#038; more</title>
		<link>https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/</link>
					<comments>https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/#respond</comments>
		
		<dc:creator><![CDATA[Alexandra Kemper]]></dc:creator>
		<pubDate>Wed, 28 Jun 2023 16:40:16 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32445</guid>

					<description><![CDATA[<p>The 1.16 version of the C++ Extension in VS Code has now been shipped. With this version of the extension, we are releasing one of our most upvoted GitHub feature requests – Call Hierarchy. We also added new functionality when creating declarations and definitions that allows you to copy the declaration/definition and specify its placement in code,</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/">C++ Extension in VS Code 1.16 Release: Call Hierarchy &#038; more</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><span data-contrast="auto">The </span><a href="https://github.com/microsoft/vscode-cpptools/releases/tag/v1.16.2"><span data-contrast="auto">1.16 version</span></a><span data-contrast="auto"> of the C++ Extension in VS Code has now been shipped. With this version of the extension, </span><span data-contrast="auto">we are releasing one of our </span><a href="https://github.com/microsoft/vscode-cpptools/issues/16"><span data-contrast="none">most upvoted GitHub feature requests</span></a><span data-contrast="auto"> – Call Hierarchy. </span><span data-contrast="auto">We also added new functionality when creating declarations and definitions that allows you to copy the declaration/definition and specify its placement in code, as well as adding other code enhancements. For the full list of changes, please reference the </span><a href="https://github.com/microsoft/vscode-cpptools/releases/tag/1.16.0"><span data-contrast="none">1.16 release notes.</span></a><span data-contrast="auto"> </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:300,&quot;335559739&quot;:300,&quot;335559740&quot;:259}"> </span></p>
<h3 aria-level="2" aria-level="2" id="call-hierarchy"><b><span data-contrast="none">Call Hierarchy </span></b><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h3>
<p aria-level="2"><span data-contrast="auto">With call hierarchy, you can now easily navigate your codebase, especially when trying to understand the complex calling relationships between functions. This might be a familiar experience if you have used call hierarchy in Visual Studio. Here you can see it in action: </span><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></p>
<p aria-level="2"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Call_Hierarchy.gif"><img decoding="async" class="aligncenter wp-image-32446" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Call_Hierarchy.gif" alt="The gif shows a user navigating to their call hierarchy by right clicking a function with a Quick Fix available, then selecting &quot;Show Call Hierarchy&quot;. This opens a side bar with all the calls. The user then clicks on the phone icon in the menu of the side bar to toggle between calls from and calls to for that function." width="634" height="497" /></a></p>
<h4 aria-level="2" aria-level="2" id="how-can-you-view-the-call-hierarchy"><span data-contrast="none">How can you view the call hierarchy? </span><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h4>
<p><span data-contrast="auto">To view the call hierarchy, right-click a function to display the context menu and select <strong>Show Call Hierarchy</strong>. This will populate the call tree in the side bar with all of the functions called by your selected function. Toggle the phone icon in the side bar menu to switch to incoming calls. Incoming calls will show whenever your function is referenced by another function.</span></p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425.jpg"><img decoding="async" class="aligncenter wp-image-32448 " src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425.jpg" alt="Image showing that the command in the context menu to look for is called &quot;show call hierarchy&quot;" width="405" height="196" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425.jpg 770w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425-300x145.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Context_Menu_Call_Hierarchy-e1687557041425-768x371.jpg 768w" sizes="(max-width: 405px) 100vw, 405px" /></a></p>
<p><span data-contrast="auto">You can also invoke the command palette (Ctrl + Shift + P) and run the command <strong>Calls: Show Call Hierarchy</strong> to display the call hierarchy side bar. </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:300,&quot;335559739&quot;:240,&quot;335559740&quot;:240}"> </span></p>
<p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette.jpg"><img decoding="async" class="aligncenter wp-image-32447" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette-1024x115.jpg" alt="Image that shows that the command for call hierarchy in the command palette is called &quot;show call hierarchy&quot;." width="604" height="68" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette-1024x115.jpg 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette-300x34.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette-768x86.jpg 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/call_hierarchy_command_palette.jpg 1428w" sizes="(max-width: 604px) 100vw, 604px" /></a></p>
<p><span data-contrast="auto">Additionally, you can explore nested calls by selecting a function already shown in the call tree and right-clicking on that function to view the available commands. </span></p>
<p><a style="color: #006f94; text-decoration-line: underline; outline-width: 0px;" href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy.jpg"><img decoding="async" class="aligncenter wp-image-32450" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy.jpg" alt="Image shows that if you right click on a function displayed in the call hierarchy call tree, you will be able access another menu which gives you the option to find incoming/outgoing calls for that sub function" width="405" height="196" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy.jpg 814w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy-300x145.jpg 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Nested_Calls_Call_Hierarchy-768x372.jpg 768w" sizes="(max-width: 405px) 100vw, 405px" /></a></p>
<p>&nbsp;</p>
<h3 aria-level="2" aria-level="2" id="copy-declaration-definition"><b><span data-contrast="none">Copy Declaration/Definition</span></b><span data-ccp-props="{&quot;134245418&quot;:true,&quot;134245529&quot;:true,&quot;201341983&quot;:0,&quot;335559738&quot;:40,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></h3>
<p><span data-contrast="auto">After releasing the Create Declaration/Definition feature in </span><a href="https://github.com/microsoft/vscode-cpptools/releases/tag/v1.13.6"><span data-contrast="none">version 1.13.6,</span></a><span data-contrast="auto"> you can now also copy that declaration or definition. Rather than using “Create Declaration/Definition” to automatically add a generated declaration or definition to a location chosen by the extension, “Copy Declaration/Definition” will copy the declaration or definition to your clipboard instead. This gives you the option to decide where exactly in your code you would like to paste the copied declaration or definition.  </span><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"> </span></p>
<p><span data-contrast="auto">To copy a definition or declaration, select a function that has a Quick Fix available (three dots under the function name), then select the Code Action (lightbulb icon) on the left. This will open the Code Action options, where you can select “Copy definition of ‘YourFunctionName’” or “Copy declaration of ‘YourFunctionName’” depending on which is being created. </span><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"> </span></p>
<p><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335551550&quot;:2,&quot;335551620&quot;:2,&quot;335559739&quot;:160,&quot;335559740&quot;:259}"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Copy_DeclDef_Feature.gif"><img decoding="async" class="aligncenter wp-image-32449 " src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Copy_DeclDef_Feature.gif" alt="Gif showing that when you are creating a declaration/definition, when you click on the function, rather than selecting &quot;create declaration&quot; you will select &quot;copy declaration&quot; and vice versa for declarations." width="747" height="521" /></a></span></p>
<p><span data-contrast="auto">If the Declaration/Definition is not formatted for you when you paste, you can turn on auto formatting by navigating to the settings editor (Ctrl + ,) and searching for </span><b><span data-contrast="auto">Format On Paste</span></b><span data-contrast="auto">. Enabling this will automatically formal all items you paste into the editor. </span><span data-contrast="none"> </span> <span data-contrast="auto"> </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335559738&quot;:300,&quot;335559739&quot;:0,&quot;335559740&quot;:259}"> </span></p>
<h3 id="what-do-you-think"><b><span data-contrast="auto">What do you think?</span></b><span data-contrast="auto"> </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559738&quot;:0,&quot;335559739&quot;:240,&quot;335559740&quot;:259}"> </span></h3>
<p><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools"><span data-contrast="auto">Download the C/C++ extension for Visual Studio Code </span></a><span data-contrast="auto"> today, give it a try, and let us know what you think. </span><span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559738&quot;:0,&quot;335559739&quot;:240,&quot;335559740&quot;:259}"> </span></p>
<p><span data-contrast="auto">If you have any questions around this release, feel free to start a discussion in </span><a href="https://github.com/microsoft/vscode-cpptools/discussions"><span data-contrast="auto">our GitHub repository.</span></a><span data-contrast="auto"> Otherwise, if you run into any issues, please report them in the  </span><a href="https://github.com/Microsoft/vscode-cpptools/issues"><span data-contrast="auto">issues section</span></a><span data-contrast="auto">. We can be reached via the comments below, per email at  </span><a href="mailto:visualcpp@microsoft.com"><span data-contrast="auto">visualcpp@microsoft.com,</span></a><span data-contrast="auto"> or through our team on Twitter at  </span><a href="https://twitter.com/visualc"><span data-contrast="auto">@</span></a><a href="https://twitter.com/visualc"><span data-contrast="auto">VisualC.</span></a> <span data-ccp-props="{&quot;134233117&quot;:false,&quot;134233118&quot;:false,&quot;201341983&quot;:0,&quot;335551550&quot;:1,&quot;335551620&quot;:1,&quot;335559738&quot;:0,&quot;335559739&quot;:240,&quot;335559740&quot;:259}"> </span></p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/">C++ Extension in VS Code 1.16 Release: Call Hierarchy &#038; more</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/c-extension-in-vs-code-1-16-release-call-hierarchy-more/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>vcpkg integration with the GitHub dependency graph</title>
		<link>https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/</link>
					<comments>https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/#comments</comments>
		
		<dc:creator><![CDATA[Michael Price]]></dc:creator>
		<pubDate>Tue, 27 Jun 2023 19:07:11 +0000</pubDate>
				<category><![CDATA[GitHub]]></category>
		<category><![CDATA[New Feature]]></category>
		<category><![CDATA[Vcpkg]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32491</guid>

					<description><![CDATA[<p>Introducing vcpkg's integration with the GitHub dependency graph</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/">vcpkg integration with the GitHub dependency graph</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>We are excited to share that vcpkg has an experimental feature to provide data to the GitHub dependency graph. We are actively developing this feature and would like to hear your feedback. Let us know if you have any thoughts about the current functionality or would like to see further improvements. If you have feedback on any of the GitHub features that a vcpkg-powered dependency graph enables, let us know that too and we&#8217;ll make sure that it reaches the right folks at GitHub.</p>
<h2 id="about-the-github-dependency-graph">About the GitHub dependency graph</h2>
<p>The GitHub <a href="https://docs.github.com/code-security/supply-chain-security/understanding-your-software-supply-chain/about-the-dependency-graph">dependency graph</a> stores the set of dependencies for a repository. Beyond just being able to visualize what a repository&#8217;s dependencies are, GitHub builds several useful features on top of this data, including <a href="https://docs.github.com/code-security/supply-chain-security/understanding-your-software-supply-chain/about-dependency-review">dependency review</a> and <a href="https://docs.github.com/code-security/dependabot/dependabot-alerts/about-dependabot-alerts">Dependabot alerts</a>.</p>
<h3 id="enabling-the-github-dependency-graph">Enabling the GitHub dependency graph</h3>
<p>Enabling the dependency graph for your repository is a requirement for vcpkg to be able to populate the dependencies for your repository. The dependency graph is enabled by default for public repositories on GitHub. If you want the dependency graph enabled for a private repository, you should follow the <a href="https://docs.github.com/code-security/supply-chain-security/understanding-your-software-supply-chain/configuring-the-dependency-graph#enabling-and-disabling-the-dependency-graph-for-a-private-repository">GitHub documentation to enable the dependency graph</a>.</p>
<p><img decoding="async" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/github-enable-dependencygraph.png" alt="Screenshot showing the button to enable the dependency graph" /></p>
<p>If you are already using reusable actions in your GitHub Actions workflows and the dependency graph is enabled, there&#8217;s a good chance your repository&#8217;s dependency graph already has some dependencies listed. Check it out by selecting <strong>Insights</strong> for your repository and then selecting <strong>Dependency graph</strong>.</p>
<p><img decoding="async" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/github-insights-dependencygraph.png" alt="Screenshot of a sample repository's dependency graph" /></p>
<h3 id="techniques-for-populating-the-dependency-graph">Techniques for populating the dependency graph</h3>
<p>There are two ways that the dependency graph may get populated. For some package management systems that have a static list of dependencies that can be fully described in a manifest file, GitHub will automatically scan those manifests once they are pushed into your repository and will begin showing up in the dependency graph.</p>
<p>For package management systems that are more dynamic, the tools used to process the list of dependencies must be involved in determining the complete set of dependencies. The complete set of dependencies for C and C++ are usually highly dependent upon build configuration and target platform. For these ecosystems, GitHub has a <a href="https://docs.github.com/rest/dependency-graph/dependency-submission">dependency submission API</a> that tools can use to provide the dependency information, usually as a part of a GitHub Actions workflow job.</p>
<h2 id="reporting-dependencies-with-vcpkg">Reporting dependencies with vcpkg</h2>
<p>vcpkg integration with the GitHub dependency graph can be enabled by adding the value <code>dependencygraph</code> to the <code>VCPKG_FEATURE_FLAGS</code> environment variable within your GitHub Actions workflow file that runs vcpkg (either directly or indirectly via CMake). You must also modify your workflow file to set the <code>GITHUB_TOKEN</code> environment variable with the value <code>${{ secrets.GITHUB_TOKEN }}</code> and request permission for the workflow job to write the dependency information into your repository&#8217;s metadata by including the following YAML snippet near the top of your workflow file.</p>
<pre><code class="language-YAML">permissions:
  contents: write</code></pre>
<p>Once those changes have been made, and your workflow runs again, you should begin to see the dependencies in your vcpkg.json manifest listed in the <strong>Dependency graph</strong> section on GitHub.</p>
<p>See our documentation at <a href="https://aka.ms/vcpkg-dependency-graph">GitHub integration &#8211; The GitHub dependency graph</a> for more information.</p>
<h3 id="examples">Examples</h3>
<p>A <a href="https://aka.ms/vcpkg-dependency-graph-example">live example template repository</a> is on GitHub if you want to try it out in a clean project. If you want to try it out on an existing project, see the workflow files defined below that shows the changes you need to make to enable the feature.</p>
<p>Both workflow examples below work with the <code>vcpkg.json</code> and <code>main.cpp</code> files listed here.</p>
<p><strong>vcpkg.json</strong></p>
<pre><code class="language-json">{
  "name": "your-project",
  "version-string": "0.0.1",
  "dependencies": [
    "fmt"
  ]
}</code></pre>
<p><strong>main.cpp</strong></p>
<pre><code class="language-cpp">#define FMT_HEADER_ONLY
#include "fmt/color.h"

int main(int argc, char** argv)
{
    fmt::print(
        fg(fmt::color::light_salmon),
        "¡Hola, Mundo!\n"
    );
}</code></pre>
<p><br/></p>
<h4 id="indirectly-through-cmake-integration">Indirectly through CMake integration</h4>
<p>Add the following files to test the vcpkg dependency graph integration when using CMake.</p>
<p><strong>CMakeLists.txt</strong></p>
<pre><code class="language-cmake">cmake_minimum_required(VERSION 3.15)

project(your-project CXX)
find_package(fmt REQUIRED)
set(CMAKE_CXX_STANDARD 20)

add_executable(hola main.cpp)

target_link_libraries(hola
  PRIVATE
    fmt::fmt)</code></pre>
<p><strong>.github/workflows/cmake.yml</strong></p>
<pre><code class="language-yaml">name: Example that uses CMake integration

on:
  workflow_dispatch:

###############################################################################
# Add this section to your workflow file does not already have it to enable
# the job to write the dependency metadata.
###############################################################################
permissions:
  contents: write

###############################################################################
# Add these environment variables to your workflow to enable the vcpkg
# dependency graph integration.
###############################################################################
env:
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  VCPKG_FEATURE_FLAGS: dependencygraph

jobs:
  cmake:
    runs-on: ubuntu-latest

    # These steps assume an appropriate version of vcpkg is listed as a
    # submodule in your git repo. If it is not, you must update this workflow
    # to obtain it.

    steps:
      - uses: actions/checkout@v3
        with:
          submodules: 'recursive'  

      - name: Bootstrap vcpkg
        run: ${{ github.workspace }}/vcpkg/bootstrap-vcpkg.sh

      - name: Configure with CMake
        run: |
          cmake -B build -S ${{ github.workspace }} \
          -DCMAKE_TOOLCHAIN_FILE=${{ github.workspace }}/vcpkg/scripts/buildsystems/vcpkg.cmake

      - name: Build with CMake
        run: cmake --build build

      - name: Hola, amigos
        run: ${{ github.workspace }}/build/hola</code></pre>
<p><br/></p>
<h4 id="directly-calling-vcpkg-install">Directly calling <code>vcpkg install</code></h4>
<p>Add the following file to test the vcpkg dependency graph integration with workflows that call <code>vcpkg install</code> directly.</p>
<p><strong>.github/workflows/build.yml</strong></p>
<pre><code class="language-yaml">name: Example that directly invokes `vcpkg install`

on:
  push:
    branches: [ main ]
  workflow_dispatch:

###############################################################################
# Add this section to your workflow file does not already have it to enable
# the job to write the dependency metadata.
###############################################################################
permissions:
  contents: write

###############################################################################
# Add these environment variables to your workflow to enable the vcpkg
# dependency graph integration.
###############################################################################
env:
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  VCPKG_FEATURE_FLAGS: dependencygraph

jobs:
  build:
    runs-on: ubuntu-latest

    # These steps assume an appropriate version of vcpkg is listed as a
    # submodule in your git repo. If it is not, you must update this workflow
    # to obtain it.

    steps:
      - uses: actions/checkout@v3
        with:
          submodules: 'recursive'  

      - name: Bootstrap vcpkg
        run: ${{ github.workspace }}/vcpkg/bootstrap-vcpkg.sh

      - name: Directly invoke `vcpkg install`
        run: ${{ github.workspace }}/vcpkg/vcpkg install

      - name: Build with G++
        run: g++ -I${{ github.workspace }}/vcpkg_installed/x64-linux/include -o hola main.cpp

      - name: Hola, amigos
        run: ${{ github.workspace }}/hola</code></pre>
<h2 id="call-to-action">Call to action</h2>
<p>We are gathering feedback from users to determine the improvements we need to make to consider this integration fully supported. This is the foundation for opening up really powerful, Enterprise-grade dependency management for our users, and we are excited to have you all try it out. You can find the feature and the latest bug fixes in the most recent commit to the <a href="https://github.com/microsoft/vcpkg" rel="noopener" target="_blank">vcpkg</a> default branch.</p>
<p>As usual, if you have feedback, leave us a comment below or contact us on Twitter (<a href="https://twitter.com/visualc">@VisualC</a>) or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/">vcpkg integration with the GitHub dependency graph</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/vcpkg-integration-with-the-github-dependency-graph/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
			</item>
		<item>
		<title>Using Key Events with warning C26800</title>
		<link>https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/</link>
					<comments>https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/#respond</comments>
		
		<dc:creator><![CDATA[Dmitry Kobets]]></dc:creator>
		<pubDate>Mon, 26 Jun 2023 16:19:51 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Documentation]]></category>
		<category><![CDATA[Experimental]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32325</guid>

					<description><![CDATA[<p>Here's how you can use Key Events to fix warning C26800</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/">Using Key Events with warning C26800</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><a href="https://devblogs.microsoft.com/cppblog/microsoft-cpp-code-analysis-warnings-with-key-events/">MSVC&#8217;s Code Analysis Key Events</a> are a useful tool for quickly getting to the root-cause of your static analysis warnings. This blog post highlights how Key Events may be used with warning <a href="https://learn.microsoft.com/cpp/code-quality/c26800?view=msvc-170"><code>C26800</code></a> <code>Use of a moved from object</code> to quickly narrow down the problematic code.</p>
<h2 id="c26800-warning-recap">C26800 warning recap</h2>
<p>Warning C26800 catches code that attempts to use an object that is in a moved-from state:</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
int main()
{
    std::string string_owner = "this string will be moved!";
    std::string new_string_owner = std::move(string_owner);
    std::cout &lt;&lt; string_owner &lt;&lt; std::endl; // Warning C26800 Use of a moved from object: ''string_owner'' (lifetime.1).
}</code></pre>
<p>Instead of <code>this string will be moved!</code>, the print statement in the above example will produce an empty output line when run.</p>
<p>The move from <code>string_owner</code> into <code>new_string_owner</code> happens on the line <em>immediately</em> preceding its use in the print statement, so it&#8217;s instantly clear why the output is incorrect. But this is a trivial example. Real world code is rarely this straightforward.</p>
<h2 id="a-more-complex-example-sans-key-events">A more complex example, sans Key Events</h2>
<p>Consider a more convoluted example. The following code defines a function that is not only significantly longer than in the first code snippet, but is also littered with all sorts of intervening business logic (represented by <code>// ...</code>).</p>
<pre><code class="language-cpp">#include &lt;string&gt;
void take_ownership(std::string&amp;&amp;) { /* ... */ }
void use_string(std::string) { /* ... */ }
void my_buggy_function(bool some_condition, bool some_other_condition)
{
    std::string my_string{ "this is a string!" };
    bool my_flag{ false };

    // ...

    if (some_condition)
    {
        take_ownership(std::move(my_string)); // (a)
    }

    // ...

    if (some_other_condition) // (b)
    {
        my_flag = true;

        // ...

        my_string = "the string is reset"; // (c)

        // ...
    }

    // ...

    if (my_flag &amp;&amp; !some_other_condition) // (d)
    {
        take_ownership(std::move(my_string)); // (e)
    }

    // ...

    use_string(my_string); // Use of a moved from object: ''my_string'' (lifetime.1). (f)
}</code></pre>
<p>As in the simple example, a developer tasked with solving this bug will be looking to answer the question: where is <code>my_string</code> moved? A natural approach would likely be to start on line <code>(f)</code>, and to scan backwards through the code. This process would look something like:</p>
<ul>
<li>Starting at the warning location and looking a few lines up, the <code>take_ownership(std::move(my_string));</code> on line <code>(e)</code> immediately offers itself up as the culprit. To realize that this is a red-herring requires evaluating the condition on line <code>(d)</code>, which requires tracing even higher up into the function&#8217;s depths, delving further into the confusing business logic.</li>
<li>Eventually, once satisfied that the move on line <code>(e)</code> is actually unreachable (oops!), the developer recommences the upwards traversal, eventually landing on the <code>move</code> on line <code>(a)</code>. But not before noticing the write to <code>my_string</code> on line <code>(c)</code>.</li>
<li>The developer must now solve the puzzle of why this re-assignment (on line <code>(c)</code>) is not preventing the warning all the way down on line <code>(f)</code>.</li>
<li>After spending far too long running back and forth through the code, the developer finally convinces themselves that it might be possible for the condition on line <code>(b)</code> to be false, thus skipping the reset on line <code>(c)</code>. The mystery is finally solved.</li>
</ul>
<p>There must be an easier way. Enter Key Events.</p>
<h2 id="solution-made-simple-with-key-events">Solution made simple with Key Events</h2>
<p>As of Visual Studio 17.5 Preview 1, Key Events have been enabled for the warning C26800. Using the <a href="https://devblogs.microsoft.com/cppblog/microsoft-cpp-code-analysis-warnings-with-key-events/#presentation-of-key-events-through-sarif-viewer-extension">Microsoft SARIF Viewer extension</a>, this check can now precisely explain its assumptions and reasoning to the curious developer, all via inline annotations in the buggy code!</p>
<p><img decoding="async" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/sarif_extension.png" alt="Key Events with warning C26800" /></p>
<p>These Key Events offer precisely the troublesome code path that the developer was searching for and (eventually) arrived at via manual inspection of the function&#8217;s code. Notably, we see that the check:</p>
<ul>
<li>is concerned with the move on line <code>(a)</code>, helpfully noting that its guarding condition <code>some_condition</code> could be <code>true</code></li>
<li>points out that there is nothing stopping the conditions on line <code>(b)</code> and <code>(d)</code> from being <code>false</code></li>
</ul>
<p>The buggy control flow leading to the usage of the moved-from <code>my_string</code> variable is therefore immediately made clear to the satisfied developer, and the investigation time is greatly reduced.</p>
<h2 id="summary">Summary</h2>
<p>Prior to the addition of Key Events to MSVC&#8217;s warning C26800, complex code made it hard to debug and get to the root-cause of the warning. Now, with Key Events enabled by default for warning C26800, developers can much more easily identify and resolve instances of use-after-free warnings in their code. This feature was enabled in Visual Studio 17.5 Preview 1, so please <a href="https://visualstudio.microsoft.com/vs/features/cplusplus/">download a recent version</a> and try it out. You can share your thoughts and comments with us through <a href="https://developercommunity.visualstudio.com/cpp">Developer Community</a>, Twitter (<a href="https://twitter.com/visualc">@VisualC</a>), or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/">Using Key Events with warning C26800</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/using-key-events-with-warning-c26800/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Build Insights Now Available in Visual Studio 2022</title>
		<link>https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/</link>
					<comments>https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/#respond</comments>
		
		<dc:creator><![CDATA[Nelson Daniel Troncoso]]></dc:creator>
		<pubDate>Thu, 15 Jun 2023 16:00:03 +0000</pubDate>
				<category><![CDATA[Announcement]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Game Development]]></category>
		<category><![CDATA[New Feature]]></category>
		<guid isPermaLink="false">https://devblogs.microsoft.com/cppblog/?p=32372</guid>

					<description><![CDATA[<p>Introduction<br />
We&#8217;re excited to announce that Build Insights is now integrated with Visual Studio 2022! Available in Visual Studio 2022 17.7 Preview 2, Build Insights provides critical information of your development environment. Using the analysis created by Build Insights, you will now have the power to effectively optimize your build times,</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/">Build Insights Now Available in Visual Studio 2022</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p>We&#8217;re excited to announce that <a href="https://devblogs.microsoft.com/cppblog/introducing-c-build-insights/">Build Insights</a> is now integrated with Visual Studio 2022! Available in Visual Studio 2022 17.7 Preview 2, Build Insights provides critical information of your development environment. Using the analysis created by Build Insights, you will now have the power to effectively optimize your build times, especially large projects like AAA games. With Build Insights now integrated with Visual Studio, you will be able to capture your ETL trace and see your build analytics from within Visual Studio with only a few clicks. As a first step, you will be able to use the <strong>Include File</strong> and <strong>Include Tree</strong> views to analyze and optimize your #include usage. Additionally, you no longer need to install external components or run vcperf from the command line. Build Insights integration will work for both MSBuild and CMake projects.</p>
<p><div style="text-align:center"><a class="cta_button_link" href="https://visualstudio.microsoft.com/vs/preview" style="text-transform: titlecase; display: inline-block; background-color: #5C2D91; color: white; padding: 10px; margin:10px 0; text-decoration: none;" target="_blank">Download Visual Studio 2022 17.7 Preview 2</a></div></p>
<p>We are deeply grateful to everyone, especially our game developer partners, who shared their feedback on <a href="https://developercommunity.visualstudio.com/t/Have-full-integration-of-Build-Insights/810960">Developer Community</a> and during development of Build Insights. Your invaluable feedback has made all this possible.</p>
<h3 id="getting-started">Getting Started</h3>
<p>Build Insights integration is enabled by default in the Visual Studio Installer. You can find C++ Build Insights in the &#8220;Desktop development with C++&#8221; and &#8220;Game development with C++&#8221; workloads.</p>
<p><figure id="attachment_32382" aria-describedby="caption-attachment-32382" style="width: 300px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2.png"><img decoding="async" class="wp-image-32382 size-medium" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-300x194.png" alt="Find Build Insights in the Desktop Development with C++ Installation Workload" width="300" height="194" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-300x194.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-1024x661.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-768x496.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-1536x991.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer2-e1686788585428-2048x1322.png 2048w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-32382" class="wp-caption-text">Desktop Development with C++ Installation Workload</figcaption></figure></p>
<p><figure id="attachment_32376" aria-describedby="caption-attachment-32376" style="width: 300px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer.png"><img decoding="async" class="wp-image-32376 size-medium" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-300x178.png" alt="Find Build Insights in the Game Development with C++ Installation Workload" width="300" height="178" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-300x178.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-1024x606.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-768x454.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-1536x909.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/installer-2048x1212.png 2048w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-32376" class="wp-caption-text">Game Development with C++ Installation Workload</figcaption></figure></p>
<h3 id="capturing-build-insights-trace">Capturing Build Insights Trace</h3>
<p>To start using Build Insights, first capture a trace by selecting Build from the top menu, followed by either Run Build Insights on Solution, Run Build Insights on [Project_Name], or Run Build Insights on Selection.</p>
<p><figure id="attachment_32399" aria-describedby="caption-attachment-32399" style="width: 300px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790603218.png"><img decoding="async" class="wp-image-32399 size-medium" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200-300x208.png" alt="A picture of the how to start Build Insights. The menu option is located in the Build Menu." width="300" height="208" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200-300x208.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200-1024x711.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200-768x533.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Command_Capture-e1686790724200.png 1043w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-32399" class="wp-caption-text">Build menu for MSBuild projects.</figcaption></figure></p>
<p><figure id="attachment_32397" aria-describedby="caption-attachment-32397" style="width: 300px" class="wp-caption aligncenter"><img decoding="async" class="wp-image-32397 size-medium" style="color: #006f94;" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Screenshot-2023-06-09-104829-300x208.png" alt="A picture of the how to start Build Insights. The menu option is located in the Build Menu. This is different for CMake projects." width="300" height="208" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Screenshot-2023-06-09-104829-300x208.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Screenshot-2023-06-09-104829.png 696w" sizes="(max-width: 300px) 100vw, 300px" /><figcaption id="caption-attachment-32397" class="wp-caption-text">Build menu for CMake projects.</figcaption></figure></p>
<p>&nbsp;</p>
<p>When your build is complete, a trace file will automatically pop up in an Editor Window, providing a visual analysis of your build.</p>
<p>&nbsp;</p>
<p><figure id="attachment_32377" aria-describedby="caption-attachment-32377" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles.png"><img decoding="async" class="wp-image-32377 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1024x399.png" alt="The Included Files view of the Build Insights analysis window" width="640" height="249" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1024x399.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-300x117.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-768x299.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1536x599.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719.png 1850w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32377" class="wp-caption-text">Build Insights analysis window. In this example, it shows the build profile on an open-source project <a href="https://github.com/zaki/irrlicht">Irrlicht</a></figcaption></figure></p>
<p>&nbsp;</p>
<p>To save this trace for future reference, go to &#8216;File&#8217; &gt; &#8216;Save [Trace].etl As&#8230;&#8217;.</p>
<p><figure id="attachment_32387" aria-describedby="caption-attachment-32387" style="width: 262px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/FileMenu-e1686788963245.png"><img decoding="async" class="wp-image-32387 size-medium" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/FileMenu-e1686788963245-262x300.png" alt="You can save the trace in the Visual Studio File Menu" width="262" height="300" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/FileMenu-e1686788963245-262x300.png 262w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/FileMenu-e1686788963245.png 538w" sizes="(max-width: 262px) 100vw, 262px" /></a><figcaption id="caption-attachment-32387" class="wp-caption-text">Visual Studio File Menu</figcaption></figure></p>
<h3 id="parsing-insights-with-included-files-view">Parsing Insights with Included Files View</h3>
<p>In the Included Files View, you&#8217;ll see how each file contributes to the overall build time, determined by the number of times it is parsed. Files that take up 10% or more of the build time will be marked with a flame symbol that indicates priority files for troubleshooting. You can optimize these files using methods like implementing precompiled headers or minimizing unnecessary inclusions. You can refer to this blogpost for a <a href="https://devblogs.microsoft.com/cppblog/faster-builds-with-pch-suggestions-from-c-build-insights/">precompiled header optimization</a>.</p>
<p><figure id="attachment_32377" aria-describedby="caption-attachment-32377" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles.png"><img decoding="async" class="wp-image-32377 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1024x399.png" alt="Image Included Files View" width="640" height="249" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1024x399.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-300x117.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-768x299.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719-1536x599.png 1536w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludedFiles-e1686789822719.png 1850w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32377" class="wp-caption-text">Include Files View: The flame icon indicates that the file might be a bottleneck.</figcaption></figure></p>
<h3 id="diving-deeper-with-include-tree-view">Diving Deeper with Include Tree View</h3>
<p>Include Tree View offers a more granular perspective of your project. It presents the #included hierarchy of all the files in the trace, providing a crystal-clear view of your project&#8217;s structure and highlighting potential areas for improvement. From any view, you can access the selected file by double clicking, pressing enter, or from the context menu of the selected table entry.</p>
<p><figure id="attachment_32391" aria-describedby="caption-attachment-32391" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789145438.png"><img decoding="async" class="wp-image-32391 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414-1024x576.png" alt="A view of the Include Tree in Build Insights Analysis" width="640" height="360" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414-1024x576.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414-300x169.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414-768x432.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/IncludeTreeView-e1686789576414.png 1282w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32391" class="wp-caption-text">Include Tree View: File entries can be expanded to show #included files within that entry.</figcaption></figure></p>
<h3 id="navigation-simplified">Navigation Simplified</h3>
<p>You can navigate to source files by using the context menu, double-clicking, or pressing Enter in any table entry. Also, for those moments when you want to switch your perspective, we added the &#8220;Show in [View]&#8221; option. This functionality enables you to seamlessly transition between the Included Files View and Include Tree View.</p>
<p><figure id="attachment_32394" aria-describedby="caption-attachment-32394" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation.png"><img decoding="async" class="wp-image-32394 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation-1024x528.png" alt="You can right click on a file in the Included Tree view to navigate to source file" width="640" height="330" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation-1024x528.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation-300x155.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation-768x396.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/Navigation.png 1123w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32394" class="wp-caption-text">Context Menu: You can navigate to source or go to the associated entry in another view.</figcaption></figure></p>
<h3 id="designed-for-everyone">Designed for Everyone</h3>
<p>One of the main principles guiding the design of Build Insights is the aim to simplify the process of capturing and visualizing information within the same platform. Nevertheless, based on feedback, we know some users still would like to use WPA to go deeper in their investigation. We simplified that workflow by bundling WPA with the C++ workloads and added a button to open the trace directly within Visual Studio.</p>
<p><figure id="attachment_32395" aria-describedby="caption-attachment-32395" style="width: 640px" class="wp-caption aligncenter"><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button.png"><img decoding="async" class="wp-image-32395 size-large" src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button-1024x766.png" alt="Open in WPA button is located on the bottom right corner of the Build Insights Analysis window" width="640" height="479" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button-1024x766.png 1024w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button-300x224.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button-768x574.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2023/06/WPA-Button.png 1264w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption id="caption-attachment-32395" class="wp-caption-text">You can open WPA from within the Build Insights analysis window.</figcaption></figure></p>
<h3 id="known-issues">Known Issues</h3>
<p>We are aware of a couple of current issues and are actively working to resolve them in the next Visual Studio previews:</p>
<ol>
<li data-leveltext="%1." data-font="Calibri,Arial,游明朝" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:0,&quot;335559684&quot;:-1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769242&quot;:[65533,0],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;%1.&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="1" data-aria-level="1"><strong>(Fixed in 17.7 Preview 3)</strong> Incorrect Flame Icons: For certain projects, especially those with a significant number of parallel tasks, flame icons may erroneously appear for files that don&#8217;t meet the criteria (files taking up 10% or more of the build time).</li>
<li data-leveltext="%1." data-font="Calibri,Arial,游明朝" data-listid="1" data-list-defn-props="{&quot;335552541&quot;:0,&quot;335559684&quot;:-1,&quot;335559685&quot;:720,&quot;335559991&quot;:360,&quot;469769242&quot;:[65533,0],&quot;469777803&quot;:&quot;left&quot;,&quot;469777804&quot;:&quot;%1.&quot;,&quot;469777815&quot;:&quot;hybridMultilevel&quot;}" aria-setsize="-1" data-aria-posinset="1" data-aria-level="1">Empty Project Column: We acknowledge that this is not the intended behavior. We are currently working on a fix.</li>
</ol>
<h3 id="additional-references">Additional References</h3>
<p>To see Build Insights integration in action, please see the following session I recorded for <a href="https://learn.microsoft.com/en-us/events/pure-virtual-cpp-2023/">Pure Virtual C++ Conference 2023</a>.</p>
<p><iframe title="Build Insights in Visual Studio" width="640" height="360" src="https://www.youtube.com/embed/P63jEa85pFg?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></p>
<h3 id="send-us-your-feedback">Send us your feedback!</h3>
<p>We hope Build Insights helps you by providing the critical information needed to optimize your build times and speed up your build iteration time. <a href="https://visualstudio.microsoft.com/vs/preview/">Download the latest preview version of Visual Studio</a> and give it a try.</p>
<p>Please let us know your thoughts and what additional capabilities you’d like to see from this feature next! We are actively developing this feature set and would love to hear what would improve your workflow even more. The comments below are open for us to track any requests. You can also find us on Twitter (<a href="https://twitter.com/visualc">@VisualC</a>) or via email at <a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>. To open a bug, please see <a href="https://developercommunity.visualstudio.com/report?space=8&amp;entry=problem">Visual Studio Feedback</a>.</p>
<p>The post <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/">Build Insights Now Available in Visual Studio 2022</a> appeared first on <a rel="nofollow" href="https://devblogs.microsoft.com/cppblog">C++ Team Blog</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://devblogs.microsoft.com/cppblog/build-insights-now-available-in-visual-studio-2022/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
